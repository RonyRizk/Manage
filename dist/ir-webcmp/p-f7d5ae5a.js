import{c as t}from"./p-16fbf1a7.js";import{c as o}from"./p-f052d412.js";import{l as e}from"./p-dda5a727.js";import{a as r}from"./p-539b691e.js";class n{async fetchData(o,e){try{const n=JSON.parse(sessionStorage.getItem("token"));if(n!==null){const{data:s}=await r.post(`/Get_Exposed_Property?Ticket=${n}`,{id:o,language:e});if(s.ExceptionMsg!==""){throw new Error(s.ExceptionMsg)}const a=s.My_Result;t.adultChildConstraints=a.adult_child_constraints;t.allowedBookingSources=a.allowed_booking_sources;t.allowed_payment_methods=a.allowed_booking_methods;t.currency=a.currency;t.is_vacation_rental=a.is_vacation_rental;t.pickup_service=a.pickup_service;t.max_nights=a.max_nights;t.roomsInfo=a.roomtypes;t.taxes=a.taxes;t.is_frontdesk_enabled=a.is_frontdesk_enabled;return s}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{const t=JSON.parse(sessionStorage.getItem("token"));if(t!==null){const{data:e}=await r.post(`/Get_Exposed_Channels?Ticket=${t}`,{});if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}const n=e.My_Result;o.channels=n;return e}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(t){try{const o=JSON.parse(sessionStorage.getItem("token"));if(o!==null){const{data:n}=await r.post(`/Get_Exposed_Language?Ticket=${o}`,{code:t});if(n.ExceptionMsg!==""){throw new Error(n.ExceptionMsg)}let s=this.transformArrayToObject(n.My_Result.entries);e.entries=s;e.direction=n.My_Result.direction;return{entries:s,direction:n.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}async getExposedConnectedChannels(t){try{const e=JSON.parse(sessionStorage.getItem("token"));if(e!==null){const{data:n}=await r.post(`/Get_Exposed_Connected_Channels?Ticket=${e}`,{property_id:t});if(n.ExceptionMsg!==""){throw new Error(n.ExceptionMsg)}o.connected_channels=n.My_Result}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let o={};for(const e of t){o[e.code]=e.description}return o}}export{n as R};
//# sourceMappingURL=p-f7d5ae5a.js.map