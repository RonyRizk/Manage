import{r as t,c as s,h as i,H as e,g as o}from"./p-05195efb.js";import{R as n}from"./p-1781ecef.js";import{r as a,c as r,o as l,u as c,t as h,s as d,a as p,b as u,d as b}from"./p-9a826b1f.js";import{a as m,l as g}from"./p-16d91b49.js";import{c as f}from"./p-e0273742.js";const x=".loader{width:11px;height:11px;border:2px solid #fff;border-bottom-color:transparent;border-radius:50%;margin:0;padding:0;display:inline-flex;box-sizing:border-box;animation:rotation 1s linear infinite}.button-icon{padding:0;margin-top:0}.button-icon[data-state='loading']{display:none}.button-text{padding:0 5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const w=class{constructor(i){t(this,i);this.clickHanlder=s(this,"clickHanlder",7);this.name=undefined;this.text=undefined;this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_styles=undefined}connectedCallback(){}disconnectedCallback(){}render(){let t=this.btn_block?"btn-block":"";return i("button",{onClick:()=>this.clickHanlder.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} d-flex align-items-center btn-${this.size} text-${this.textSize} ${t}`,type:this.btn_type,disabled:this.btn_disabled},i("span",{class:"button-icon","data-state":this.isLoading?"loading":""},i("slot",{name:"icon"})),this.isLoading&&i("span",{class:"loader m-0 p-0"}),this.text&&i("span",{class:"button-text m-0"},this.text))}};w.style=x;const v=".sc-ir-channel-h{display:block}.dropdown-toggle.sc-ir-channel{color:var(--blue)}.dropdown-toggle.sc-ir-channel::after{content:none;display:none}.dropdown-toggle.sc-ir-channel .caret-icon.sc-ir-channel{transition:transform 0.15s ease-in-out, color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\r\n    -webkit-box-shadow 0.15s ease-in-out}.btn.sc-ir-channel:hover .caret-icon.sc-ir-channel path.sc-ir-channel{fill:#6b6f82}.show.sc-ir-channel .caret-icon.sc-ir-channel{transform:rotate(-180deg)}";const y=class{constructor(s){t(this,s);this.roomService=new n;this.ticket="";this.propertyid=undefined;this.language=undefined;this.baseurl=undefined;this.channel_status=null}componentWillLoad(){if(this.baseurl){m.defaults.baseURL=this.baseurl}if(this.ticket!==""){this.initializeApp()}}async initializeApp(){try{const[,,t]=await Promise.all([this.roomService.fetchData(this.propertyid,this.language),this.roomService.getExposedChannels(),this.roomService.fetchLanguage(this.language)]);console.log(t);if(!g.entries){g.entries=t.entries;g.direction=t.direction}}catch(t){console.error(t)}}async ticketChanged(){sessionStorage.setItem("token",JSON.stringify(this.ticket));this.initializeApp()}render(){var t;return i(e,null,i("section",{class:"p-2"},i("div",{class:"d-flex w-100 justify-content-end mb-2"},i("ir-button",{text:"Create",size:"sm",onClickHanlder:()=>this.channel_status="create"})),i("div",null,i("table",{class:"table"},i("thead",{class:""},i("tr",null,i("th",{scope:"col",class:"text-left"},"Title"),i("th",{scope:"col"},"Channel"),i("th",{scope:"col"},"Status"),i("th",{scope:"col"},"Actions"))),i("tbody",null,(t=r.connected_channels)===null||t===void 0?void 0:t.map((t=>i("tr",{key:t.channel.id},i("th",{scope:"row",class:"text-left"},t.title),i("th",{scope:"row"},t.channel.name),i("td",null,i("ir-switch",{checked:t.is_active})),i("th",null,i("div",{class:"btn-group"},i("button",{type:"button",class:"btn  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i("span",{class:"mr-1"},"Actions"),i("svg",{class:"caret-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:14,width:14},i("path",{fill:"var(--blue)",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),i("div",{class:"dropdown-menu dropdown-menu-right"},i("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Edit"),i("button",{class:"dropdown-item border-bottom border-light",type:"button"},"View logs"),i("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Full Sync"),i("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Pull Future Reservations"),i("button",{class:"dropdown-item",type:"button"},"Remove"))))))))))),i("ir-sidebar",{showCloseButton:false,onIrSidebarToggle:t=>{t.stopImmediatePropagation();t.stopPropagation();this.channel_status=null;a()},open:this.channel_status!==null},this.channel_status&&i("ir-channel-editor",{onCloseSideBar:()=>{this.channel_status=null;a()}})),i("ir-modal",null))}get el(){return o(this)}static get watchers(){return{ticket:["ticketChanged"]}}};y.style=v;const k=".sc-ir-channel-editor-h{display:block;position:relative}nav.sc-ir-channel-editor{z-index:10}.top-border.sc-ir-channel-editor{border-top:1px solid #e4e5ec}.tab-container.sc-ir-channel-editor{overflow-y:auto;padding-right:0;margin-right:0}";const C=class{constructor(i){t(this,i);this.closeSideBar=s(this,"closeSideBar",7);this.selectedTab="";this.headerTitles=[{id:"general_settings",name:"General Settings",disabled:false},{id:"mapping",name:"Mapping",disabled:true},{id:"channel_booking",name:"Channel Booking",disabled:true}];this.selectedRoomType=[]}componentWillLoad(){this.selectedTab=this.headerTitles[0].id;l("isConnectedToChannel",(t=>{if(!!t){this.enableAllHeaders()}}))}handleTabChange(t){t.stopPropagation();t.stopImmediatePropagation();this.selectedTab=t.detail}renderTabScreen(){switch(this.selectedTab){case"general_settings":return i("ir-channel-general",null);case"mapping":return i("ir-channel-mapping",null);case"channel_booking":return i("div",null,"channel booking");default:return null}}enableAllHeaders(){this.headerTitles=this.headerTitles.map(((t,s)=>s<this.headerTitles.length-1?Object.assign(Object.assign({},t),{disabled:false}):t))}disableNonFirstTabs(){this.headerTitles=this.headerTitles.map(((t,s)=>s>0?Object.assign(Object.assign({},t),{disabled:true}):t))}render(){return i(e,{class:" d-flex flex-column h-100"},i("nav",{class:"px-1 position-sticky sticky-top py-1 top-0 bg-white"},i("div",{class:"d-flex align-items-center  justify-content-between"},i("h3",{class:"text-left font-medium-2  py-0 my-0"},"Create Channel"),i("ir-icon",{class:"m-0 p-0 close",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},i("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})))),i("ir-channel-header",{class:"mt-1 px-0",headerTitles:this.headerTitles})),i("section",{class:"py-1 flex-fill tab-container px-1"},this.renderTabScreen()),i("ir-button",{class:"px-1 py-1 top-border",btn_styles:"w-100  justify-content-center",text:g.entries.Lcz_Save}))}};C.style=k;const S=".sc-ir-channel-general-h{display:block}.label-style.sc-ir-channel-general{width:100px}.connection-testing-container.sc-ir-channel-general{display:flex;align-items:center;justify-content:space-between;margin-top:10px !important}.connection-title.sc-ir-channel-general{border-bottom:1px solid #e4e5ec}";const z=class{constructor(s){t(this,s)}render(){var t,s,o;return i(e,null,i("fieldset",{class:"d-flex align-items-center"},i("label",{htmlFor:"",class:"m-0 p-0 label-style"},"Channel:"),i("ir-combobox",{class:"flex-fill",value:(t=r.selectedChannel)===null||t===void 0?void 0:t.name,onComboboxValueChange:t=>{d(t.detail.data.toString())},placeholder:"Choose channel from list",data:r.channels.map((t=>({id:t.id,name:t.name})))})),i("fieldset",{class:"d-flex align-items-center mt-1"},i("label",{htmlFor:"",class:"m-0 p-0 label-style"},"Title:"),i("div",{class:"flex-fill"},i("input",{value:(s=r.channel_settings)===null||s===void 0?void 0:s.hotel_title,onInput:t=>c("hotel_title",t.target.value),class:"form-control  flex-fill"}))),r.selectedChannel&&i("section",{class:"mt-3 connection-container"},i("h3",{class:"text-left font-medium-2  py-0 my-0 connection-title py-1 mb-2"},"Connection Settings"),i("fieldset",{class:"d-flex align-items-center my-1"},i("label",{htmlFor:"",class:"m-0 p-0 label-style"},"Hotel ID:"),i("div",{class:"flex-fill"},i("input",{disabled:r.isConnectedToChannel,class:"form-control  flex-fill bg-white",value:(o=r.channel_settings)===null||o===void 0?void 0:o.hotel_id,onInput:t=>c("hotel_id",t.target.value)}))),i("div",{class:"connection-testing-container"},i("span",null),i("button",{class:"btn btn-outline-secondary btn-sm",onClick:()=>h()},"Test Connection"))))}};z.style=S;const L=".sc-ir-channel-header-h{display:block;position:relative;padding:0;margin:0;border-bottom:1px solid #e4e5ec}ul.sc-ir-channel-header{display:flex;align-items:center;gap:2rem;padding:0}.tab.sc-ir-channel-header{font-size:0.95rem;font-weight:600;cursor:pointer;position:relative;margin:0;padding:0;transition:color 0.3s ease;user-select:none}.tab[data-disabled].sc-ir-channel-header{cursor:auto}.tab.sc-ir-channel-header:hover{opacity:80%}.tab[data-state='selected'].sc-ir-channel-header,.tab[data-state='selected'].sc-ir-channel-header:hover{color:var(--blue);opacity:100%}.active-indicator.sc-ir-channel-header{padding:0;bottom:0px;position:absolute;height:3px;border-radius:4px;transition:transform 0.3s ease, width 0.3s ease;background:var(--blue)}";const M=class{constructor(i){t(this,i);this.tabChanged=s(this,"tabChanged",7);this.headerTitles=[];this.selectedIndex=0}componentDidLoad(){this.updateActiveIndicator()}disconnectedCallback(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}}handleTabSelection(t){this.selectedIndex=t;this.updateActiveIndicator();this.tabChanged.emit(this.headerTitles[this.selectedIndex].id)}updateActiveIndicator(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}requestAnimationFrame((()=>{const t=this.el.querySelector(`li.tab[data-state="selected"]`);if(t){const{left:s,width:i}=t.getBoundingClientRect();const e=this.el.getBoundingClientRect().left;const o=s-e;this.activeIndicator.style.width=`${i}px`;this.activeIndicator.style.transform=`translateX(${o}px)`}}))}render(){return i(e,null,i("ul",null,this.headerTitles.map(((t,s)=>i("li",{class:`tab ${t.disabled?"text-light":""}`,key:t.id,onClick:()=>{if(!t.disabled)this.handleTabSelection(s)},"data-disabled":t.disabled,"data-state":this.selectedIndex===s?"selected":""},t.name)))),i("span",{class:"active-indicator",ref:t=>this.activeIndicator=t}))}get el(){return o(this)}};M.style=L;class _{checkMappingExists(t,s,i){const e=r.mappedChannels.find((s=>s.channel_id===t));if(!e){if(!s){const t=r.mappedChannels.find((t=>t.channel_id.toString()===i));if(!t){return{hide:true,result:undefined}}}return{hide:false,result:undefined}}if(s){return{hide:false,result:f.roomsInfo.find((t=>t.id.toString()===e.ir_id))}}if(!i){throw new Error("Missing room type id")}const o=r.mappedChannels.find((t=>t.channel_id.toString()===i));const n=f.roomsInfo.find((t=>t.id.toString()===o.ir_id));if(!n){throw new Error("Invalid Room type")}return{hide:false,result:n.rateplans.find((t=>t.id.toString()===e.ir_id))}}getAppropriateRooms(t,s){if(t){const t=f.roomsInfo.filter((t=>r.mappedChannels.find((s=>s.ir_id.toString()===t.id.toString()))===undefined&&t.is_active));return t.map((t=>({id:t.id.toString(),name:t.name})))}if(!s){throw new Error("Missing roomType id")}const i=r.mappedChannels.find((t=>t.channel_id.toString()===s));if(!i){throw new Error("Invalid room type id")}const e=f.roomsInfo.find((t=>t.id.toString()===i.ir_id));return e.rateplans.filter((t=>r.mappedChannels.find((s=>t.id.toString()===s.ir_id))===undefined)).map((t=>({id:t.id.toString(),name:t.name})))}}const T=".sc-ir-channel-mapping-h{display:block;box-sizing:border-box}.map-row.sc-ir-channel-mapping{display:flex;align-items:center;justify-content:space-between}.map-row.sc-ir-channel-mapping span.sc-ir-channel-mapping{width:49%}.submap-text.sc-ir-channel-mapping{padding-left:10px}.text-blue.sc-ir-channel-mapping{color:var(--blue)}.text-red.sc-ir-channel-mapping{color:var(--red)}.refresh-btn.sc-ir-channel-mapping{all:unset;color:var(--blue);cursor:pointer}.selected-map.sc-ir-channel-mapping svg.sc-ir-channel-mapping{margin:0 10px 0 0 !important;flex-wrap:wrap}.selected-map.sc-ir-channel-mapping{flex:1}.selected-map-title.sc-ir-channel-mapping{flex:1}";const I=class{constructor(s){t(this,s);this.mappingService=new _;this.activeMapField="";this.availableRooms=[]}setActiveField(t,s,i){const e=this.mappingService.getAppropriateRooms(s,i);if(e){this.availableRooms=e}this.activeMapField=t}renderMappingStatus(t,s,e,o){if(t.hide){return i("span",null)}if(t.result){return i("span",{class:"px-2 text-blue d-flex align-items-center"},i("span",{class:"m-0 p-0 d-flex align-items-center selected-map"},i("span",{class:"selected-map-title"},t.result.name),i("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{fill:"var(--blue)",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})),"2"),i("ir-icon",{class:"ml-1 p-0",onIconClickHandler:()=>p(t.result.id.toString())},i("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{fill:"var(--blue)",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"}))))}return i("span",{class:"px-2"},this.activeMapField===s?i("ir-combobox",{autoFocus:true,placeholder:"Not mapped",data:this.availableRooms,onComboboxValueChange:t=>{console.log(t.detail.data);u(t.detail.data,this.activeMapField);this.activeMapField=""}}):i("span",{class:"cursor-pointer text-danger",onClick:()=>this.setActiveField(s,e,o)},"Not mapped"))}render(){var t,s;return i(e,null,i("div",{class:"d-flex w-100 justify-content-end"},i("button",{onClick:()=>{b()},class:"btn refresh-btn"},"Refresh")),i("ul",{class:"m-0 p-0"},i("li",{class:"map-row my-1"},i("span",{class:"font-weight-bold"},r.selectedChannel.name),i("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),i("span",{class:"font-weight-bold px-2"},"Igloorooms")),(s=(t=r.selectedChannel.property)===null||t===void 0?void 0:t.room_types)===null||s===void 0?void 0:s.map((t=>{const s=this.mappingService.checkMappingExists(t.id,true);return i("li",{key:t.id,class:"mb-1"},i("div",{class:"map-row"},i("span",null,t.name),i("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),this.renderMappingStatus(s,t.id,true)),i("ul",{class:"m-0 p-0"},t.rate_plans.map((s=>{const e=this.mappingService.checkMappingExists(s.id,false,t.id);return i("li",{class:"map-row",key:s.id},i("span",{class:"submap-text"},s.name),!e.hide&&i("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},i("path",{fill:"currentColor",d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),this.renderMappingStatus(e,s.id,false,t.id))}))))}))))}};I.style=T;const H=".sc-ir-combobox-h{display:block;position:relative;padding:0;margin:0}ul.sc-ir-combobox{position:absolute;margin:0;margin-top:2px;width:100%;max-height:80px;border-radius:0.21rem;z-index:10000;padding:1px;background:white;box-shadow:0px 8px 16px 0px rgba(0, 0, 0, 0.2);padding:5px 0;max-height:250px;overflow-y:auto}.dropdown-item.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox,span.sc-ir-combobox,loader-container.sc-ir-combobox{padding:0px 16px;margin:0px;margin-top:2px;width:100%;border-radius:2px}ul.sc-ir-combobox li.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox:hover{background:#f4f5fa}ul.sc-ir-combobox li[data-selected].sc-ir-combobox,ul.sc-ir-combobox li[data-selected].sc-ir-combobox:hover{color:#fff;text-decoration:none;background-color:#666ee8}";const j=class{constructor(i){t(this,i);this.comboboxValueChange=s(this,"comboboxValueChange",7);this.inputCleared=s(this,"inputCleared",7);this.toast=s(this,"toast",7);this.data=[];this.duration=300;this.placeholder=undefined;this.value=undefined;this.autoFocus=false;this.selectedIndex=-1;this.isComboBoxVisible=false;this.isLoading=true;this.isItemSelected=undefined;this.inputValue="";this.filteredData=[];this.componentShouldAutoFocus=false}componentWillLoad(){this.filteredData=this.data}componentDidLoad(){if(this.autoFocus){this.focusInput()}}watchHandler(t,s){if(t!==s&&t===true){this.focusInput()}}handleKeyDown(t){var s;const i=this.data.length;const e=this.getHeightOfPElement();if(i>0){switch(t.key){case"ArrowUp":t.preventDefault();this.selectedIndex=(this.selectedIndex-1+i)%i;this.adjustScrollPosition(e);break;case"ArrowDown":t.preventDefault();this.selectedIndex=(this.selectedIndex+1)%i;this.adjustScrollPosition(e);break;case"Enter":case" ":case"ArrowRight":t.preventDefault();this.selectItem(this.selectedIndex);break;case"Escape":(s=this.inputRef)===null||s===void 0?void 0:s.blur();this.isComboBoxVisible=false;break}}}getHeightOfPElement(){const t=this.el.querySelector(".combobox");if(t){const s=t.querySelector("p");return s?s.offsetHeight:0}return 0}focusInput(){requestAnimationFrame((()=>{var t;(t=this.inputRef)===null||t===void 0?void 0:t.focus()}))}adjustScrollPosition(t,s=250){const i=this.el.querySelector(".combobox");if(i){const e=2;const o=t+e;const n=o*this.selectedIndex;let a=n-s/2+t/2;a=Math.max(0,Math.min(a,i.scrollHeight-s));i.scrollTo({top:a,behavior:"auto"})}}selectItem(t){if(this.filteredData[t]){this.isItemSelected=true;this.comboboxValueChange.emit({key:"select",data:this.filteredData[t].id});this.inputValue="";this.resetCombobox();if(this.autoFocus){this.focusInput()}}}debounceFetchData(){clearTimeout(this.debounceTimer);this.debounceTimer=setTimeout((()=>{this.fetchData()}),this.duration)}handleFocus(){this.isComboBoxVisible=true}clearInput(){this.inputValue="";this.resetCombobox();this.inputCleared.emit(null)}resetCombobox(t=true){var s;if(t){(s=this.inputRef)===null||s===void 0?void 0:s.blur()}this.selectedIndex=-1;this.isComboBoxVisible=false}async fetchData(){try{this.isLoading=true;this.filteredData=this.data.filter((t=>t.name.toLowerCase().startsWith(this.inputValue)))}catch(t){console.log("error",t)}finally{this.isLoading=false}}handleInputChange(t){this.inputValue=t.target.value;if(this.inputValue){this.debounceFetchData()}else{this.filteredData=this.data}}handleDocumentClick(t){const s=t.target;if(!this.el.contains(s)){this.isComboBoxVisible=false}}handleBlur(){this.blurTimout=setTimeout((()=>{if(!this.isItemSelected){this.inputValue="";this.resetCombobox()}else{this.isItemSelected=false}}),300)}isDropdownItem(t){return t&&t.closest(".combobox")}disconnectedCallback(){var t,s,i,e;clearTimeout(this.debounceTimer);clearTimeout(this.blurTimout);(t=this.inputRef)===null||t===void 0?void 0:t.removeEventListener("blur",this.handleBlur);(s=this.inputRef)===null||s===void 0?void 0:s.removeEventListener("click",this.selectItem);(i=this.inputRef)===null||i===void 0?void 0:i.removeEventListener("keydown",this.handleKeyDown);(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener("focus",this.handleFocus)}handleItemKeyDown(t,s){var i;if(t.key==="Enter"||t.key===" "||t.key==="ArrowRight"){this.selectItem(s);t.preventDefault()}else if(t.key==="Escape"){this.isComboBoxVisible=false;(i=this.inputRef)===null||i===void 0?void 0:i.blur();t.preventDefault()}else{return}}renderDropdown(){var t;if(!this.isComboBoxVisible){return null}return i("ul",null,(t=this.filteredData)===null||t===void 0?void 0:t.map(((t,s)=>i("li",{role:"button",key:t.id,onKeyDown:t=>this.handleItemKeyDown(t,s),"data-selected":this.selectedIndex===s,tabIndex:0,onClick:()=>this.selectItem(s)},t.name))),this.filteredData.length===0&&!this.isLoading&&i("span",{class:"text-center"},g.entries.Lcz_NoResultsFound))}render(){return i("fieldset",{class:"m-0 p-0"},i("input",{ref:t=>this.inputRef=t,type:"text",value:this.value,placeholder:this.placeholder,class:"form-control",onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this),onInput:this.handleInputChange.bind(this),onFocus:this.handleFocus.bind(this),autoFocus:this.autoFocus}),this.renderDropdown())}get el(){return o(this)}static get watchers(){return{isComboBoxVisible:["watchHandler"]}}};j.style=H;const D=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const A=class{constructor(s){t(this,s);this.extraResources="";this.resources=D}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,s){const i=document.createElement(t);const e=[];Object.keys(s).forEach((t=>{i.setAttribute(t,s[t]);e.push(`[${t}="${s[t]}"]`)}));const o=`${t}${e.join("")}`;const n=document.querySelector(o);if(!n){document.head.appendChild(i)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return i(e,null,i("slot",null))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const B=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0}.icon-button.sc-ir-icon:hover{cursor:pointer}";const F=class{constructor(i){t(this,i);this.iconClickHandler=s(this,"iconClickHandler",7);this.icon="ft-check"}render(){return i("button",{class:"icon-button",onClick:()=>this.iconClickHandler.emit()},i("slot",{name:"icon"}))}};F.style=B;const R=".backdropModal.sc-ir-modal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active.sc-ir-modal{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened'].sc-ir-modal{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content.sc-ir-modal{padding:10px;background:white;border-radius:5px}.modal.sc-ir-modal{z-index:1001 !important}.modal-dialog.sc-ir-modal{height:100vh;display:flex;align-items:center}.ir-alert-footer.sc-ir-modal{gap:10px}.ir-modal.sc-ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active.sc-ir-modal{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const $=class{constructor(i){t(this,i);this.confirmModal=s(this,"confirmModal",7);this.cancelModal=s(this,"cancelModal",7);this.modalTitle="Modal Title";this.modalBody="Modal Body";this.rightBtnActive=true;this.leftBtnActive=true;this.rightBtnText="Confirm";this.leftBtnText="Close";this.rightBtnColor="primary";this.leftBtnColor="secondary";this.btnPosition="right";this.iconAvailable=false;this.icon="";this.isOpen=false;this.item={}}async closeModal(){this.isOpen=false}async openModal(){this.isOpen=true}btnClickHandler(t){let s=t.target;let i=s.name;if(i===this.leftBtnText){this.cancelModal.emit();this.item={};this.closeModal()}else if(i===this.rightBtnText){this.confirmModal.emit(this.item);this.item={};this.closeModal()}}render(){return[i("div",{class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.closeModal()}}),i("div",{"data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},i("div",{class:`ir-alert-content p-2`},i("div",{class:`ir-alert-header align-items-center border-0 py-0 m-0 `}),i("div",{class:"modal-body text-left p-0 mb-2"},i("div",null,this.modalBody)),i("div",{class:`ir-alert-footer border-0  d-flex justify-content-${this.btnPosition==="center"?"center":this.btnPosition==="left"?"start":"end"}`},this.leftBtnActive&&i("ir-button",{icon:"",btn_color:this.leftBtnColor,btn_block:true,text:this.leftBtnText,name:this.leftBtnText}),this.rightBtnActive&&i("ir-button",{icon:"",btn_color:this.rightBtnColor,btn_block:true,text:this.rightBtnText,name:this.rightBtnText}))))]}};$.style=R;const V=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding:0.5rem}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding:0.5rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const E=class{constructor(i){t(this,i);this.irSidebarToggle=s(this,"irSidebarToggle",7);this.name=undefined;this.side="right";this.showCloseButton=true;this.open=false;this.sidebarStyles=undefined}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(t){if(t.key==="Escape"){return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[i("div",{class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),i("div",{ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&i("ir-icon",{class:"close",onIconClickHandler:()=>{this.toggleSidebar()}},i("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},i("path",{fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),i("slot",null))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"]}}};E.style=V;const O=".sc-ir-switch-h{display:block;position:relative;box-sizing:border-box;--ir-root-width:36px;--ir-root-height:20px}.hidden-input.sc-ir-switch{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height)}.SwitchRoot.sc-ir-switch{all:unset;padding:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height);background-color:rgba(0, 0, 0, 0.4);position:relative;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;--webkit-tap-highlight-color:rgba(0, 0, 0, 0);border-radius:9999px;box-sizing:border-box}.SwitchRoot.sc-ir-switch:disabled{opacity:80%}.SwitchRoot.sc-ir-switch:focus-visible{outline:1px solid rgba(55, 188, 155, 0.2);outline-offset:1px}.SwitchRoot[data-state='checked'].sc-ir-switch{background-color:rgb(55, 188, 155)}.SwitchThumb.sc-ir-switch{padding:0;margin:0;display:block;width:calc(var(--ir-root-height) - 3px);height:calc(var(--ir-root-height) - 3px);border-radius:9999px;background:white;box-shadow:rgba(0, 0, 0, 0.2) 0px;transition:transform 100ms ease 0s;transform:translateX(2px);will-change:transform}.SwitchThumb[data-state='checked'].sc-ir-switch{transform:translateX(calc(var(--ir-root-height) - 3px))}";const W=class{constructor(i){t(this,i);this.checkChange=s(this,"checkChange",7);this._id="";this.checked=false;this.switchId=undefined;this.disabled=false}componentWillLoad(){this._id=this.generateRandomId(10)}componentDidLoad(){if(!this.switchRoot){return}this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false")}generateRandomId(t){let s="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const e=i.length;for(let o=0;o<t;o++){s+=i.charAt(Math.floor(Math.random()*e))}return s}handleCheckChange(){this.checked=!this.checked;this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false");this.checkChange.emit(this.checked)}render(){return i(e,null,i("button",{disabled:this.disabled,ref:t=>this.switchRoot=t,type:"button",id:this.switchId||this._id,onClick:this.handleCheckChange.bind(this),role:"switch","data-state":this.checked?"checked":"unchecked",value:"on",class:"SwitchRoot"},i("span",{class:"SwitchThumb","data-state":this.checked?"checked":"unchecked"})),i("input",{type:"checkbox",checked:this.checked,"aria-hidden":"true",tabIndex:-1,value:"on",class:"hidden-input"}))}};W.style=O;export{w as ir_button,y as ir_channel,C as ir_channel_editor,z as ir_channel_general,M as ir_channel_header,I as ir_channel_mapping,j as ir_combobox,A as ir_common,F as ir_icon,$ as ir_modal,E as ir_sidebar,W as ir_switch};
//# sourceMappingURL=p-a48f3f50.entry.js.map