import{c as t}from"./p-983839b0.js";import{c as n}from"./p-12757717.js";import{a as o,l as r,c as s}from"./p-16d91b49.js";class e{constructor(){this.token=JSON.parse(sessionStorage.getItem("token"))}async fetchData(n,r){try{if(this.token!==null){const{data:s}=await o.post(`/Get_Exposed_Property?Ticket=${this.token}`,{id:n,language:r});if(s.ExceptionMsg!==""){throw new Error(s.ExceptionMsg)}const e=s.My_Result;t.adultChildConstraints=e.adult_child_constraints;t.allowedBookingSources=e.allowed_booking_sources;t.allowed_payment_methods=e.allowed_booking_methods;t.currency=e.currency;t.is_vacation_rental=e.is_vacation_rental;t.pickup_service=e.pickup_service;t.max_nights=e.max_nights;t.connected_channels=e.connected_channels;t.is_frontdesk_enabled=e.is_frontdesk_enabled;return s}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{if(this.token!==null){const{data:t}=await o.post(`/Get_Exposed_Channels?Ticket=${this.token}`,{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const r=t.My_Result;n.channels=r;return t}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(t){try{if(this.token!==null){const{data:n}=await o.post(`/Get_Exposed_Language?Ticket=${this.token}`,{code:t});if(n.ExceptionMsg!==""){throw new Error(n.ExceptionMsg)}let s=this.transformArrayToObject(n.My_Result.entries);r.entries=s;r.direction=n.My_Result.direction;return{entries:s,direction:n.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let n={};for(const o of t){n[o.code]=o.description}return n}}const a={days:[],months:[]};const{state:c,onChange:i}=s(a);const h={};let{state:f}=s(h);function l(t){f=Object.assign(Object.assign({},f),t)}function u(){return f}function w(t,n){const o=d(t);const r=d(n);Object.keys(f).forEach((t=>{const n=parseInt(t);if(o<=n&&n<=r){delete f[t]}}))}function d(t){const n=new Date(t);n.setHours(0,0,0,0);return n.getTime()}export{e as R,l as a,c,u as g,w as r};
//# sourceMappingURL=p-9548e211.js.map