{"version":3,"names":["initialState","channels","selectedChannel","mappedChannel","connected_channels","state","channels_data","onChange","onChannelChange","dispose","createStore","selectChannel","channel_id","find","c","id","toString","setMappedChannel","selectedChannelMap","channel","map","resetStore","addMapping","ir_id","fr_id","push","removedMapping","filter"],"sources":["src/stores/channel.store.ts"],"sourcesContent":["import { IChannel, IExposedChannel, IMap } from '@/models/calendarData';\r\nimport { createStore } from '@stencil/store';\r\nexport interface IChannelStore {\r\n  channels: IExposedChannel[];\r\n  connected_channels: IChannel[];\r\n  selectedChannel: IExposedChannel | null;\r\n  mappedChannel: IMap[];\r\n}\r\nconst initialState: IChannelStore = {\r\n  channels: [],\r\n  selectedChannel: null,\r\n  mappedChannel: [],\r\n  connected_channels: [],\r\n};\r\nexport const { state: channels_data, onChange: onChannelChange, dispose } = createStore<IChannelStore>(initialState);\r\nexport function selectChannel(channel_id: string) {\r\n  if (channel_id === '') {\r\n    channels_data.selectedChannel = null;\r\n    return;\r\n  }\r\n  const selectedChannel = channels_data.channels.find(c => c.id.toString() === channel_id);\r\n  channels_data.selectedChannel = selectedChannel;\r\n  setMappedChannel();\r\n}\r\nexport function setMappedChannel() {\r\n  let selectedChannelMap = channels_data.connected_channels.find(c => c.channel.id === channels_data.selectedChannel.id);\r\n  channels_data.mappedChannel = [...selectedChannelMap.map];\r\n}\r\nexport function resetStore() {\r\n  channels_data.selectedChannel = null;\r\n  channels_data.mappedChannel = [];\r\n}\r\nexport function addMapping(ir_id: string, fr_id: string) {\r\n  channels_data.mappedChannel.push({\r\n    channel_id: fr_id,\r\n    ir_id,\r\n  });\r\n}\r\nexport function removedMapping(ir_id: string) {\r\n  channels_data.mappedChannel = channels_data.mappedChannel.filter(c => c.ir_id !== ir_id);\r\n}\r\nexport default channels_data;\r\n"],"mappings":"oCAQA,MAAMA,EAA8B,CAClCC,SAAU,GACVC,gBAAiB,KACjBC,cAAe,GACfC,mBAAoB,I,MAEPC,MAAOC,EAAeC,SAAUC,EAAeC,QAAEA,GAAYC,EAA2BV,G,SACvFW,EAAcC,GAC5B,GAAIA,IAAe,GAAI,CACrBN,EAAcJ,gBAAkB,KAChC,M,CAEF,MAAMA,EAAkBI,EAAcL,SAASY,MAAKC,GAAKA,EAAEC,GAAGC,aAAeJ,IAC7EN,EAAcJ,gBAAkBA,EAChCe,GACF,C,SACgBA,IACd,IAAIC,EAAqBZ,EAAcF,mBAAmBS,MAAKC,GAAKA,EAAEK,QAAQJ,KAAOT,EAAcJ,gBAAgBa,KACnHT,EAAcH,cAAgB,IAAIe,EAAmBE,IACvD,C,SACgBC,IACdf,EAAcJ,gBAAkB,KAChCI,EAAcH,cAAgB,EAChC,C,SACgBmB,EAAWC,EAAeC,GACxClB,EAAcH,cAAcsB,KAAK,CAC/Bb,WAAYY,EACZD,SAEJ,C,SACgBG,EAAeH,GAC7BjB,EAAcH,cAAgBG,EAAcH,cAAcwB,QAAOb,GAAKA,EAAES,QAAUA,GACpF,Q"}