import{c as t}from"./p-983839b0.js";import{c as r}from"./p-12757717.js";import{a as o,l as e}from"./p-16d91b49.js";class s{constructor(){this.token=JSON.parse(sessionStorage.getItem("token"))}async fetchData(r,e){try{if(this.token!==null){const{data:s}=await o.post(`/Get_Exposed_Property?Ticket=${this.token}`,{id:r,language:e});if(s.ExceptionMsg!==""){throw new Error(s.ExceptionMsg)}const a=s.My_Result;t.adultChildConstraints=a.adult_child_constraints;t.allowedBookingSources=a.allowed_booking_sources;t.allowed_payment_methods=a.allowed_booking_methods;t.currency=a.currency;t.is_vacation_rental=a.is_vacation_rental;t.pickup_service=a.pickup_service;t.max_nights=a.max_nights;t.connected_channels=a.connected_channels;t.is_frontdesk_enabled=a.is_frontdesk_enabled;return s}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{if(this.token!==null){const{data:t}=await o.post(`/Get_Exposed_Channels?Ticket=${this.token}`,{});if(t.ExceptionMsg!==""){throw new Error(t.ExceptionMsg)}const e=t.My_Result;r.channels=e;return t}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(t){try{if(this.token!==null){const{data:r}=await o.post(`/Get_Exposed_Language?Ticket=${this.token}`,{code:t});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}let s=this.transformArrayToObject(r.My_Result.entries);e.entries=s;e.direction=r.My_Result.direction;return{entries:s,direction:r.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let r={};for(const o of t){r[o.code]=o.description}return r}}export{s as R};
//# sourceMappingURL=p-1c451f08.js.map