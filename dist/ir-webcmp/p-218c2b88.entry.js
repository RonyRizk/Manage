import{r as t,h as s,H as e,g as o}from"./p-05195efb.js";import{R as n}from"./p-8b4b72b0.js";import{a as i}from"./p-b140279c.js";import{l}from"./p-88f39b70.js";import{a}from"./p-f2a3c01f.js";const c=".sc-ir-channel-h{display:block}";const r=class{constructor(s){t(this,s);this.roomService=new n;this.ticket="";this.propertyid=undefined;this.language=undefined;this.baseurl=undefined;this.channel_status=null}componentWillLoad(){if(this.baseurl){a.defaults.baseURL=this.baseurl}if(this.ticket!==""){this.initializeApp()}}async initializeApp(){try{const[,,t]=await Promise.all([this.roomService.fetchData(this.propertyid,this.language),this.roomService.getExposedChannels(),this.roomService.fetchLanguage(this.language)]);console.log(t);if(!l.entries){l.entries=t.entries;l.direction=t.direction}}catch(t){console.error(t)}}async ticketChanged(){sessionStorage.setItem("token",JSON.stringify(this.ticket));this.initializeApp()}render(){var t;return s(e,null,s("section",{class:"p-2"},s("div",{class:"d-flex w-100 justify-content-end mb-2"},s("ir-button",{text:"Create",size:"sm",onClickHanlder:()=>this.channel_status="create"})),s("div",null,s("table",{class:"table"},s("thead",{class:""},s("tr",null,s("th",{scope:"col",class:"text-left"},"Title"),s("th",{scope:"col"},"Channel"),s("th",{scope:"col"},"Status"),s("th",{scope:"col"},"Actions"))),s("tbody",null,(t=i.connected_channels)===null||t===void 0?void 0:t.map((t=>s("tr",{key:t.channel.id},s("th",{scope:"row",class:"text-left"},t.title),s("th",{scope:"row"},t.channel.name),s("td",null,s("input",{"data-switchery":"true",type:"checkbox",class:"",checked:t.is_active})),s("th",null,s("div",{class:"btn-group"},s("button",{type:"button",class:"btn  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Actions"),s("div",{class:"dropdown-menu dropdown-menu-right"},s("button",{class:"dropdown-item",type:"button"},"Action"),s("button",{class:"dropdown-item",type:"button"},"Another action"),s("button",{class:"dropdown-item",type:"button"},"Something else here"))))))))))),s("ir-sidebar",{showCloseButton:false,onIrSidebarToggle:t=>{t.stopImmediatePropagation();t.stopPropagation();this.channel_status=null},open:this.channel_status!==null},this.channel_status&&s("ir-channel-editor",{onCloseSideBar:()=>this.channel_status=null})))}get el(){return o(this)}static get watchers(){return{ticket:["ticketChanged"]}}};r.style=c;export{r as ir_channel};
//# sourceMappingURL=p-218c2b88.entry.js.map