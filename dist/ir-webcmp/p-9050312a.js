import{a as e,f as t}from"./p-05195efb.js";const n=(e,t,n)=>{const s=e.get(t);if(!s){e.set(t,[n])}else if(!s.includes(n)){s.push(n)}};const s=(e,t)=>{let n;return(...s)=>{if(n){clearTimeout(n)}n=setTimeout((()=>{n=0;e(...s)}),t)}};const o=e=>!("isConnected"in e)||e.isConnected;const r=s((e=>{for(let t of e.keys()){e.set(t,e.get(t).filter(o))}}),2e3);const c=()=>{if(typeof e!=="function"){return{}}const s=new Map;return{dispose:()=>s.clear(),get:t=>{const o=e();if(o){n(s,t,o)}},set:e=>{const n=s.get(e);if(n){s.set(e,n.filter(t))}r(s)},reset:()=>{s.forEach((e=>e.forEach(t)));r(s)}}};const a=e=>typeof e==="function"?e():e;const i=(e,t=((e,t)=>e!==t))=>{const n=a(e);let s=new Map(Object.entries(n!==null&&n!==void 0?n:{}));const o={dispose:[],get:[],set:[],reset:[]};const r=()=>{var t;s=new Map(Object.entries((t=a(e))!==null&&t!==void 0?t:{}));o.reset.forEach((e=>e()))};const c=()=>{o.dispose.forEach((e=>e()));r()};const i=e=>{o.get.forEach((t=>t(e)));return s.get(e)};const f=(e,n)=>{const r=s.get(e);if(t(n,r,e)){s.set(e,n);o.set.forEach((t=>t(e,n,r)))}};const d=typeof Proxy==="undefined"?{}:new Proxy(n,{get(e,t){return i(t)},ownKeys(e){return Array.from(s.keys())},getOwnPropertyDescriptor(){return{enumerable:true,configurable:true}},has(e,t){return s.has(t)},set(e,t,n){f(t,n);return true}});const l=(e,t)=>{o[e].push(t);return()=>{u(o[e],t)}};const g=(t,n)=>{const s=l("set",((e,s)=>{if(e===t){n(s)}}));const o=l("reset",(()=>n(a(e)[t])));return()=>{s();o()}};const p=(...e)=>{const t=e.reduce(((e,t)=>{if(t.set){e.push(l("set",t.set))}if(t.get){e.push(l("get",t.get))}if(t.reset){e.push(l("reset",t.reset))}if(t.dispose){e.push(l("dispose",t.dispose))}return e}),[]);return()=>t.forEach((e=>e()))};const m=e=>{const t=s.get(e);o.set.forEach((n=>n(e,t,t)))};return{state:d,get:i,set:f,on:l,onChange:g,use:p,dispose:c,reset:r,forceUpdate:m}};const u=(e,t)=>{const n=e.indexOf(t);if(n>=0){e[n]=e[e.length-1];e.length--}};const f=(e,t)=>{const n=i(e,t);n.use(c());return n};const d={adultChildConstraints:{adult_max_nbr:0,child_max_nbr:0,child_max_age:0},allowedBookingSources:[],currency:undefined,endingDate:0,formattedLegendData:undefined,is_vacation_rental:false,legendData:[],roomsInfo:[],startingDate:0,language:"",toBeAssignedEvents:[],allowed_payment_methods:[],pickup_service:undefined,max_nights:0,channels:[]};const{state:l,onChange:g}=f(d);export{f as a,l as c};
//# sourceMappingURL=p-9050312a.js.map