import{h as n}from"./p-fe6c3d31.js";import"./p-cda0b50c.js";import"./p-a7b295ee.js";const t={"000":"IN-HOUSE","001":"PENDING-CONFIRMATION","002":"CONFIRMED","003":"CHECKED-OUT"};function e(n,t){if(n===null&&t===null)return"";if(t!==null&&t!==""){return`${n!==null&&n!==void 0?n:""} , ${t!==null&&t!==void 0?t:""}`}return n}function o(o){let r=[];const T=e=>{const r=n();const T=n(e.to_date,"YYYY-MM-DD");const E=n(e.from_date,"YYYY-MM-DD");if(E.isSame(r,"day")&&r.hour()>=12){return t["000"]}else if(r.isAfter(E,"day")&&r.isBefore(T,"day")){return t["000"]}else if(T.isSame(r,"day")&&r.hour()<12){return t["000"]}else if(T.isSame(r,"day")&&r.hour()>=12||T.isBefore(r,"day")){return t["003"]}else{return t[(o===null||o===void 0?void 0:o.status.code)||"001"]}};const E=o.rooms.filter((n=>!!n["assigned_units_pool"]));E.forEach((n=>{var t,E;r.push({ID:n["assigned_units_pool"],TO_DATE:n.to_date,FROM_DATE:n.from_date,NO_OF_DAYS:n.days.length,ARRIVAL:o.arrival,IS_EDITABLE:true,BALANCE:(t=o.financial)===null||t===void 0?void 0:t.due_amount,STATUS:T(n),NAME:e(n.guest.first_name,n.guest.last_name),PHONE:(E=o.guest.mobile)!==null&&E!==void 0?E:"",ENTRY_DATE:"12-12-2023",RATE:n.total,RATE_PLAN:n.rateplan.name,SPLIT_BOOKING:false,RATE_PLAN_ID:n.rateplan.id,IDENTIFIER:n.identifier,RATE_TYPE:n.roomtype.id,ADULTS_COUNT:n.occupancy.adult_nbr,CHILDREN_COUNT:n.occupancy.children_nbr,PR_ID:+n.unit.id,POOL:n["assigned_units_pool"],GUEST:o.guest,ROOMS:o.rooms,BOOKING_NUMBER:o.booking_nbr,cancelation:n.rateplan.cancelation,guarantee:n.rateplan.guarantee,TOTAL_PRICE:n.gross_total,COUNTRY:o.guest.country_id,FROM_DATE_STR:o.format.from_date,TO_DATE_STR:o.format.to_date,adult_child_offering:n.rateplan.selected_variation.adult_child_offering,ARRIVAL_TIME:o.arrival.description,origin:o.origin,channel_booking_nbr:o.channel_booking_nbr,is_direct:o.is_direct,NOTES:o.is_direct?o.remark:null,SOURCE:{code:o.source.code,description:o.source.description,tag:o.source.tag},ota_notes:o.ota_notes})}));return r}function r(t,e){const o=n(t,"YYYY-MM-DD");const r=n(e,"YYYY-MM-DD");const T=r.diff(o,"days");return T||1}export{r as c,o as t};
//# sourceMappingURL=p-5ee05a6f.js.map