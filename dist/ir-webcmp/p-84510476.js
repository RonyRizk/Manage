import{h as n}from"./p-fe6c3d31.js";import"./p-cda0b50c.js";import"./p-85d94cdd.js";const t={"000":"IN-HOUSE","001":"PENDING-CONFIRMATION","002":"CONFIRMED","003":"CHECKED-OUT"};function r(n,t){if(n===null&&t===null)return"";if(t!==null&&t!==""){return`${n!==null&&n!==void 0?n:""} , ${t!==null&&t!==void 0?t:""}`}return n}function i(i){let e=[];const o=r=>{const e=n();const o=n(r.to_date,"YYYY-MM-DD");const u=n(r.from_date,"YYYY-MM-DD");if(u.isSame(e,"day")&&e.hour()>=12){return t["000"]}else if(e.isAfter(u,"day")&&e.isBefore(o,"day")){return t["000"]}else if(o.isSame(e,"day")&&e.hour()<12){return t["000"]}else if(o.isSame(e,"day")&&e.hour()>=12||o.isBefore(e,"day")){return t["003"]}else{return t[(i===null||i===void 0?void 0:i.status.code)||"001"]}};const u=i.rooms.filter((n=>!!n["assigned_units_pool"]));u.forEach((n=>{var t,u;e.push({ID:n["assigned_units_pool"],TO_DATE:n.to_date,FROM_DATE:n.from_date,NO_OF_DAYS:n.days.length,ARRIVAL:i.arrival,IS_EDITABLE:true,BALANCE:(t=i.financial)===null||t===void 0?void 0:t.due_amount,STATUS:o(n),NAME:r(n.guest.first_name,n.guest.last_name),PHONE:(u=i.guest.mobile)!==null&&u!==void 0?u:"",ENTRY_DATE:"12-12-2023",RATE:n.total,RATE_PLAN:n.rateplan.name,SPLIT_BOOKING:false,RATE_PLAN_ID:n.rateplan.id,IDENTIFIER:n.identifier,RATE_TYPE:n.roomtype.id,ADULTS_COUNT:n.occupancy.adult_nbr,CHILDREN_COUNT:n.occupancy.children_nbr,PR_ID:+n.unit.id,POOL:n["assigned_units_pool"],GUEST:i.guest,ROOMS:i.rooms,BOOKING_NUMBER:i.booking_nbr,cancelation:n.rateplan.cancelation,guarantee:n.rateplan.guarantee,TOTAL_PRICE:n.gross_total,COUNTRY:i.guest.country_id,FROM_DATE_STR:i.format.from_date,TO_DATE_STR:i.format.to_date,adult_child_offering:n.rateplan.selected_variation.adult_child_offering,ARRIVAL_TIME:i.arrival.description,origin:i.origin,channel_booking_nbr:i.channel_booking_nbr,is_direct:i.is_direct,NOTES:i.is_direct?i.remark:null,SOURCE:{code:i.source.code,description:i.source.description,tag:i.source.tag},ota_notes:i.ota_notes})}));return e}function e(t,r){const i=n(t,"YYYY-MM-DD");const e=n(r,"YYYY-MM-DD");const o=e.diff(i,"days");return o||1}function o(n){return["003","002","004"].includes(n)}function u(n){const t=new Intl.NumberFormat(undefined,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0});return t.format(0).replace(/[0-9]/g,"").trim()}function c(n){return n<10?n.toString().padStart(2,"0"):n.toString()}function s(n,t){const r=u(n);return r+t.toFixed(2)}export{e as c,s as f,o as i,c as r,i as t};
//# sourceMappingURL=p-84510476.js.map