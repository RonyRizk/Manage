import{c as t}from"./p-16fbf1a7.js";import{c as o}from"./p-48a92ecc.js";import{l as r}from"./p-dda5a727.js";import{a as e}from"./p-539b691e.js";class a{async fetchData(r,a){try{const n=JSON.parse(sessionStorage.getItem("token"));if(n!==null){const{data:s}=await e.post(`/Get_Exposed_Property?Ticket=${n}`,{id:r,language:a});if(s.ExceptionMsg!==""){throw new Error(s.ExceptionMsg)}const c=s.My_Result;t.adultChildConstraints=c.adult_child_constraints;t.allowedBookingSources=c.allowed_booking_sources;t.allowed_payment_methods=c.allowed_booking_methods;t.currency=c.currency;t.is_vacation_rental=c.is_vacation_rental;t.pickup_service=c.pickup_service;t.max_nights=c.max_nights;t.roomsInfo=c.roomtypes;o.connected_channels=c.connected_channels;t.taxes=c.taxes;t.is_frontdesk_enabled=c.is_frontdesk_enabled;return s}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{const t=JSON.parse(sessionStorage.getItem("token"));if(t!==null){const{data:r}=await e.post(`/Get_Exposed_Channels?Ticket=${t}`,{});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}const a=r.My_Result;o.channels=a;return r}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(t){try{const o=JSON.parse(sessionStorage.getItem("token"));if(o!==null){const{data:a}=await e.post(`/Get_Exposed_Language?Ticket=${o}`,{code:t});if(a.ExceptionMsg!==""){throw new Error(a.ExceptionMsg)}let n=this.transformArrayToObject(a.My_Result.entries);r.entries=n;r.direction=a.My_Result.direction;return{entries:n,direction:a.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let o={};for(const r of t){o[r.code]=r.description}return o}}export{a as R};
//# sourceMappingURL=p-2b0c0f582.js.map