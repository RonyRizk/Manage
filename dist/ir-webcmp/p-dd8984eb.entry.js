import{r as t,c as s,h as e,H as i,g as n}from"./p-05195efb.js";import{R as a}from"./p-1c451f08.js";import{c as o}from"./p-983839b0.js";import{a as r,l}from"./p-16d91b49.js";import{o as c,s as h,c as d}from"./p-12757717.js";const p=".loader{width:11px;height:11px;border:2px solid #fff;border-bottom-color:transparent;border-radius:50%;margin:0;padding:0;display:inline-flex;box-sizing:border-box;animation:rotation 1s linear infinite}.button-icon{padding:0;margin-top:0}.button-icon[data-state='loading']{display:none}.button-text{padding:0 5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const u=class{constructor(e){t(this,e);this.clickHanlder=s(this,"clickHanlder",7);this.name=undefined;this.text=undefined;this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_styles=undefined}connectedCallback(){}disconnectedCallback(){}render(){let t=this.btn_block?"btn-block":"";return e("button",{onClick:()=>this.clickHanlder.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} d-flex align-items-center btn-${this.size} text-${this.textSize} ${t}`,type:this.btn_type,disabled:this.btn_disabled},e("span",{class:"button-icon","data-state":this.isLoading?"loading":""},e("slot",{name:"icon"})),this.isLoading&&e("span",{class:"loader m-0 p-0"}),this.text&&e("span",{class:"button-text m-0"},this.text))}};u.style=p;const m=".sc-ir-channel-h{display:block}";const b=class{constructor(s){t(this,s);this.roomService=new a;this.ticket="";this.propertyid=undefined;this.language=undefined;this.baseurl=undefined;this.channel_status=null}componentWillLoad(){if(this.baseurl){r.defaults.baseURL=this.baseurl}if(this.ticket!==""){this.initializeApp()}}async initializeApp(){try{const[,,t]=await Promise.all([this.roomService.fetchData(this.propertyid,this.language),this.roomService.getExposedChannels(),this.roomService.fetchLanguage(this.language)]);console.log(t);if(!l.entries){l.entries=t.entries;l.direction=t.direction}}catch(t){console.error(t)}}async ticketChanged(){sessionStorage.setItem("token",JSON.stringify(this.ticket));this.initializeApp()}render(){var t;return e(i,null,e("section",{class:"p-2"},e("div",{class:"d-flex w-100 justify-content-end mb-2"},e("ir-button",{text:"Create",size:"sm",onClickHanlder:()=>this.channel_status="create"})),e("div",null,e("table",{class:"table"},e("thead",{class:""},e("tr",null,e("th",{scope:"col",class:"text-left"},"Title"),e("th",{scope:"col"},"Channel"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Actions"))),e("tbody",null,(t=o.connected_channels)===null||t===void 0?void 0:t.map((t=>e("tr",{key:t.channel.id},e("th",{scope:"row",class:"text-left"},t.title),e("th",{scope:"row"},t.channel.name),e("td",null,e("input",{"data-switchery":"true",type:"checkbox",class:"",checked:t.is_active})),e("th",null,e("div",{class:"dropdown"},e("button",{class:"btn dropdown-toggle text-primary",type:"button","data-toggle":"dropdown","aria-expanded":"false"},"Actions"),e("div",{class:"dropdown-menu dropdown-menu-right"},e("a",{class:"dropdown-item",href:"#"},"Action"),e("a",{class:"dropdown-item",href:"#"},"Another action"),e("a",{class:"dropdown-item",href:"#"},"Something else here"))))))))))),e("ir-sidebar",{showCloseButton:false,onIrSidebarToggle:t=>{t.stopImmediatePropagation();t.stopPropagation();this.channel_status=null},open:this.channel_status!==null},this.channel_status&&e("ir-channel-editor",{onCloseSideBar:()=>this.channel_status=null})))}get el(){return n(this)}static get watchers(){return{ticket:["ticketChanged"]}}};b.style=m;const g=".sc-ir-channel-editor-h{display:block}nav.sc-ir-channel-editor{z-index:10}";const f=class{constructor(e){t(this,e);this.closeSideBar=s(this,"closeSideBar",7);this.selectedTab="";this.headerTitles=[{id:"general_settings",name:"General Settings",disabled:false},{id:"mapping",name:"Mapping",disabled:true},{id:"channel_booking",name:"Channel Booking",disabled:true}];this.selectedRoomType=[]}componentWillLoad(){this.selectedTab=this.headerTitles[0].id;c("selectedChannel",(t=>{if(!!t){this.enableAllHeaders()}}))}handleTabChange(t){t.stopPropagation();t.stopImmediatePropagation();this.selectedTab=t.detail}renderTabScreen(){switch(this.selectedTab){case"general_settings":return e("ir-channel-general",null);case"mapping":return e("ir-channel-mapping",null);case"channel_booking":return e("div",null,"channel booking");default:return null}}enableAllHeaders(){this.headerTitles=this.headerTitles.map(((t,s)=>s<this.headerTitles.length-1?Object.assign(Object.assign({},t),{disabled:false}):t))}disableNonFirstTabs(){this.headerTitles=this.headerTitles.map(((t,s)=>s>0?Object.assign(Object.assign({},t),{disabled:true}):t))}render(){return e(i,{class:"px-1"},e("nav",{class:"position-sticky sticky-top py-1 top-0 bg-white"},e("div",{class:"d-flex align-items-center  justify-content-between"},e("h3",{class:"text-left font-medium-2  py-0 my-0"},"Create Channel"),e("ir-icon",{class:"m-0 p-0",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})))),e("ir-channel-header",{class:"mt-1 px-0",headerTitles:this.headerTitles})),e("section",{class:"pb-1"},this.renderTabScreen()),e("ir-button",{class:"w-100 mt-3",btn_styles:"justify-content-center",text:l.entries.Lcz_Save}))}};f.style=g;const x=".sc-ir-channel-general-h{display:block}";const w=class{constructor(s){t(this,s)}render(){return e(i,null,e("ir-select",{selectContainerStyle:"mb-1",onSelectChange:t=>h(t.detail),class:"m-0 mb-1",LabelAvailable:false,data:d.channels.map((t=>({value:t.id,text:t.name})))}))}};w.style=x;const k=".sc-ir-channel-header-h{display:block;position:relative;padding:0;margin:0;border-bottom:1px solid #e4e5ec}ul.sc-ir-channel-header{display:flex;align-items:center;gap:2rem;padding:0}.tab.sc-ir-channel-header{font-size:0.95rem;font-weight:600;cursor:pointer;position:relative;margin:0;padding:0;transition:color 0.3s ease;user-select:none}.tab[data-disabled].sc-ir-channel-header{cursor:auto}.tab.sc-ir-channel-header:hover{opacity:80%}.tab[data-state='selected'].sc-ir-channel-header,.tab[data-state='selected'].sc-ir-channel-header:hover{color:var(--blue);opacity:100%}.active-indicator.sc-ir-channel-header{padding:0;bottom:0px;position:absolute;height:3px;border-radius:4px;transition:transform 0.3s ease, width 0.3s ease;background:var(--blue)}";const v=class{constructor(e){t(this,e);this.tabChanged=s(this,"tabChanged",7);this.headerTitles=[];this.selectedIndex=0}componentDidLoad(){this.updateActiveIndicator()}disconnectedCallback(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}}handleTabSelection(t){this.selectedIndex=t;this.updateActiveIndicator();this.tabChanged.emit(this.headerTitles[this.selectedIndex].id)}updateActiveIndicator(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}requestAnimationFrame((()=>{const t=this.el.querySelector(`li.tab[data-state="selected"]`);if(t){const{left:s,width:e}=t.getBoundingClientRect();const i=this.el.getBoundingClientRect().left;const n=s-i;this.activeIndicator.style.width=`${e}px`;this.activeIndicator.style.transform=`translateX(${n}px)`}}))}render(){return e(i,null,e("ul",null,this.headerTitles.map(((t,s)=>e("li",{class:`tab ${t.disabled?"text-light":""}`,key:t.id,onClick:()=>{if(!t.disabled)this.handleTabSelection(s)},"data-disabled":t.disabled,"data-state":this.selectedIndex===s?"selected":""},t.name)))),e("span",{class:"active-indicator",ref:t=>this.activeIndicator=t}))}get el(){return n(this)}};v.style=k;const y=".sc-ir-channel-mapping-h{display:block;box-sizing:border-box}.map-row.sc-ir-channel-mapping{display:flex;align-items:center;justify-content:space-between}.map-row.sc-ir-channel-mapping span.sc-ir-channel-mapping{width:49%}.submap-text.sc-ir-channel-mapping{padding-left:10px}.text-blue.sc-ir-channel-mapping{color:var(--blue)}.text-red.sc-ir-channel-mapping{color:var(--red)}";const S=class{constructor(s){t(this,s);this.selectedChannel=undefined;this.activeMapField=""}componentWillLoad(){this.selectedChannel=d.channels[0]}render(){return e(i,null,e("ul",{class:"m-0 p-0"},e("li",{class:"map-row my-2"},e("span",{class:"font-weight-bold"},d.channels[0].name),e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),e("span",{class:"font-weight-bold px-2"},"Channel manager"))))}};S.style=y;const C=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const $=class{constructor(s){t(this,s);this.extraResources="";this.resources=C}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,s){const e=document.createElement(t);const i=[];Object.keys(s).forEach((t=>{e.setAttribute(t,s[t]);i.push(`[${t}="${s[t]}"]`)}));const n=`${t}${i.join("")}`;const a=document.querySelector(n);if(!a){document.head.appendChild(e)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return e(i,null,e("slot",null))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const L=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0}.icon-button.sc-ir-icon:hover{cursor:pointer}";const _=class{constructor(e){t(this,e);this.iconClickHandler=s(this,"iconClickHandler",7);this.icon="ft-check"}render(){return e("button",{class:"icon-button",onClick:()=>this.iconClickHandler.emit()},e("slot",{name:"icon"}))}};_.style=L;const j=".border-theme.sc-ir-select{border:1px solid #cacfe7}";const z=class{constructor(e){t(this,e);this.selectChange=s(this,"selectChange",7);this.count=0;this.name=undefined;this.data=undefined;this.label="<label>";this.selectStyles=undefined;this.selectContainerStyle=undefined;this.selectedValue=null;this.required=undefined;this.LabelAvailable=true;this.firstOption="Select";this.selectStyle=true;this.submited=false;this.size="md";this.textSize="md";this.labelPosition="left";this.labelBackground=null;this.labelColor="dark";this.labelBorder="theme";this.labelWidth=3;this.initial=true;this.valid=false}watchHandler(t){if(t!==null&&this.required){this.valid=true}}watchHandler2(t){if(t&&this.required){this.initial=false}}componentwillload(){}disconnectedCallback(){}handleSelectChange(t){if(this.required){this.initial=false;this.valid=t.target.checkValidity();this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}else{this.selectedValue=t.target.value;this.selectChange.emit(this.selectedValue)}}render(){let t="form-control";let s=e("div",{class:`input-group-prepend col-${this.labelWidth} p-0 text-${this.labelColor}`},e("label",{class:`input-group-text ${this.labelPosition==="right"?"justify-content-end":this.labelPosition==="center"?"justify-content-center":""} ${this.labelBackground?"bg-"+this.labelBackground:""} flex-grow-1 text-${this.labelColor} border-${this.labelBorder==="none"?0:this.labelBorder} `},this.label,this.required?"*":""));if(this.selectStyle===false){t=""}if(this.required&&!this.valid&&!this.initial){t=`${t} border-danger`}if(!this.LabelAvailable){s=""}return e("div",{class:`form-group m-0 ${this.selectContainerStyle}`},e("div",{class:"input-group row m-0"},s,e("select",{class:`${this.selectStyles} ${t} form-control-${this.size} text-${this.textSize} col-${this.LabelAvailable?12-this.labelWidth:12}`,onInput:this.handleSelectChange.bind(this),required:this.required},e("option",{value:""},this.firstOption),this.data.map((t=>{if(this.selectedValue===t.value){return e("option",{selected:true,value:t.value},t.text)}else{return e("option",{value:t.value},t.text)}})))))}static get watchers(){return{selectedValue:["watchHandler"],submited:["watchHandler2"]}}};z.style=j;const A=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-100%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding:0.5rem}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding:0.5rem}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const H=class{constructor(e){t(this,e);this.irSidebarToggle=s(this,"irSidebarToggle",7);this.name=undefined;this.side="right";this.showCloseButton=true;this.open=false;this.sidebarStyles=undefined}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(t){if(t.key==="Escape"){return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[e("div",{class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),e("div",{ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&e("ir-icon",{class:"close",onIconClickHandler:()=>{this.toggleSidebar()}},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),e("slot",null))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"]}}};H.style=A;export{u as ir_button,b as ir_channel,f as ir_channel_editor,w as ir_channel_general,v as ir_channel_header,S as ir_channel_mapping,$ as ir_common,_ as ir_icon,z as ir_select,H as ir_sidebar};
//# sourceMappingURL=p-dd8984eb.entry.js.map