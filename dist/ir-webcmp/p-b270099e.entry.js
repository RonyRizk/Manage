import{r as t,c as i,h as e,F as s,H as n,g as o}from"./p-1da6dd41.js";import{v as a}from"./p-d4c9256e.js";import{R as l}from"./p-c4e830f9.js";import{c as r}from"./p-58003fb6.js";import{l as c}from"./p-cda0b50c.js";import{T as h,a as d}from"./p-54928856.js";import{c as p}from"./p-a7b295ee.js";const u=".button-icon.sc-ir-button{padding:0;margin-top:0}.button-icon[data-state='loading'].sc-ir-button{display:none}.button-text.sc-ir-button{padding:0 5px}.bounce-3.sc-ir-button{animation:bounce 1s 1}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.loader.sc-ir-button{width:15px;height:10px;--c:no-repeat linear-gradient(#ffffff 0 0);background:var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;background-size:20% 100%;animation:l1 1s infinite linear}@keyframes l1{0%{background-size:20% 100%, 20% 100%, 20% 100%}33%{background-size:20% 10%, 20% 100%, 20% 100%}50%{background-size:20% 100%, 20% 10%, 20% 100%}66%{background-size:20% 100%, 20% 100%, 20% 10%}100%{background-size:20% 100%, 20% 100%, 20% 100%}}@keyframes bounce{0%,100%{transform:scale(1);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:scale(1.2);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes ping{75%,100%{transform:scale(1.2)}}";const m=class{constructor(e){t(this,e);this.clickHanlder=i(this,"clickHanlder",7);this.name=undefined;this.text=undefined;this.icon="ft-save";this.btn_color="primary";this.size="md";this.textSize="md";this.btn_block=true;this.btn_disabled=false;this.btn_type="button";this.isLoading=false;this.btn_styles=undefined;this.btn_id=a()}handleButtonAnimation(t){if(!this.buttonEl||t.detail!==this.btn_id){return}t.stopImmediatePropagation();t.stopPropagation();this.buttonEl.classList.remove("bounce-3");this.buttonEl.classList.add("bounce-3")}render(){let t=this.btn_block?"btn-block":"";return e("button",{id:this.btn_id,ref:t=>this.buttonEl=t,onClick:()=>this.clickHanlder.emit(),class:`btn btn-${this.btn_color} ${this.btn_styles} d-flex align-items-center btn-${this.size} text-${this.textSize} ${t}`,type:this.btn_type,disabled:this.btn_disabled},e("span",{class:"button-icon","data-state":this.isLoading?"loading":""},e("slot",{name:"icon"})),this.text&&e("span",{class:"button-text m-0"},this.text),this.isLoading&&e("div",{class:"loader m-0 p-0"}))}};m.style=u;const g={channels:[],selectedChannel:null,mappedChannels:[],connected_channels:[],isConnectedToChannel:false,channel_settings:null,property_id:null,channel_id:-1,is_active:false};const{state:b,onChange:f,dispose:v}=r(g);function x(t,i){b.channel_id=t;b.is_active=i}function w(t){if(t===""){b.selectedChannel=null;return}const i=b.channels.find((i=>i.id.toString()===t));if(i){b.selectedChannel=i}else{b.selectedChannel={id:t,name:"",properties:[]}}k()}function y(t,i){if(!b.channel_settings){b.channel_settings={hotel_id:"",hotel_title:""}}b.channel_settings[t]=i}function k(){let t=b.connected_channels.find((t=>t.channel.id.toString()===b.selectedChannel.id.toString()));if(!t){b.mappedChannels=[];return}b.mappedChannels=[...t.map]}function C(){b.selectedChannel=null;b.mappedChannels=[];b.isConnectedToChannel=false;b.channel_settings=null}function _(t,i,e){b.mappedChannels.push({channel_id:i,ir_id:t,type:e?"room_type":"rate_plan"})}function z(){var t;const i=b.selectedChannel.properties.find((t=>t.id===b.channel_settings.hotel_id));if(!i){return false}b.selectedChannel.property=i;if(b.mappedChannels.length===0){b.mappedChannels.push({ir_id:((t=b.property_id)!==null&&t!==void 0?t:-1).toString(),channel_id:b.channel_settings.hotel_id,type:"property"})}b.isConnectedToChannel=true;return true}class S extends h{async getExposedChannels(){try{const t=this.getToken();if(t!==null){const{data:i}=await d.post(`/Get_Exposed_Channels?Ticket=${t}`,{});if(i.ExceptionMsg!==""){throw new Error(i.ExceptionMsg)}const e=i.My_Result;b.channels=[...e];return i}}catch(t){console.log(t);throw new Error(t)}}async getExposedConnectedChannels(t){try{const i=this.getToken();if(i!==null){const{data:e}=await d.post(`/Get_Exposed_Connected_Channels?Ticket=${i}`,{property_id:t});if(e.ExceptionMsg!==""){throw new Error(e.ExceptionMsg)}b.connected_channels=[...e.My_Result]}}catch(t){console.log(t);throw new Error(t)}}async saveConnectedChannel(t){try{const i={id:b.channel_id,title:b.channel_settings.hotel_title,is_active:b.is_active,channel:{id:b.selectedChannel.id,name:b.selectedChannel.name},property:{id:p.id,name:p.name},map:b.mappedChannels,is_remove:t};const e=this.getToken();if(!e){throw new Error("Invalid Token")}const{data:s}=await d.post(`/Handle_Connected_Channel?Ticket=${e}`,i);return s}catch(t){console.error(t)}}}const M=t=>[{id:"edit",name:t.Lcz_Edit,icon:()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 512 512"},e("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"})),action:t=>{const i=t.map.find((t=>t.type==="property"));x(t.id,t.is_active);y("hotel_id",i.channel_id);y("hotel_title",t.title);w(t.channel.id.toString());z()}},{id:"remove",name:t===null||t===void 0?void 0:t.Lcz_Delete,icon:()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})),action:i=>{const e=i.map.find((t=>t.type==="property"));x(i.id,i.is_active);y("hotel_id",e.channel_id);y("hotel_title",i.title);w(i.channel.id.toString());z();return{cause:"remove",action:async()=>{const t=new S;t.setToken(p.token);await t.saveConnectedChannel(true)},title:"",message:t===null||t===void 0?void 0:t.Lcz_ThisActionWillDelete,main_color:"danger"}}}];const H=".sc-ir-channel-h{display:block;--ir-sidebar-padding:0}.dropdown-toggle.sc-ir-channel{color:var(--blue)}.dropdown-toggle.sc-ir-channel::after{content:none;display:none}.dropdown-toggle.sc-ir-channel .caret-icon.sc-ir-channel{transition:transform 0.15s ease-in-out, color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\r\n    -webkit-box-shadow 0.15s ease-in-out}.btn.sc-ir-channel:hover .caret-icon.sc-ir-channel path.sc-ir-channel{fill:#6b6f82}.show.sc-ir-channel .caret-icon.sc-ir-channel{transform:rotate(-180deg)}.dropdown-divider.sc-ir-channel{border-color:#e4e5ec}.dropdown-item.sc-ir-channel{padding:10px;display:flex;align-items:center;gap:10px;color:#6b6f82}.dropdown-item.sc-ir-channel svg.sc-ir-channel path.sc-ir-channel{fill:#6b6f82}.danger.sc-ir-channel{color:var(--red)}.danger.sc-ir-channel svg.sc-ir-channel path.sc-ir-channel{fill:var(--red)}.table.sc-ir-channel thead.sc-ir-channel tr.sc-ir-channel{height:50px !important}.table-container.sc-ir-channel{border-radius:30px}.table.sc-ir-channel thead.sc-ir-channel{background:#fafafa;border-top-width:0}.actions-theader.sc-ir-channel{width:35% !important;text-align:end}.dots.sc-ir-channel{display:flex;align-items:center;justify-content:center;margin:0 3px;padding:0}.dot.sc-ir-channel{width:8px;height:8px;margin:0px 4px;background-color:#6b6f82;border-radius:50%;animation:dotFlashing 1s infinite linear alternate}.dot.sc-ir-channel:nth-child(2){animation-delay:0.2s}.h-screen.sc-ir-channel{height:100vh !important}.dot.sc-ir-channel:nth-child(3){animation-delay:0.4s}@keyframes dotFlashing{0%{opacity:0}50%,100%{opacity:1}}@media (min-width: 1024px){.sc-ir-channel-h{--sidebar-width:820px}}";const V=class{constructor(i){t(this,i);this.roomService=new l;this.channelService=new S;this.ticket="";this.propertyid=undefined;this.language=undefined;this.baseurl=undefined;this.channel_status=null;this.modal_cause=null;this.isLoading=false}componentWillLoad(){this.isLoading=true;if(this.baseurl){d.defaults.baseURL=this.baseurl}if(this.ticket!==""){p.token=this.ticket;this.channelService.setToken(this.ticket);this.roomService.setToken(this.ticket);this.initializeApp()}}async handleConfirmClicked(t){t.stopImmediatePropagation();t.stopPropagation();if(!this.modal_cause){return}await this.modal_cause.action();if(this.modal_cause.cause==="remove"){C();await this.refreshChannels()}this.modal_cause=null}openModal(){this.irModalRef.openModal()}async refreshChannels(){await Promise.all([this.channelService.getExposedChannels(),this.channelService.getExposedConnectedChannels(this.propertyid)])}async initializeApp(){try{const[,,,t]=await Promise.all([this.roomService.fetchData(this.propertyid,this.language),this.channelService.getExposedChannels(),this.channelService.getExposedConnectedChannels(this.propertyid),this.roomService.fetchLanguage(this.language,["_CHANNEL_FRONT"])]);b.property_id=this.propertyid;if(!c.entries){c.entries=t.entries;c.direction=t.direction}}catch(t){console.error(t)}finally{this.isLoading=false}}async ticketChanged(){p.token=this.ticket;this.roomService.setToken(this.ticket);this.channelService.setToken(this.ticket);this.initializeApp()}handleCancelModal(t){t.stopImmediatePropagation();t.stopPropagation();this.modal_cause=null}handleSidebarClose(t){var i;t.stopImmediatePropagation();t.stopPropagation();if(b.selectedChannel){this.modal_cause={action:()=>new Promise((t=>{this.resetSideBar();t("")})),cause:"channel",main_color:"primary",message:(i=c.entries)===null||i===void 0?void 0:i.Lcz_UnSavedChangesWillBeLost,title:""};this.openModal()}else{this.resetSideBar()}}resetSideBar(){this.channel_status=null;C()}async handleSaveChange(t){t.stopImmediatePropagation();t.stopPropagation();await this.refreshChannels();this.resetSideBar()}async handleCheckChange(t,i){const e=i.map.find((t=>t.type==="property"));x(i.id,t);y("hotel_id",e.channel_id);y("hotel_title",i.title);w(i.channel.id.toString());z();await this.channelService.saveConnectedChannel(false);C();this.refreshChannels()}render(){var t,i,o,a,l,r,h,d,p,u,m,g,f;if(this.isLoading){return e("div",{class:"h-screen bg-white d-flex flex-column align-items-center justify-content-center"},e("ir-loading-screen",null))}return e(n,{class:"h-100 "},e("section",{class:"p-2 px-lg-5 py-0 h-100 d-flex flex-column"},e("div",{class:"d-flex w-100 justify-content-between mb-2 align-items-center"},e("h3",{class:"font-weight-bold m-0 p-0"},(t=c.entries)===null||t===void 0?void 0:t.Lcz_iSWITCH),e("ir-button",{text:(i=c.entries)===null||i===void 0?void 0:i.Lcz_CreateChannel,size:"sm",onClickHanlder:()=>this.channel_status="create"},e("svg",{slot:"icon","stroke-width":3,width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM7.50003 4C7.77617 4 8.00003 4.22386 8.00003 4.5V7H10.5C10.7762 7 11 7.22386 11 7.5C11 7.77614 10.7762 8 10.5 8H8.00003V10.5C8.00003 10.7761 7.77617 11 7.50003 11C7.22389 11 7.00003 10.7761 7.00003 10.5V8H4.50003C4.22389 8 4.00003 7.77614 4.00003 7.5C4.00003 7.22386 4.22389 7 4.50003 7H7.00003V4.5C7.00003 4.22386 7.22389 4 7.50003 4Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})))),e("div",{class:"card p-1 flex-fill m-0"},e("table",{class:"table table-striped table-bordered no-footer dataTable"},e("thead",null,e("tr",null,e("th",{scope:"col",class:"text-left"},(o=c.entries)===null||o===void 0?void 0:o.Lcz_Channel),e("th",{scope:"col"},(a=c.entries)===null||a===void 0?void 0:a.Lcz_Status),e("th",{scope:"col",class:"actions-theader"},(l=c.entries)===null||l===void 0?void 0:l.Lcz_Actions))),e("tbody",{class:""},(r=b.connected_channels)===null||r===void 0?void 0:r.map((t=>{var i;return e("tr",{key:t.channel.id},e("td",{class:"text-left"},t.channel.name," ",t.title?`(${t.title})`:""),e("td",null,e("ir-switch",{checked:t.is_active,onCheckChange:i=>this.handleCheckChange(i.detail,t)})),e("th",null,e("div",{class:"d-flex justify-content-end"},e("div",{class:"btn-group"},e("button",{type:"button",class:"btn  dropdown-toggle px-0","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e("span",{class:"mr-1"}," ",(i=c.entries)===null||i===void 0?void 0:i.Lcz_Actions),e("svg",{class:"caret-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:14,width:14},e("path",{fill:"var(--blue)",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),e("div",{class:"dropdown-menu dropdown-menu-right"},M(c.entries).map(((i,n)=>e(s,null,e("button",{onClick:()=>{if(i.id==="pull_future_reservation"||i.id==="view_logs"){return}i.action(t);if(i.id==="edit"){setTimeout((()=>{this.channel_status="edit"}),300)}else{this.modal_cause=i.action(t);this.openModal()}},key:i.id+"_item",class:`dropdown-item my-0 ${i.id==="remove"?"danger":""}`,type:"button"},i.icon(),i.name),n<M(c.entries).length-1&&e("div",{key:i.id+"_divider",class:"dropdown-divider my-0"})))))))))})))),b.connected_channels.length===0&&e("p",{class:"text-center"},(h=c.entries)===null||h===void 0?void 0:h.Lcz_NoChannelsAreConnected))),e("ir-sidebar",{sidebarStyles:{padding:"0"},showCloseButton:false,onIrSidebarToggle:this.handleSidebarClose.bind(this),open:this.channel_status!==null},this.channel_status&&e("ir-channel-editor",{slot:"sidebar-body",ticket:this.ticket,channel_status:this.channel_status,onCloseSideBar:this.handleSidebarClose.bind(this)})),e("ir-modal",{modalTitle:(d=this.modal_cause)===null||d===void 0?void 0:d.title,modalBody:(p=this.modal_cause)===null||p===void 0?void 0:p.message,ref:t=>this.irModalRef=t,rightBtnText:(u=c.entries)===null||u===void 0?void 0:u.Lcz_Confirm,leftBtnText:(m=c.entries)===null||m===void 0?void 0:m.Lcz_Cancel,onCancelModal:this.handleCancelModal.bind(this),rightBtnColor:(f=(g=this.modal_cause)===null||g===void 0?void 0:g.main_color)!==null&&f!==void 0?f:"primary",onConfirmModal:this.handleConfirmClicked.bind(this)}))}get el(){return o(this)}static get watchers(){return{ticket:["ticketChanged"]}}};V.style=H;const L=".sc-ir-channel-editor-h{display:block;position:relative}nav.sc-ir-channel-editor{z-index:10}.top-border.sc-ir-channel-editor{border-top:1px solid #e4e5ec}.tab-container.sc-ir-channel-editor{overflow-y:auto;padding-right:0;margin-right:0}";const T=class{constructor(e){t(this,e);this.saveChannelFinished=i(this,"saveChannelFinished",7);this.closeSideBar=i(this,"closeSideBar",7);var s,n,o;this.channelService=new S;this.channel_status=null;this.ticket=undefined;this.selectedTab="";this.isLoading=false;this.headerTitles=[{id:"general_settings",name:(s=c.entries)===null||s===void 0?void 0:s.Lcz_GeneralSettings,disabled:false},{id:"mapping",name:(n=c.entries)===null||n===void 0?void 0:n.Lcz_Mapping,disabled:true},{id:"channel_booking",name:(o=c.entries)===null||o===void 0?void 0:o.Lcz_ChannelBooking,disabled:true}];this.selectedRoomType=[]}componentWillLoad(){if(this.ticket){this.channelService.setToken(this.ticket)}if(this.channel_status==="edit"){this.enableAllHeaders()}this.selectedTab=this.headerTitles[0].id;f("isConnectedToChannel",(t=>{if(!!t){this.enableAllHeaders()}}))}handleTabChange(t){t.stopPropagation();t.stopImmediatePropagation();this.selectedTab=t.detail}renderTabScreen(){switch(this.selectedTab){case"general_settings":return e("ir-channel-general",{channel_status:this.channel_status});case"mapping":return e("ir-channel-mapping",null);case"channel_booking":return e("div",null,"channel booking");default:return null}}enableAllHeaders(){this.headerTitles=this.headerTitles.map(((t,i)=>i<this.headerTitles.length-1?Object.assign(Object.assign({},t),{disabled:false}):t))}disableNonFirstTabs(){this.headerTitles=this.headerTitles.map(((t,i)=>i>0?Object.assign(Object.assign({},t),{disabled:true}):t))}async saveConnectedChannel(){try{this.isLoading=true;await this.channelService.saveConnectedChannel(false);this.saveChannelFinished.emit()}catch(t){console.error(t)}finally{this.isLoading=false}}render(){var t,i;return e(n,{class:" d-flex flex-column h-100"},e("nav",{class:"position-sticky sticky-top pb-1 top-0 bg-white "},e("div",{class:"d-flex align-items-center px-1 py-1  justify-content-between"},e("h3",{class:"text-left font-medium-2  py-0 my-0"},this.channel_status==="create"?(t=c.entries)===null||t===void 0?void 0:t.Lcz_CreateChannel:(i=c.entries)===null||i===void 0?void 0:i.Lcz_EditChannel),e("ir-icon",{class:"m-0 p-0 close",onIconClickHandler:()=>{this.closeSideBar.emit(null)}},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})))),e("ir-channel-header",{class:"mt-1 px-0",headerTitles:this.headerTitles})),e("section",{class:"flex-fill tab-container px-1"},this.renderTabScreen()),e("ir-button",{isLoading:this.isLoading,onClickHanlder:()=>this.saveConnectedChannel(),class:"px-1 py-1 top-border",btn_styles:"w-100  justify-content-center align-items-center",text:c.entries.Lcz_Save}))}};T.style=L;const B=".sc-ir-channel-general-h{display:block}.label-style.sc-ir-channel-general{width:100px;text-align:end;padding-right:10px !important}.connection-testing-container.sc-ir-channel-general{display:flex;align-items:center;justify-content:space-between;margin-top:10px !important}.connection-title.sc-ir-channel-general{border-bottom:1px solid #e4e5ec}.ml-18.sc-ir-channel-general{margin-left:18% !important}svg.sc-ir-channel-general{margin-right:5px}";const j=class{constructor(i){t(this,i);this.channel_status=null;this.buttonClicked=false;this.connection_status_message="";this.status=false}componentWillLoad(){var t;if(this.channel_status!=="create"||!b.isConnectedToChannel){return}this.connection_status_message=b.isConnectedToChannel?(t=c.entries)===null||t===void 0?void 0:t.Lcz_ConnectedChannel:"";this.status=true}handleTestConnectionClicked(t){var i,e,s;t.preventDefault();this.buttonClicked=true;if(this.channel_status!=="create"||!((i=b.channel_settings)===null||i===void 0?void 0:i.hotel_id)||b.isConnectedToChannel){return}const n=z();this.status=n;this.connection_status_message=n?(e=c.entries)===null||e===void 0?void 0:e.Lcz_ConnectedChannel:(s=c.entries)===null||s===void 0?void 0:s.Lcz_IncorrectConnection;this.buttonClicked=false}render(){var t,i,s,o,a,l,r,h,d;return e(n,{class:"px-1"},e("section",{class:"ml-18"},e("fieldset",{class:"d-flex align-items-center"},e("label",{htmlFor:"hotel_channels",class:"m-0 p-0 label-style"},(t=c.entries)===null||t===void 0?void 0:t.Lcz_Channel),e("ir-combobox",{input_id:"hotel_channels",disabled:b.isConnectedToChannel,class:"flex-fill",value:(i=b.selectedChannel)===null||i===void 0?void 0:i.name,onComboboxValueChange:t=>{w(t.detail.data.toString())},data:b.channels.map((t=>({id:t.id,name:t.name})))})),e("fieldset",{class:"d-flex align-items-center mt-1"},e("label",{htmlFor:"hotel_title",class:"m-0 p-0 label-style"},(s=c.entries)===null||s===void 0?void 0:s.Lcz_Title),e("div",{class:"flex-fill"},e("input",{id:"hotel_title",value:(o=b.channel_settings)===null||o===void 0?void 0:o.hotel_title,onInput:t=>y("hotel_title",t.target.value),class:"form-control  flex-fill"})))),b.selectedChannel&&e("form",{onSubmit:this.handleTestConnectionClicked.bind(this),class:"mt-3 connection-container"},e("h3",{class:"text-left font-medium-2  py-0 my-0 connection-title py-1 mb-2"},(a=c.entries)===null||a===void 0?void 0:a.Lcz_ConnectionSettings),e("div",{class:"ml-18"},e("fieldset",{class:"d-flex align-items-center my-1"},e("label",{htmlFor:"hotel_id",class:"m-0 p-0 label-style"},(l=c.entries)===null||l===void 0?void 0:l.Lcz_HotelID),e("div",{class:"flex-fill"},e("input",{id:"hotel_id",disabled:b.isConnectedToChannel,class:`form-control  flex-fill bg-white ${this.buttonClicked&&!((r=b.channel_settings)===null||r===void 0?void 0:r.hotel_id)&&"border-danger"}`,value:(h=b.channel_settings)===null||h===void 0?void 0:h.hotel_id,onInput:t=>y("hotel_id",t.target.value)}))),e("div",{class:"connection-testing-container"},e("div",{class:"d-flex align-items-center"},this.connection_status_message&&(this.status?e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 512 512"},e("path",{fill:"var(--green)",d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"})):e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12",width:"12",viewBox:"0 0 512 512"},e("path",{fill:"var(--yellow)",d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"}))),e("span",null,this.connection_status_message)),e("button",{class:"btn btn-outline-secondary btn-sm",type:"submit"},(d=c.entries)===null||d===void 0?void 0:d.Lcz_TestConnection)))))}};j.style=B;const I=".sc-ir-channel-header-h{display:block;position:relative;padding:0;margin:0;border-bottom:1px solid #e4e5ec}ul.sc-ir-channel-header{display:flex;align-items:center;gap:2rem;padding:0}li.sc-ir-channel-header{list-style:none !important}.tab.sc-ir-channel-header{font-size:0.95rem;font-weight:600;cursor:pointer;position:relative;margin:0;padding:0;transition:color 0.3s ease;user-select:none}.tab[data-disabled].sc-ir-channel-header{cursor:auto}.tab.sc-ir-channel-header:hover{opacity:80%}.tab[data-state='selected'].sc-ir-channel-header,.tab[data-state='selected'].sc-ir-channel-header:hover{color:var(--blue);opacity:100%}.active-indicator.sc-ir-channel-header{padding:0;bottom:0px;position:absolute;height:3px;border-radius:4px;transition:transform 0.3s ease, width 0.3s ease;background:var(--blue)}";const $=class{constructor(e){t(this,e);this.tabChanged=i(this,"tabChanged",7);this.headerTitles=[];this.selectedIndex=0}componentDidLoad(){this.updateActiveIndicator()}disconnectedCallback(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}}handleTabSelection(t){this.selectedIndex=t;this.updateActiveIndicator();this.tabChanged.emit(this.headerTitles[this.selectedIndex].id)}updateActiveIndicator(){if(this.animationFrameId){cancelAnimationFrame(this.animationFrameId)}requestAnimationFrame((()=>{const t=this.el.querySelector(`li.tab[data-state="selected"]`);if(t){const{left:i,width:e}=t.getBoundingClientRect();const s=this.el.getBoundingClientRect().left;const n=i-s;this.activeIndicator.style.width=`${e}px`;this.activeIndicator.style.transform=`translateX(${n}px)`}}))}render(){return e(n,null,e("ul",{class:"px-1"},this.headerTitles.map(((t,i)=>e("li",{class:`tab ${t.disabled?"text-light":""}`,key:t.id,onClick:()=>{if(!t.disabled)this.handleTabSelection(i)},"data-disabled":t.disabled,"data-state":this.selectedIndex===i?"selected":""},t.name)))),e("span",{class:"active-indicator",ref:t=>this.activeIndicator=t}))}get el(){return o(this)}};$.style=I;class E{removedMapping(t,i){let e=[...b.mappedChannels];if(i){const i=p.roomsInfo.find((i=>i.id.toString()===t));e=e.filter((t=>i.rateplans.find((i=>i.id.toString()===t.ir_id))===undefined))}b.mappedChannels=e.filter((i=>i.ir_id!==t))}checkMappingExists(t,i,e){const s=b.mappedChannels.find((i=>i.channel_id===t));if(!s){if(!i){const t=b.mappedChannels.find((t=>t.channel_id.toString()===e));if(!t){return{hide:true,result:undefined,occupancy:undefined}}}return{hide:false,result:undefined,occupancy:undefined}}if(i){const t=p.roomsInfo.find((t=>t.id.toString()===s.ir_id));return{hide:false,occupancy:t.occupancy_default.adult_nbr,result:t}}if(!e){throw new Error("Missing room type id")}const n=b.mappedChannels.find((t=>t.channel_id.toString()===e));const o=p.roomsInfo.find((t=>t.id.toString()===n.ir_id));if(!o){throw new Error("Invalid Room type")}return{hide:false,occupancy:o.occupancy_default.adult_nbr,result:o.rateplans.find((t=>t.id.toString()===s.ir_id))}}getAppropriateRooms(t,i){if(t){const t=p.roomsInfo.filter((t=>b.mappedChannels.find((i=>i.ir_id.toString()===t.id.toString()))===undefined&&t.is_active));return t.map((t=>({id:t.id.toString(),name:t.name,occupancy:t.occupancy_default.adult_nbr})))}if(!i){throw new Error("Missing roomType id")}const e=b.mappedChannels.find((t=>t.channel_id.toString()===i));if(!e){throw new Error("Invalid room type id")}const s=p.roomsInfo.find((t=>t.id.toString()===e.ir_id));return s.rateplans.filter((t=>b.mappedChannels.find((i=>t.id.toString()===i.ir_id))===undefined)).map((t=>({id:t.id.toString(),name:t["short_name"],occupancy:s.occupancy_default.adult_nbr})))}}const F=".sc-ir-channel-mapping-h{display:block;box-sizing:border-box;font-size:14px !important}*.sc-ir-channel-mapping{padding:0;margin:0;box-sizing:border-box}.submap-text.sc-ir-channel-mapping{padding-left:10px}.text-blue.sc-ir-channel-mapping{color:var(--blue)}.text-red.sc-ir-channel-mapping{color:var(--red)}li.sc-ir-channel-mapping{list-style:none !important}.refresh-btn.sc-ir-channel-mapping{all:unset;color:var(--blue);cursor:pointer}.selected-map.sc-ir-channel-mapping{flex:1}.selected-map-title.sc-ir-channel-mapping{flex:1}.mapped_row.sc-ir-channel-mapping{display:flex;align-items:center}.mapped_item.sc-ir-channel-mapping+svg.sc-ir-channel-mapping{display:block;flex:0 0 4.166666666666666%;max-width:4.166666666666666%;margin:0}.mapped_row.sc-ir-channel-mapping .mapped_item.sc-ir-channel-mapping{flex:0 0 45.83333333333333%;display:block;max-width:45.83333333333333%}.mapped_item.sc-ir-channel-mapping{margin:0;padding:0;line-height:22px}.mapped_name.sc-ir-channel-mapping{margin-right:5px}.gap-3.sc-ir-channel-mapping{gap:5px}.channel_name.sc-ir-channel-mapping{color:rgba(0, 0, 0, 0.88);font-size:14px;font-weight:700}";const A=class{constructor(i){t(this,i);this.mappingService=new E;this.activeMapField="";this.availableRooms=[]}setActiveField(t,i,e){const s=this.mappingService.getAppropriateRooms(i,e);if(s){this.availableRooms=s}this.activeMapField=t}renderMappingStatus(t,i,n,o){var a;if(t.hide){return e("div",null)}if(t.result){return e(s,null,e("div",{class:"pl-2 flex-fill d-sm-none mapped_item text-blue d-flex align-items-center"},e("span",{class:"m-0 p-0 d-flex align-items-center selected-map"},e("span",{class:"selected-map-title"},n?t.result.name:t.result["short_name"]),e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"var(--blue)",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})),t.occupancy),e("ir-icon",{class:"ml-1 p-0",onIconClickHandler:()=>this.mappingService.removedMapping(t.result.id.toString(),n)},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"var(--blue)",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})))),e("div",{class:"pl-2 flex-fill d-none mapped_item text-blue d-sm-flex align-items-center"},e("span",{class:"mapped_name"},n?t.result.name:t.result["short_name"]),e("div",{class:"d-flex align-items-center gap-3 flex-fill"},e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"var(--blue)",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})),e("span",null,t.occupancy)),e("ir-icon",{class:"ml-1 p-0",onIconClickHandler:()=>this.mappingService.removedMapping(t.result.id.toString(),n)},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"var(--blue)",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})))))}return e("div",{class:"pl-2  flex-fill mapped_item"},this.activeMapField===i?e("ir-combobox",{autoFocus:true,placeholder:(a=c.entries)===null||a===void 0?void 0:a.Lcz_ConnectedChannel,data:this.availableRooms,onComboboxValueChange:t=>{_(t.detail.data,this.activeMapField,n);this.activeMapField=""}}):e("span",{class:"cursor-pointer text-danger",onClick:()=>this.setActiveField(i,n,o)},c.entries.Lcz_NotMapped))}render(){var t,i,o,a,l;return e(n,{class:"py-md-1 px-md-2"},e("div",{class:"d-flex p-0 m-0 w-100 justify-content-end"},e("button",{onClick:()=>{k()},class:"btn refresh-btn"},(t=c.entries)===null||t===void 0?void 0:t.Lcz_Refresh)),e("section",{class:"w-100"},e("div",{class:"py-1 mapped_row"},e("p",{class:"mapped_item channel_name"},(i=b.selectedChannel)===null||i===void 0?void 0:i.name),e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),e("p",{class:"pl-2 mapped_item channel_name"},"Igloorooms")),e("div",null,(l=(a=(o=b.selectedChannel)===null||o===void 0?void 0:o.property)===null||a===void 0?void 0:a.room_types)===null||l===void 0?void 0:l.map((t=>{const i=this.mappingService.checkMappingExists(t.id,true);return e(s,null,e("div",{key:t.id,class:"mb-1 mapped_row"},e("p",{class:"mapped_item"},t.name),e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),this.renderMappingStatus(i,t.id,true)),t.rate_plans.map((i=>{const s=this.mappingService.checkMappingExists(i.id,false,t.id);return e("div",{key:i.id,class:" mapped_row mb-1"},e("p",{class:"pl-1 submap-text mapped_item"},i.name),!s.hide&&e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})),this.renderMappingStatus(s,i.id,false,t.id))})))})))))}};A.style=F;const D=".sc-ir-combobox-h{display:block;position:relative;padding:0;margin:0}ul.sc-ir-combobox{position:absolute;margin:0;margin-top:2px;width:max-content;max-height:80px;border-radius:0.21rem;z-index:10000;padding:1px;background:white;box-shadow:0px 8px 16px 0px rgba(0, 0, 0, 0.2);padding:5px 0;max-height:250px;overflow-y:auto;min-width:100%}ul[data-position='bottom-right'].sc-ir-combobox{right:0}.dropdown-item.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox,span.sc-ir-combobox,loader-container.sc-ir-combobox{padding:0px 16px;margin:0px;margin-top:2px;width:100%;border-radius:2px}ul.sc-ir-combobox li.sc-ir-combobox{cursor:pointer}ul.sc-ir-combobox li.sc-ir-combobox{display:flex;align-items:center;flex-wrap:wrap;gap:3px}ul.sc-ir-combobox li.sc-ir-combobox p.sc-ir-combobox{margin:0;padding:0}ul.sc-ir-combobox li.sc-ir-combobox:hover{background:#f4f5fa}ul.sc-ir-combobox li[data-selected].sc-ir-combobox,ul.sc-ir-combobox li[data-selected].sc-ir-combobox:hover{color:#fff;text-decoration:none;background-color:#666ee8}";const R=class{constructor(e){t(this,e);this.comboboxValueChange=i(this,"comboboxValueChange",7);this.inputCleared=i(this,"inputCleared",7);this.toast=i(this,"toast",7);this.data=[];this.duration=300;this.placeholder=undefined;this.value=undefined;this.disabled=false;this.autoFocus=false;this.input_id=a();this.selectedIndex=-1;this.actualIndex=-1;this.isComboBoxVisible=false;this.isLoading=true;this.isItemSelected=undefined;this.inputValue="";this.filteredData=[];this.componentShouldAutoFocus=false}componentWillLoad(){this.filteredData=this.data}componentDidLoad(){if(this.autoFocus){this.focusInput()}}watchHandler(t,i){if(t!==i&&t===true){this.focusInput()}}handleKeyDown(t){var i;const e=this.filteredData.length;if(e>0){switch(t.key){case"ArrowUp":t.preventDefault();this.selectedIndex=(this.selectedIndex-1+e)%e;this.adjustScrollPosition();break;case"ArrowDown":t.preventDefault();this.selectedIndex=(this.selectedIndex+1)%e;this.adjustScrollPosition();break;case"Escape":(i=this.inputRef)===null||i===void 0?void 0:i.blur();this.isComboBoxVisible=false;break}}}focusInput(){requestAnimationFrame((()=>{var t;(t=this.inputRef)===null||t===void 0?void 0:t.focus()}))}adjustScrollPosition(){var t;const i=(t=this.el)===null||t===void 0?void 0:t.querySelector(`[data-selected]`);if(!i)return;i.scrollIntoView({block:"center"})}selectItem(t){if(this.filteredData[t]){this.isItemSelected=true;this.comboboxValueChange.emit({key:"select",data:this.filteredData[t].id});this.inputValue="";this.resetCombobox();if(this.autoFocus){this.focusInput()}}}debounceFetchData(){clearTimeout(this.debounceTimer);this.debounceTimer=setTimeout((()=>{this.fetchData()}),this.duration)}handleFocus(){this.isComboBoxVisible=true}clearInput(){this.inputValue="";this.resetCombobox();this.inputCleared.emit(null)}resetCombobox(t=true){var i;if(t){(i=this.inputRef)===null||i===void 0?void 0:i.blur()}this.selectedIndex=-1;this.isComboBoxVisible=false}async fetchData(){try{this.isLoading=true;this.filteredData=this.data.filter((t=>t.name.toLowerCase().startsWith(this.inputValue)));this.selectedIndex=-1}catch(t){console.log("error",t)}finally{this.isLoading=false}}handleInputChange(t){this.inputValue=t.target.value;if(this.inputValue){this.debounceFetchData()}else{this.filteredData=this.data}}handleDocumentClick(t){const i=t.target;if(!this.el.contains(i)){this.isComboBoxVisible=false}}handleBlur(){this.blurTimout=setTimeout((()=>{if(!this.isItemSelected){this.inputValue="";this.resetCombobox()}else{this.isItemSelected=false}}),300)}isDropdownItem(t){return t&&t.closest(".combobox")}disconnectedCallback(){var t,i,e,s;clearTimeout(this.debounceTimer);clearTimeout(this.blurTimout);(t=this.inputRef)===null||t===void 0?void 0:t.removeEventListener("blur",this.handleBlur);(i=this.inputRef)===null||i===void 0?void 0:i.removeEventListener("click",this.selectItem);(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener("keydown",this.handleKeyDown);(s=this.inputRef)===null||s===void 0?void 0:s.removeEventListener("focus",this.handleFocus)}handleItemKeyDown(t,i){var e;if(t.key==="Enter"||t.key===" "||t.key==="ArrowRight"){this.selectItem(i);t.preventDefault()}else if(t.key==="Escape"){this.isComboBoxVisible=false;(e=this.inputRef)===null||e===void 0?void 0:e.blur();t.preventDefault()}}renderDropdown(){var t;if(!this.isComboBoxVisible){return null}console.log(this.filteredData);return e("ul",{"data-position":this.filteredData.length>0&&this.filteredData[0].occupancy?"bottom-right":"bottom-left"},(t=this.filteredData)===null||t===void 0?void 0:t.map(((t,i)=>e("li",{onMouseEnter:()=>this.selectedIndex=i,role:"button",key:t.id,onKeyDown:t=>this.handleItemKeyDown(t,i),"data-selected":this.selectedIndex===i,tabIndex:0,onClick:()=>this.selectItem(i)},e("p",null,t.name),t.occupancy&&e(s,null,e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"12.25",viewBox:"0 0 448 512"},e("path",{fill:"currentColor",d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})),e("p",null,t.occupancy))))),this.filteredData.length===0&&!this.isLoading&&e("span",{class:"text-center"},c.entries.Lcz_NoResultsFound))}handleSubmit(t){t.preventDefault();t.stopPropagation();console.log("object");if(!this.filteredData.length){return}this.selectItem(this.selectedIndex===-1?0:this.selectedIndex)}render(){return e("form",{onSubmit:this.handleSubmit.bind(this),class:"m-0 p-0"},e("input",{type:"text",class:"form-control bg-white",id:this.input_id,ref:t=>this.inputRef=t,disabled:this.disabled,value:this.value,placeholder:this.placeholder,onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this),onInput:this.handleInputChange.bind(this),onFocus:this.handleFocus.bind(this),autoFocus:this.autoFocus}),this.renderDropdown())}get el(){return o(this)}static get watchers(){return{isComboBoxVisible:["watchHandler"]}}};R.style=D;const O=[{isCSS:true,link:"https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CQuicksand:300,400,500,700"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/bootstrap-extended.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/colors.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/menu/menu-types/horizontal-menu.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/core/colors/palette-gradient.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/components.css"},{isCSS:true,link:"https://x.igloorooms.com/assets/css/style.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/icheck.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/vendors/css/forms/icheck/custom.css"},{isCSS:true,link:"https://x.igloorooms.com/app-assets/css/pages/login-register.css"}];const W=class{constructor(i){t(this,i);this.extraResources="";this.resources=O}componentWillLoad(){this.parseRefs()}componentDidLoad(){this.initializeStyles()}hrefsChanged(){this.parseRefs();this.initializeStyles()}parseRefs(){if(this.extraResources!=="")this.resources.push(JSON.parse(this.extraResources))}appendTag(t,i){const e=document.createElement(t);const s=[];Object.keys(i).forEach((t=>{e.setAttribute(t,i[t]);s.push(`[${t}="${i[t]}"]`)}));const n=`${t}${s.join("")}`;const o=document.querySelector(n);if(!o){document.head.appendChild(e)}}initializeStyles(){this.resources.forEach((t=>{if(t.isCSS){this.appendTag("link",{href:t.link,rel:"stylesheet",type:"text/css"})}if(t.isJS){this.appendTag("script",{src:t.link})}}))}render(){return e(n,null,e("slot",null))}static get watchers(){return{extraResources:["hrefsChanged"]}}};const K=".sc-ir-icon-h{margin:0;padding:0}.icon-button.sc-ir-icon{all:unset;margin:0;padding:0;color:#104064}.icon-button.sc-ir-icon:hover{cursor:pointer;color:#1a6aa7}";const N=class{constructor(e){t(this,e);this.iconClickHandler=i(this,"iconClickHandler",7);this.icon="ft-check"}render(){return e("button",{class:"icon-button",onClick:()=>this.iconClickHandler.emit()},e("slot",{name:"icon"}))}};N.style=K;const P=".sc-ir-loading-screen-h{display:fixed;height:100vh;width:100vw;z-index:1000;top:0;left:0;display:flex;align-items:center;justify-content:center;background:white}.loader.sc-ir-loading-screen{width:1.25rem;height:1.25rem;border:2.5px solid #3f3f3f;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}.loaderContainer.sc-ir-loading-screen{position:absolute;z-index:100001;padding:20px;top:50%;left:50%;transform:translate(-50%, -50%);background:white;display:flex;align-items:center;justify-content:center;gap:20px;border-radius:5px}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";const X=class{constructor(i){t(this,i);this.message=""}render(){return e(n,null,e("span",{class:"loader"}))}};X.style=P;const Z=".backdropModal.sc-ir-modal{background-color:rgba(0, 0, 0, 0.5);z-index:1000;position:fixed;top:0;left:0;height:100vh;width:100%;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none}.backdropModal.active.sc-ir-modal{cursor:pointer;opacity:1 !important;pointer-events:all}.ir-modal[data-state='opened'].sc-ir-modal{opacity:1;visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}.ir-alert-content.sc-ir-modal{padding:10px;background:white;border-radius:5px}.modal.sc-ir-modal{z-index:1001 !important}.modal-dialog.sc-ir-modal{height:100vh;display:flex;align-items:center}.ir-alert-footer.sc-ir-modal{gap:10px}.ir-modal.sc-ir-modal{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1050;width:90%;max-width:32rem;overflow:hidden;outline:0;opacity:0;transition:transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;visibility:hidden;pointer-events:none}.ir-modal.active.sc-ir-modal{opacity:1;transform:translate(-50%, 0);visibility:visible;pointer-events:all;transition:all 0.3s ease-in-out}";const q=class{constructor(e){t(this,e);this.confirmModal=i(this,"confirmModal",7);this.cancelModal=i(this,"cancelModal",7);this.modalTitle="Modal Title";this.modalBody="Modal Body";this.rightBtnActive=true;this.leftBtnActive=true;this.rightBtnText="Confirm";this.leftBtnText="Close";this.rightBtnColor="primary";this.leftBtnColor="secondary";this.btnPosition="right";this.iconAvailable=false;this.icon="";this.isOpen=false;this.item={}}async closeModal(){this.isOpen=false}async openModal(){this.isOpen=true}btnClickHandler(t){let i=t.target;let e=i.name;if(e===this.leftBtnText){this.cancelModal.emit();this.item={};this.closeModal()}else if(e===this.rightBtnText){this.confirmModal.emit(this.item);this.item={};this.closeModal()}}render(){return[e("div",{class:`backdropModal ${this.isOpen?"active":""}`,onClick:()=>{this.cancelModal.emit();this.closeModal()}}),e("div",{"data-state":this.isOpen?"opened":"closed",class:`ir-modal`,tabindex:"-1"},e("div",{class:`ir-alert-content p-2`},e("div",{class:`ir-alert-header align-items-center border-0 py-0 m-0 `}),e("div",{class:"modal-body text-left p-0 mb-2"},e("div",null,this.modalBody)),e("div",{class:`ir-alert-footer border-0  d-flex justify-content-${this.btnPosition==="center"?"center":this.btnPosition==="left"?"start":"end"}`},this.leftBtnActive&&e("ir-button",{icon:"",btn_color:this.leftBtnColor,btn_block:true,text:this.leftBtnText,name:this.leftBtnText}),this.rightBtnActive&&e("ir-button",{icon:"",btn_color:this.rightBtnColor,btn_block:true,text:this.rightBtnText,name:this.rightBtnText}))))]}};q.style=Z;const G=".backdrop{position:fixed;top:0;left:0;width:100%;height:100vh;cursor:pointer;background:rgba(0, 0, 0, 0.5);z-index:99;transition:all 0.5s;opacity:0;pointer-events:none;transition:all 0.5s}.backdrop.active{opacity:1;pointer-events:all}.sidebar-right{position:fixed;top:0;right:-120%;bottom:0;width:var(--sidebar-width, 40rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:100;overflow-y:hidden;color:var(--sidebar-color, #000);background-color:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-right.active{right:0;overflow-y:auto}.sidebar-left{position:fixed;top:0;left:-100%;bottom:0;width:var(--sidebar-width, 30rem);max-width:100%;box-shadow:0 0 10px rgba(0, 0, 0, 0.1);transition:all 0.5s;z-index:200;overflow-y:hidden;color:var(--sidebar-color, #000);background:var(--sidebar-backgound, #fff);padding:var(--ir-sidebar-padding, 0.5rem 0)}.sidebar-left.active{left:0;overflow-y:scroll}.close{position:absolute;top:0.5rem;right:1rem;width:1rem;height:1rem;cursor:pointer}";const J=class{constructor(e){t(this,e);this.irSidebarToggle=i(this,"irSidebarToggle",7);this.name=undefined;this.side="right";this.showCloseButton=true;this.open=false;this.sidebarStyles=undefined}applyStyles(){for(const t in this.sidebarStyles){if(this.sidebarStyles.hasOwnProperty(t)){this.sidebarRef.style[t]=this.sidebarStyles[t]}}}handleSidebarStylesChange(){this.applyStyles()}componentWillLoad(){this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidLoad(){this.applyStyles();document.addEventListener("keydown",this.handleKeyDown)}handleKeyDown(t){if(t.key==="Escape"){return this.toggleSidebar()}else{return}}disconnectedCallback(){document.removeEventListener("keydown",this.handleKeyDown)}async toggleSidebar(){this.irSidebarToggle.emit(this.open)}render(){let t="";if(this.open){t="active"}else{t=""}return[e("div",{class:`backdrop ${t}`,onClick:()=>{this.toggleSidebar()}}),e("div",{ref:t=>this.sidebarRef=t,class:`sidebar-${this.side} ${t}`},this.showCloseButton&&e("ir-icon",{class:"close",onIconClickHandler:()=>{this.toggleSidebar()}},e("svg",{slot:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",height:20,width:20},e("path",{fill:"#6b6f82",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))),e("slot",{name:"sidebar-body"}))]}static get watchers(){return{sidebarStyles:["handleSidebarStylesChange"]}}};J.style=G;const Q=".sc-ir-switch-h{display:block;position:relative;box-sizing:border-box;--ir-root-width:36px;--ir-root-height:20px}.hidden-input.sc-ir-switch{transform:translateX(-100%);position:absolute;pointer-events:none;opacity:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height)}.SwitchRoot.sc-ir-switch{all:unset;padding:0;margin:0;width:var(--ir-root-width);height:var(--ir-root-height);background-color:var(--ir-root-inactive-color, #ff4961);position:relative;box-shadow:rgba(0, 0, 0, 0.2) 0px 2px 10px;--webkit-tap-highlight-color:rgba(0, 0, 0, 0);border-radius:9999px;box-sizing:border-box}.SwitchRoot.sc-ir-switch:disabled{opacity:80%}.SwitchRoot.sc-ir-switch:focus-visible{outline:1px solid var(--ir-root-active-color, rgb(55, 188, 155));outline-offset:1px}.SwitchRoot[data-state='checked'].sc-ir-switch{background-color:var(--ir-root-active-color, rgb(55, 188, 155))}.SwitchThumb.sc-ir-switch{padding:0;margin:0;display:block;width:calc(var(--ir-root-height) - 3px);height:calc(var(--ir-root-height) - 3px);border-radius:9999px;background:white;box-shadow:rgba(0, 0, 0, 0.2) 0px;transition:transform 100ms ease 0s;transform:translateX(2px);will-change:transform}.SwitchThumb[data-state='checked'].sc-ir-switch{transform:translateX(calc(var(--ir-root-height) - 3px))}";const U=class{constructor(e){t(this,e);this.checkChange=i(this,"checkChange",7);this._id="";this.checked=false;this.switchId=undefined;this.disabled=false}componentWillLoad(){this._id=this.generateRandomId(10)}componentDidLoad(){if(!this.switchRoot){return}this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false")}generateRandomId(t){let i="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const s=e.length;for(let n=0;n<t;n++){i+=e.charAt(Math.floor(Math.random()*s))}return i}handleCheckChange(){this.checked=!this.checked;this.switchRoot.setAttribute("aria-checked",this.checked?"true":"false");this.checkChange.emit(this.checked)}render(){return e(n,null,e("button",{disabled:this.disabled,ref:t=>this.switchRoot=t,type:"button",id:this.switchId||this._id,onClick:this.handleCheckChange.bind(this),role:"switch","data-state":this.checked?"checked":"unchecked",value:"on",class:"SwitchRoot"},e("span",{class:"SwitchThumb","data-state":this.checked?"checked":"unchecked"})),e("input",{type:"checkbox",checked:this.checked,"aria-hidden":"true",tabIndex:-1,value:"on",class:"hidden-input"}))}};U.style=Q;export{m as ir_button,V as ir_channel,T as ir_channel_editor,j as ir_channel_general,$ as ir_channel_header,A as ir_channel_mapping,R as ir_combobox,W as ir_common,N as ir_icon,X as ir_loading_screen,q as ir_modal,J as ir_sidebar,U as ir_switch};
//# sourceMappingURL=p-b270099e.entry.js.map