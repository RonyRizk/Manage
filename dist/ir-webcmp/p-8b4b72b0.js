import{a as t,c as r}from"./p-f2a3c01f.js";import{a as o}from"./p-b140279c.js";import{l as e}from"./p-88f39b70.js";class s{constructor(){this.token=JSON.parse(sessionStorage.getItem("token"))}async fetchData(e,s){try{if(this.token!==null){const{data:a}=await t.post(`/Get_Exposed_Property?Ticket=${this.token}`,{id:e,language:s});if(a.ExceptionMsg!==""){throw new Error(a.ExceptionMsg)}const n=a.My_Result;r.adultChildConstraints=n.adult_child_constraints;r.allowedBookingSources=n.allowed_booking_sources;r.allowed_payment_methods=n.allowed_booking_methods;r.currency=n.currency;r.is_vacation_rental=n.is_vacation_rental;r.pickup_service=n.pickup_service;r.max_nights=n.max_nights;o.connected_channels=n.connected_channels;r.is_frontdesk_enabled=n.is_frontdesk_enabled;return a}}catch(t){console.log(t);throw new Error(t)}}async getExposedChannels(){try{if(this.token!==null){const{data:r}=await t.post(`/Get_Exposed_Channels?Ticket=${this.token}`,{});if(r.ExceptionMsg!==""){throw new Error(r.ExceptionMsg)}const e=r.My_Result;o.channels=e;return r}}catch(t){console.log(t);throw new Error(t)}}async fetchLanguage(r){try{if(this.token!==null){const{data:o}=await t.post(`/Get_Exposed_Language?Ticket=${this.token}`,{code:r});if(o.ExceptionMsg!==""){throw new Error(o.ExceptionMsg)}let s=this.transformArrayToObject(o.My_Result.entries);e.entries=s;e.direction=o.My_Result.direction;return{entries:s,direction:o.My_Result.direction}}}catch(t){console.log(t);throw new Error(t)}}transformArrayToObject(t){let r={};for(const o of t){r[o.code]=o.description}return r}}export{s as R};
//# sourceMappingURL=p-8b4b72b0.js.map