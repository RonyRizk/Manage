import{r as t,h as o,H as s,g as e}from"./p-05195efb.js";import{R as n}from"./p-2b0c0f582.js";import{r as i,c as r}from"./p-48a92ecc.js";import{l}from"./p-dda5a727.js";import{a}from"./p-539b691e.js";import"./p-16fbf1a7.js";import"./p-7cd9c724.js";const c=".sc-ir-channel-h{display:block}.dropdown-toggle.sc-ir-channel{color:var(--blue)}.dropdown-toggle.sc-ir-channel::after{content:none;display:none}.dropdown-toggle.sc-ir-channel .caret-icon.sc-ir-channel{transition:transform 0.15s ease-in-out, color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\r\n    -webkit-box-shadow 0.15s ease-in-out}.btn.sc-ir-channel:hover .caret-icon.sc-ir-channel path.sc-ir-channel{fill:#6b6f82}.show.sc-ir-channel .caret-icon.sc-ir-channel{transform:rotate(-180deg)}";const d=class{constructor(o){t(this,o);this.roomService=new n;this.ticket="";this.propertyid=undefined;this.language=undefined;this.baseurl=undefined;this.channel_status=null}componentWillLoad(){if(this.baseurl){a.defaults.baseURL=this.baseurl}if(this.ticket!==""){this.initializeApp()}}async initializeApp(){try{const[,,t]=await Promise.all([this.roomService.fetchData(this.propertyid,this.language),this.roomService.getExposedChannels(),this.roomService.fetchLanguage(this.language)]);console.log(t);if(!l.entries){l.entries=t.entries;l.direction=t.direction}}catch(t){console.error(t)}}async ticketChanged(){sessionStorage.setItem("token",JSON.stringify(this.ticket));this.initializeApp()}render(){var t;return o(s,null,o("section",{class:"p-2"},o("div",{class:"d-flex w-100 justify-content-end mb-2"},o("ir-button",{text:"Create",size:"sm",onClickHanlder:()=>this.channel_status="create"})),o("div",null,o("table",{class:"table"},o("thead",{class:""},o("tr",null,o("th",{scope:"col",class:"text-left"},"Title"),o("th",{scope:"col"},"Channel"),o("th",{scope:"col"},"Status"),o("th",{scope:"col"},"Actions"))),o("tbody",null,(t=r.connected_channels)===null||t===void 0?void 0:t.map((t=>o("tr",{key:t.channel.id},o("th",{scope:"row",class:"text-left"},t.title),o("th",{scope:"row"},t.channel.name),o("td",null,o("ir-switch",{checked:t.is_active})),o("th",null,o("div",{class:"btn-group"},o("button",{type:"button",class:"btn  dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o("span",{class:"mr-1"},"Actions"),o("svg",{class:"caret-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:14,width:14},o("path",{fill:"var(--blue)",d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}))),o("div",{class:"dropdown-menu dropdown-menu-right"},o("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Edit"),o("button",{class:"dropdown-item border-bottom border-light",type:"button"},"View logs"),o("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Full Sync"),o("button",{class:"dropdown-item border-bottom border-light",type:"button"},"Pull Future Reservations"),o("button",{class:"dropdown-item",type:"button"},"Remove"))))))))))),o("ir-sidebar",{showCloseButton:false,onIrSidebarToggle:t=>{t.stopImmediatePropagation();t.stopPropagation();this.channel_status=null;i()},open:this.channel_status!==null},this.channel_status&&o("ir-channel-editor",{onCloseSideBar:()=>{this.channel_status=null;i()}})),o("ir-modal",null))}get el(){return e(this)}static get watchers(){return{ticket:["ticketChanged"]}}};d.style=c;export{d as ir_channel};
//# sourceMappingURL=p-0e992bb9.entry.js.map