{"version":3,"file":"ir-booking-details.js","sourceRoot":"","sources":["../../../src/components/ir-booking-details/ir-booking-details.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Listen, h, Prop, Watch, State, Event, EventEmitter, Element, Fragment } from '@stencil/core';\r\nimport moment from 'moment';\r\nimport { guestInfo, selectOption } from '../../common/models';\r\nimport { _formatDate, _formatTime } from './functions';\r\nimport { Booking, Guest, Room } from '../../models/booking.dto';\r\nimport axios from 'axios';\r\nimport { BookingService } from '../../services/booking.service';\r\nimport { TIglBookPropertyPayload } from '../../models/igl-book-property';\r\nimport { RoomService } from '../../services/room.service';\r\nimport { ILocale } from '@/stores/locales.store';\r\n\r\n@Component({\r\n  tag: 'ir-booking-details',\r\n  styleUrl: 'ir-booking-details.css',\r\n})\r\nexport class IrBookingDetails {\r\n  // Booking Details\r\n  @Element() element: HTMLElement;\r\n  @Prop({ mutable: true, reflect: true }) bookingDetails: any = null;\r\n  @Prop() editBookingItem;\r\n  // Setup Data\r\n  @Prop() setupDataCountries: selectOption[] = null;\r\n  @Prop() setupDataCountriesCode: selectOption[] = null;\r\n  @Prop() languageAbreviation: string = '';\r\n  @Prop() language: string = '';\r\n  @Prop() ticket: string = '';\r\n  @Prop() bookingNumber: string = '';\r\n  @Prop() baseurl: string = '';\r\n  @Prop({ mutable: true }) dropdownStatuses: any = [];\r\n  @Prop() propertyid: number;\r\n  @Prop() paymentDetailsUrl: string = '';\r\n  @Prop() paymentExceptionMessage: string = '';\r\n\r\n  // Statuses and Codes\r\n  @Prop() statusCodes: any = [];\r\n\r\n  // Booleans Conditions\r\n  @Prop() hasPrint: boolean = false;\r\n  @Prop() hasReceipt: boolean = false;\r\n  @Prop() hasDelete: boolean = false;\r\n  @Prop() hasMenu: boolean = false;\r\n\r\n  // Room Booleans\r\n  @Prop() hasRoomEdit: boolean = false;\r\n  @Prop() hasRoomDelete: boolean = false;\r\n  @Prop() hasRoomAdd: boolean = false;\r\n  @Prop() hasCheckIn: boolean = false;\r\n  @Prop() hasCheckOut: boolean = false;\r\n  @State() bookingItem: TIglBookPropertyPayload | null = null;\r\n  @State() statusData = [];\r\n  // Temp Status Before Save\r\n  @State() tempStatus: string = null;\r\n\r\n  @State() showPaymentDetails: any;\r\n  @State() bookingData: Booking;\r\n  @State() countryNodeList: any;\r\n  @State() calendarData: any = {};\r\n  // Guest Data\r\n  @State() guestData: Guest = null;\r\n  @State() defaultTexts: ILocale;\r\n  // Rerender Flag\r\n  @State() rerenderFlag = false;\r\n  @State() isSidebarOpen = false;\r\n\r\n  // Event Emitters\r\n\r\n  // Guest Event\r\n  @Event() sendDataToServer: EventEmitter<guestInfo>;\r\n  @Event() handlePrintClick: EventEmitter;\r\n  @Event() handleReceiptClick: EventEmitter;\r\n  @Event() handleDeleteClick: EventEmitter;\r\n  @Event() handleMenuClick: EventEmitter;\r\n  // Room Event\r\n  @Event() handleRoomAdd: EventEmitter;\r\n  @Event() handleRoomEdit: EventEmitter;\r\n  @Event() handleRoomDelete: EventEmitter;\r\n  // Payment Event\r\n  @Event() handleAddPayment: EventEmitter;\r\n  private bookingService = new BookingService();\r\n  private roomService = new RoomService();\r\n  componentDidLoad() {\r\n    if (this.baseurl) {\r\n      axios.defaults.baseURL = this.baseurl;\r\n    }\r\n    if (this.ticket !== '') {\r\n      this.initializeApp();\r\n    }\r\n  }\r\n  @Watch('ticket')\r\n  async ticketChanged() {\r\n    sessionStorage.setItem('token', JSON.stringify(this.ticket));\r\n    this.initializeApp();\r\n  }\r\n  setRoomsData(roomServiceResp) {\r\n    let roomsData: { [key: string]: any }[] = new Array();\r\n    if (roomServiceResp.My_Result?.roomtypes?.length) {\r\n      roomsData = roomServiceResp.My_Result.roomtypes;\r\n      roomServiceResp.My_Result.roomtypes.forEach(roomCategory => {\r\n        roomCategory.expanded = true;\r\n      });\r\n    }\r\n    this.calendarData.roomsInfo = roomsData;\r\n  }\r\n  async initializeApp() {\r\n    try {\r\n      const [roomResponse, languageTexts, countriesList, bookingDetails] = await Promise.all([\r\n        this.roomService.fetchData(this.propertyid, this.language),\r\n        this.roomService.fetchLanguage(this.language),\r\n        this.bookingService.getCountries(this.language),\r\n        this.bookingService.getExposedBooking(this.bookingNumber, this.language),\r\n      ]);\r\n\r\n      this.defaultTexts = languageTexts;\r\n      console.log(this.defaultTexts);\r\n      this.countryNodeList = countriesList;\r\n\r\n      const { allowed_payment_methods: paymentMethods, currency, allowed_booking_sources, adult_child_constraints, calendar_legends } = roomResponse['My_Result'];\r\n      this.calendarData = { currency, allowed_booking_sources, adult_child_constraints, legendData: calendar_legends };\r\n      this.setRoomsData(roomResponse);\r\n      // console.log(this.calendarData);\r\n      const paymentCodesToShow = ['001', '004'];\r\n      this.showPaymentDetails = paymentMethods.some(method => paymentCodesToShow.includes(method.code));\r\n\r\n      this.guestData = bookingDetails.guest;\r\n      this.bookingData = bookingDetails;\r\n      this.rerenderFlag = !this.rerenderFlag;\r\n    } catch (error) {\r\n      console.error('Error initializing app:', error);\r\n    }\r\n  }\r\n\r\n  @Listen('iconClickHandler')\r\n  handleIconClick(e) {\r\n    const target = e.target;\r\n\r\n    switch (target.id) {\r\n      case 'print':\r\n        this.handlePrintClick.emit();\r\n        return;\r\n      case 'receipt':\r\n        this.handleReceiptClick.emit();\r\n        return;\r\n      case 'book-delete':\r\n        this.handleDeleteClick.emit();\r\n        return;\r\n      case 'menu':\r\n        this.element.querySelector('ir-sidebar').open = true;\r\n\r\n        this.handleMenuClick.emit();\r\n        return;\r\n      case 'room-add':\r\n        this.handleRoomAdd.emit();\r\n        return;\r\n      case 'add-payment':\r\n        this.handleAddPayment.emit();\r\n        return;\r\n    }\r\n\r\n    const targetID: string = target.id;\r\n    if (targetID.includes('roomEdit')) {\r\n      const roomID = target.id.split('-')[1];\r\n      this.handleRoomEdit.emit(roomID);\r\n    } else if (target.id.includes('roomDelete')) {\r\n      const roomID = target.id.split('-')[1];\r\n      this.handleRoomDelete.emit(roomID);\r\n    }\r\n  }\r\n\r\n  @Listen('editSidebar')\r\n  handleEditSidebar() {\r\n    this.isSidebarOpen = true;\r\n  }\r\n  @Listen('selectChange')\r\n  handleSelectChange(e) {\r\n    const target = e.target;\r\n    const targetID = target.id;\r\n    switch (targetID) {\r\n      case 'update-status':\r\n        this.tempStatus = e.detail;\r\n        break;\r\n    }\r\n  }\r\n\r\n  @Listen('clickHanlder')\r\n  handleClick(e) {\r\n    const target = e.target;\r\n    const targetID = target.id;\r\n    switch (targetID) {\r\n      case 'update-status-btn':\r\n        this.updateStatus();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @Watch('dropdownStatuses')\r\n  watchDropdownStatuses(newValue: any, oldValue: any) {\r\n    console.log('The new value of dropdownStatuses is: ', newValue);\r\n    console.log('The old value of dropdownStatuses is: ', oldValue);\r\n    // Make the newValue in way that can be handled by the dropdown\r\n    try {\r\n      const _newValue = newValue.map(item => {\r\n        return {\r\n          value: item.CODE_NAME,\r\n          text: this._getBookingStatus(item.CODE_NAME, '_BOOK_STATUS'),\r\n        };\r\n      });\r\n\r\n      this.statusData = _newValue;\r\n      console.log('The new value of statusData is: ', this.statusData);\r\n      this.rerenderFlag = !this.rerenderFlag;\r\n    } catch (e) {\r\n      console.log('Error in watchDropdownStatuses: ', e);\r\n    }\r\n  }\r\n\r\n  openEditSidebar() {\r\n    const sidebar: any = document.querySelector('ir-sidebar#editGuestInfo');\r\n    sidebar.open = true;\r\n  }\r\n\r\n  _calculateNights(fromDate: string, toDate: string) {\r\n    // calculate the difference between the two dates\r\n    const diff = moment(toDate).diff(moment(fromDate), 'days');\r\n    // return the difference\r\n    return diff;\r\n  }\r\n\r\n  _getBookingStatus(statusCode: string, tableName: string) {\r\n    // get the status from the statusCode and tableName and also where the language is CODE_VALUE_${language}\r\n    const status = this.statusCodes.find((status: any) => status.CODE_NAME === statusCode && status.TBL_NAME === tableName);\r\n\r\n    const value = status[`CODE_VALUE_${this.languageAbreviation}`];\r\n    // return the status\r\n    return value;\r\n  }\r\n\r\n  updateStatus() {\r\n    const bookingDetails = this.bookingDetails;\r\n    bookingDetails.BOOK_STATUS_CODE = this.tempStatus;\r\n    this.bookingDetails = bookingDetails;\r\n    this.rerenderFlag = !this.rerenderFlag;\r\n    this.sendDataToServer.emit(this.bookingDetails);\r\n  }\r\n  @Listen('editInitiated')\r\n  handleEditInitiated(e: CustomEvent<TIglBookPropertyPayload>) {\r\n    //console.log(e.detail);\r\n    this.bookingItem = e.detail;\r\n  }\r\n  handleCloseBookingWindow() {\r\n    this.bookingItem = null;\r\n  }\r\n  handleDeleteFinish(e: CustomEvent) {\r\n    this.bookingData = { ...this.bookingData, rooms: this.bookingData.rooms.filter(room => room.identifier !== e.detail) };\r\n  }\r\n  @Listen('resetBookingData')\r\n  async handleResetBookingData(e: CustomEvent) {\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n    try {\r\n      const booking = await this.bookingService.getExposedBooking(this.bookingNumber, this.language);\r\n      this.bookingData = { ...booking };\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.bookingData) {\r\n      return null;\r\n    }\r\n\r\n    // let confirmationBG: string = '';\r\n    // switch (this.bookingData.status.code) {\r\n    //   case '001':\r\n    //     confirmationBG = 'bg-ir-orange';\r\n    //     break;\r\n    //   case '002':\r\n    //     confirmationBG = 'bg-ir-green';\r\n    //     break;\r\n    //   case '003':\r\n    //     confirmationBG = 'bg-ir-red';\r\n    //     break;\r\n    //   case '004':\r\n    //     confirmationBG = 'bg-ir-red';\r\n    //     break;\r\n    // }\r\n\r\n    return [\r\n      <ir-common></ir-common>,\r\n      <div class=\"fluid-container pt-1 mr-2 ml-2\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-7 col-md-12 d-flex justify-content-start align-items-end\">\r\n            <div class=\"font-size-large sm-padding-right\">{`${this.defaultTexts.entries.Lcz_Booking}#${this.bookingNumber}`}</div>\r\n            <div>\r\n              {/* format date */}@ {_formatDate(this.bookingData.booked_on.date)} {/* format time */}\r\n              {_formatTime(this.bookingData.booked_on.hour.toString(), +' ' + this.bookingData.booked_on.minute.toString())}\r\n            </div>\r\n          </div>\r\n          {/* <div class=\"col-lg-5 col-md-12 d-flex justify-content-end align-items-center\">\r\n            <span class={`confirmed btn-sm mr-2 ${confirmationBG}`}>{this.bookingData.status.description}</span>\r\n            <ir-select id=\"update-status\" size=\"sm\" label-available=\"false\" data={this.statusData} textSize=\"sm\" class=\"sm-padding-right\"></ir-select>\r\n            <ir-button  id=\"update-status-btn\" size=\"sm\" text=\"Update\"></ir-button>\r\n            {this.hasReceipt && <ir-icon id=\"receipt\" icon=\"ft-file-text h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n            {this.hasPrint && <ir-icon id=\"print\" icon=\"ft-printer h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n            {this.hasDelete && <ir-icon id=\"book-delete\" icon=\"ft-trash-2 h1 danger ml-1 pointer\"></ir-icon>}\r\n            {this.hasMenu && <ir-icon id=\"menu\" icon=\"ft-list h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n          </div> */}\r\n        </div>\r\n      </div>,\r\n      <div class=\"fluid-container m-1 text-left\">\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-lg-5 col-md-12 pl-0 pr-lg-1 p-0\">\r\n            <div class=\"card\">\r\n              <div class=\"p-1\">\r\n                {this.bookingData.property.name || ''}\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_Source}:`} value={this.bookingData.origin.Label} imageSrc={this.bookingData.origin.Icon}></ir-label>\r\n                <ir-label\r\n                  label={`${this.defaultTexts.entries.Lcz_BookedBy}:`}\r\n                  value={`${this.bookingData.guest.first_name} ${this.bookingData.guest.last_name}`}\r\n                  iconShown={true}\r\n                ></ir-label>\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_Phone}:`} value={this.bookingData.guest.mobile}></ir-label>\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_Email}:`} value={this.bookingData.guest.email}></ir-label>\r\n                {/* <ir-label label=\"Alternate Email:\" value={this.bookingData.guest.email}></ir-label> */}\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_Address}:`} value={this.bookingData.guest.address}></ir-label>\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_ArrivalTime}:`} value={this.bookingData.arrival.description}></ir-label>\r\n                <ir-label label={`${this.defaultTexts.entries.Lcz_Note}:`} value={this.bookingData.remark}></ir-label>\r\n              </div>\r\n            </div>\r\n            <div class=\"font-size-large d-flex justify-content-between align-items-center ml-1 mb-1\">\r\n              {`${_formatDate(this.bookingData.from_date)} - ${_formatDate(this.bookingData.to_date)} (${this._calculateNights(\r\n                this.bookingData.from_date,\r\n                this.bookingData.to_date,\r\n              )} ${\r\n                this._calculateNights(this.bookingData.from_date, this.bookingData.to_date) > 1\r\n                  ? ` ${this.defaultTexts.entries.Lcz_Nights}`\r\n                  : ` ${this.defaultTexts.entries.Lcz_Night}`\r\n              })`}\r\n              {this.hasRoomAdd && <ir-icon id=\"room-add\" icon=\"ft-plus h3 color-ir-dark-blue-hover pointer\"></ir-icon>}\r\n            </div>\r\n            <div class=\"card\">\r\n              {this.bookingData.rooms.map((room: Room, index: number) => {\r\n                const mealCodeName = room.rateplan.name;\r\n                const myRoomTypeFoodCat = room.roomtype.name;\r\n\r\n                return [\r\n                  <ir-room\r\n                    defaultTexts={this.defaultTexts}\r\n                    legendData={this.calendarData.legendData}\r\n                    roomsInfo={this.calendarData.roomsInfo}\r\n                    myRoomTypeFoodCat={myRoomTypeFoodCat}\r\n                    mealCodeName={mealCodeName}\r\n                    currency={this.bookingData.currency.code}\r\n                    hasRoomEdit={this.hasRoomEdit}\r\n                    hasRoomDelete={this.hasRoomDelete}\r\n                    hasCheckIn={this.hasCheckIn}\r\n                    hasCheckOut={this.hasCheckOut}\r\n                    bookingEvent={this.bookingData}\r\n                    bookingIndex={index}\r\n                    ticket={this.ticket}\r\n                    onDeleteFinished={this.handleDeleteFinish.bind(this)}\r\n                  />,\r\n                  // add separator if not last item with marginHorizontal and alignCenter\r\n                  index !== this.bookingData.rooms.length - 1 && <hr class=\"mr-2 ml-2 mt-1 mb-1\" />,\r\n                ];\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-7 col-md-12 pr-0 pl-0 pl-md-1\">\r\n            <ir-payment-details\r\n              defaultTexts={this.defaultTexts}\r\n              bookingDetails={this.bookingData}\r\n              item={this.bookingDetails}\r\n              paymentExceptionMessage={this.paymentExceptionMessage}\r\n            ></ir-payment-details>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      <ir-sidebar\r\n        open={this.isSidebarOpen}\r\n        side={'right'}\r\n        id=\"editGuestInfo\"\r\n        onIrSidebarToggle={e => {\r\n          e.stopImmediatePropagation();\r\n          e.stopPropagation();\r\n          this.isSidebarOpen = false;\r\n        }}\r\n      >\r\n        <ir-guest-info\r\n          booking_nbr={this.bookingNumber}\r\n          defaultTexts={this.defaultTexts}\r\n          email={this.bookingData?.guest.email}\r\n          setupDataCountries={this.setupDataCountries}\r\n          setupDataCountriesCode={this.setupDataCountriesCode}\r\n          language={this.language}\r\n          onCloseSideBar={() => (this.isSidebarOpen = false)}\r\n        ></ir-guest-info>\r\n      </ir-sidebar>,\r\n      <Fragment>\r\n        {this.bookingItem && (\r\n          <igl-book-property\r\n            allowedBookingSources={this.calendarData.allowed_booking_sources}\r\n            adultChildConstraints={this.calendarData.adultChildConstraints}\r\n            showPaymentDetails={this.showPaymentDetails}\r\n            countryNodeList={this.countryNodeList}\r\n            currency={this.calendarData.currency}\r\n            language={this.language}\r\n            propertyid={this.propertyid}\r\n            bookingData={this.bookingItem}\r\n            onCloseBookingWindow={() => this.handleCloseBookingWindow()}\r\n          ></igl-book-property>\r\n        )}\r\n      </Fragment>,\r\n    ];\r\n  }\r\n}\r\n"]}