{"version":3,"file":"ir-room.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-details/ir-room/ir-room.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, EventEmitter, Event, Listen, State } from '@stencil/core';\r\nimport { _formatAmount, _formatDate, _getDay } from '../functions';\r\n\r\n@Component({\r\n  tag: 'ir-room',\r\n})\r\nexport class IrRoom {\r\n  // Room Data\r\n  @Prop() item: any;\r\n  // Meal Code names\r\n  @Prop() mealCodeName: string;\r\n  @Prop() myRoomTypeFoodCat: string;\r\n  // Currency\r\n  @Prop() currency: string = 'USD';\r\n  @State() collapsed: boolean = false;\r\n\r\n\r\n\r\n  // Booleans Conditions\r\n  @Prop() hasRoomEdit: boolean = false;\r\n  @Prop() hasRoomDelete: boolean = false;\r\n  @Prop() hasRoomAdd: boolean = false;\r\n  @Prop() hasCheckIn: boolean = false;\r\n  @Prop() hasCheckOut: boolean = false;\r\n\r\n  // Event Emitters\r\n  @Event({ bubbles: true, composed: true }) pressCheckIn: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) pressCheckOut: EventEmitter;\r\n\r\n  @Listen('clickHanlder')\r\n  handleClick(e) {\r\n    let target = e.target;\r\n    if (target.id == 'checkin') {\r\n      this.pressCheckIn.emit(this.item);\r\n    } else if (target.id == 'checkout') {\r\n      this.pressCheckOut.emit(this.item);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  // _getFoodArrangeCat(catCode: string) {\r\n  //   // get the category from the foodArrangeCats array\r\n  //   const cat = this.mealCode.find((cat: any) => cat.CODE_NAME === catCode);\r\n  //   // return the category\r\n  //   return cat.CODE_VALUE_EN;\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"p-1 d-flex\">\r\n        <ir-icon\r\n          id=\"drawer-icon\"\r\n          icon={`${this.collapsed ? 'ft-eye-off' : 'ft-eye'} h2 color-ir-dark-blue-hover`}\r\n          data-toggle=\"collapse\"\r\n          data-target={`#roomCollapse-${this.item.BSA_ID}`}\r\n          aria-expanded=\"false\"\r\n          aria-controls=\"myCollapse\"\r\n          class=\"sm-padding-right pointer\"\r\n          onClick={() => {\r\n            this.collapsed = !this.collapsed;\r\n          }}\r\n        ></ir-icon>\r\n        <div class=\"w-100\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <div>\r\n              <strong>{this.item.My_Room_type.My_Room_category.NAME || ''} </strong> {this.myRoomTypeFoodCat} -{' '}\r\n              {this.item.My_Room_type.IS_NON_REFUNDABLE ? 'Refundable' : 'Non-refundable'} {this.item.My_Room_type.My_Room_type_desc[0].CUSTOM_TXT || ''}\r\n            </div>\r\n            <div>\r\n              {/* <span class=\"mr-1\">{this.item.TOTAL_AMOUNT + this.item.EXCLUDED_TAXES}</span> */}\r\n              <span class=\"mr-1\">{_formatAmount(this.item.TOTAL_AMOUNT, this.currency)}</span>\r\n              {this.hasRoomEdit && <ir-icon id={`roomEdit-${this.item.BSA_ID}`} icon=\"ft-edit color-ir-dark-blue-hover h4 pointer\"></ir-icon>}\r\n              {this.hasRoomDelete && <ir-icon id={`roomDelete-${this.item.BSA_ID}`} icon=\"ft-trash-2 danger h4 pointer\"></ir-icon>}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <span class=\"mr-1\">{`${this.item.GUEST_FIRST_NAME || ''} ${this.item.GUEST_LAST_NAME || ''}`}</span>\r\n            {this.item.ADULTS_NBR > 0 && (\r\n              <span>\r\n                {' '}\r\n                {this.item.ADULTS_NBR} {this.item.ADULTS_NBR > 1 ? 'Adults' : 'Adult'}\r\n              </span>\r\n            )}\r\n            {this.item.CHILD_NBR > 0 && (\r\n              <span>\r\n                {' '}\r\n                {this.item.CHILD_NBR} {this.item.CHILD_NBR > 1 ? 'Children' : 'Child'}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div class=\"d-flex align-items-center\">\r\n            <span class=\" mr-1\">\r\n              {_formatDate(this.item.FROM_DATE)} - {_formatDate(this.item.TO_DATE)}\r\n            </span>\r\n            {this.item.UNIT && <span class=\"light-blue-bg mr-2 \">{this.item.UNIT}</span>}\r\n            {this.hasCheckIn && <ir-button id=\"checkin\" icon=\"\" class=\"mr-1\" btn_color=\"info\" size=\"sm\" text=\"Check in\"></ir-button>}\r\n            {this.hasCheckOut && <ir-button id=\"checkout\" icon=\"\" btn_color=\"info\" size=\"sm\" text=\"Check out\"></ir-button>}\r\n          </div>\r\n          <div class=\"collapse\" id={`roomCollapse-${this.item.BSA_ID}`}>\r\n            <div class=\"d-flex\">\r\n              <div class=\" sm-padding-top\">\r\n                <strong class=\"sm-padding-right\">Rate Breakdown:</strong>\r\n              </div>\r\n              <div class=\"sm-padding-top w-100 \">\r\n                {this.item.My_Bsad.length > 0 &&\r\n                  this.item.My_Bsad.map(item => (\r\n                    <div class=\"fluid-container\">\r\n                      <div class=\"row\">\r\n                        <div class=\"col-xl-2 col-lg-3 col-md-2 col-sm-3 col-7 pr-0\">{_getDay(item.ALLOTMENT_DATE)}</div>{' '}\r\n                        <div class=\"col-1 px-0 d-flex justify-content-end\">{_formatAmount(item.TOTAL_AMOUNT, this.currency)}</div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n            {/* <ir-label label=\"Cancelation:\" value={this.item.CANCELATION_POLICY_PHRASE || ''}></ir-label> */}\r\n            <div innerHTML={this.item.CANCELATION_POLICY_PHRASE || ''}></div>\r\n            <ir-label label=\"PrePayment:\" value={this.item.My_Room_type.My_Translated_Prepayment_Policy || ''}></ir-label>\r\n            <ir-label label=\"Smoking Preference:\" value={this.item.My_Room_type.My_Translated_Cancelation_Policy || ''}></ir-label>\r\n            <ir-label label=\"Meal Plan:\" value={this.mealCodeName}></ir-label>\r\n            <ir-label label=\"Special rate:\" value=\"Non-refundable\"></ir-label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}