{"version":3,"file":"ir-room.js","sourceRoot":"","sources":["../../../../src/components/ir-booking-details/ir-room/ir-room.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Prop, EventEmitter, Event, Listen, State, Element, Watch } from '@stencil/core';\r\nimport { _formatAmount, _formatDate, _getDay } from '../functions';\r\nimport { Booking, IUnit, Room } from '../../../models/booking.dto';\r\nimport { TIglBookPropertyPayload } from '../../../models/igl-book-property';\r\nimport { formatName } from '../../../utils/booking';\r\nimport { IrModal } from '@/components/ir-modal/ir-modal';\r\nimport axios from 'axios';\r\nimport { ILocale } from '@/stores/locales.store';\r\n\r\n@Component({\r\n  tag: 'ir-room',\r\n  styleUrl: 'ir-room.css',\r\n  scoped: true,\r\n})\r\nexport class IrRoom {\r\n  // Room Data\r\n  @Prop() bookingEvent: Booking;\r\n  @Prop() bookingIndex: number;\r\n  // Meal Code names\r\n  @Prop() mealCodeName: string;\r\n  @Prop() myRoomTypeFoodCat: string;\r\n  // Currency\r\n  @Prop() currency: string = 'USD';\r\n  @Prop() legendData;\r\n  @Prop() roomsInfo;\r\n  @State() collapsed: boolean = false;\r\n  @Prop() defaultTexts: ILocale;\r\n  @Prop() ticket;\r\n\r\n  // Booleans Conditions\r\n  @Prop() hasRoomEdit: boolean = false;\r\n  @Prop() hasRoomDelete: boolean = false;\r\n  @Prop() hasRoomAdd: boolean = false;\r\n  @Prop() hasCheckIn: boolean = false;\r\n  @Prop() hasCheckOut: boolean = false;\r\n  @Element() element;\r\n  // Event Emitters\r\n  @Event({ bubbles: true, composed: true }) deleteFinished: EventEmitter<string>;\r\n  @Event({ bubbles: true, composed: true }) pressCheckIn: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) pressCheckOut: EventEmitter;\r\n  @Event({ bubbles: true, composed: true }) editInitiated: EventEmitter<TIglBookPropertyPayload>;\r\n  @State() item: Room;\r\n  @State() isLoading: boolean = false;\r\n  @State() isModelOpen: boolean = false;\r\n  private modal: IrModal;\r\n  componentWillLoad() {\r\n    if (this.bookingEvent) {\r\n      this.item = this.bookingEvent.rooms[this.bookingIndex];\r\n    }\r\n    //console.log(\"item\",this.item)\r\n  }\r\n  @Watch('bookingEvent')\r\n  handleBookingEventChange() {\r\n    this.item = this.bookingEvent.rooms[this.bookingIndex];\r\n  }\r\n  componentDidLoad() {\r\n    this.modal = this.element.querySelector('ir-modal');\r\n  }\r\n  @Listen('clickHanlder')\r\n  handleClick(e) {\r\n    let target = e.target;\r\n    if (target.id == 'checkin') {\r\n      this.pressCheckIn.emit(this.item);\r\n    } else if (target.id == 'checkout') {\r\n      this.pressCheckOut.emit(this.item);\r\n    }\r\n  }\r\n\r\n  // _getFoodArrangeCat(catCode: string) {\r\n  //   // get the category from the foodArrangeCats array\r\n  //   const cat = this.mealCode.find((cat: any) => cat.CODE_NAME === catCode);\r\n  //   // return the category\r\n  //   return cat.CODE_VALUE_EN;\r\n  // }\r\n  /*\r\n  \r\n  bookingEvent.defaultDateRange = {};\r\n      bookingEvent.defaultDateRange.fromDate = new Date(bookingEvent.FROM_DATE + 'T00:00:00');\r\n      bookingEvent.defaultDateRange.fromDateStr = this.getDateStr(bookingEvent.defaultDateRange.fromDate);\r\n      bookingEvent.defaultDateRange.fromDateTimeStamp = bookingEvent.defaultDateRange.fromDate.getTime();\r\n      bookingEvent.defaultDateRange.toDate = new Date(bookingEvent.TO_DATE + 'T00:00:00');\r\n      bookingEvent.defaultDateRange.toDateStr = this.getDateStr(bookingEvent.defaultDateRange.toDate);\r\n      bookingEvent.defaultDateRange.toDateTimeStamp = bookingEvent.defaultDateRange.toDate.getTime();\r\n      bookingEvent.defaultDateRange.dateDifference = bookingEvent.NO_OF_DAYS;\r\n  */\r\n  getDateStr(date, locale = 'default') {\r\n    return date.getDate() + ' ' + date.toLocaleString(locale, { month: 'short' }) + ' ' + date.getFullYear();\r\n  }\r\n  handleEditClick() {\r\n    this.editInitiated.emit({\r\n      event_type: 'EDIT_BOOKING',\r\n      ID: this.item['assigned_units_pool'],\r\n      NAME: formatName(this.item.guest.first_name, this.item.guest.last_name),\r\n      EMAIL: this.bookingEvent.guest.email,\r\n      PHONE: this.bookingEvent.guest.mobile,\r\n      REFERENCE_TYPE: '',\r\n      FROM_DATE: this.bookingEvent.from_date,\r\n      TO_DATE: this.bookingEvent.to_date,\r\n      TITLE: `${this.defaultTexts.entries.Lcz_EditBookingFor} ${this.item.roomtype.name} ${(this.item.unit as IUnit).name}`,\r\n      defaultDateRange: {\r\n        dateDifference: this.item.days.length,\r\n        fromDate: new Date(this.item.from_date + 'T00:00:00'),\r\n        fromDateStr: this.getDateStr(new Date(this.item.from_date + 'T00:00:00')),\r\n        toDate: new Date(this.item.to_date + 'T00:00:00'),\r\n        toDateStr: this.getDateStr(new Date(this.item.to_date + 'T00:00:00')),\r\n        message: '',\r\n      },\r\n      bed_preference: this.item.bed_preference,\r\n      adult_child_offering: this.item.rateplan.selected_variation.adult_child_offering,\r\n      ADULTS_COUNT: this.item.rateplan.selected_variation.adult_nbr,\r\n      ARRIVAL: this.bookingEvent.arrival,\r\n      ARRIVAL_TIME: this.bookingEvent.arrival.description,\r\n      BOOKING_NUMBER: this.bookingEvent.booking_nbr,\r\n      cancelation: this.item.rateplan.cancelation,\r\n      channel_booking_nbr: this.bookingEvent.channel_booking_nbr,\r\n      CHILDREN_COUNT: this.item.rateplan.selected_variation.child_nbr,\r\n      COUNTRY: this.bookingEvent.guest.country_id,\r\n      ENTRY_DATE: this.bookingEvent.from_date,\r\n      FROM_DATE_STR: this.bookingEvent.format.from_date,\r\n      guarantee: this.item.rateplan.guarantee,\r\n      GUEST: this.bookingEvent.guest,\r\n      IDENTIFIER: this.item.identifier,\r\n      is_direct: this.bookingEvent.is_direct,\r\n      IS_EDITABLE: this.bookingEvent.is_editable,\r\n      NO_OF_DAYS: this.item.days.length,\r\n      NOTES: this.bookingEvent.remark,\r\n      origin: this.bookingEvent.origin,\r\n      POOL: this.item['assigned_units_pool'],\r\n      PR_ID: (this.item.unit as IUnit).id,\r\n      RATE: this.item.total,\r\n      RATE_PLAN: this.item.rateplan.name,\r\n      RATE_PLAN_ID: this.item.rateplan.id,\r\n      RATE_TYPE: this.item.roomtype.id,\r\n      ROOMS: this.bookingEvent.rooms,\r\n      SOURCE: this.bookingEvent.source,\r\n      SPLIT_BOOKING: false,\r\n      STATUS: 'IN-HOUSE',\r\n      TO_DATE_STR: this.bookingEvent.format.to_date,\r\n      TOTAL_PRICE: this.bookingEvent.total,\r\n      legendData: this.legendData,\r\n      roomsInfo: this.roomsInfo,\r\n      roomName: (this.item.unit as IUnit).name,\r\n    });\r\n  }\r\n  handleDeleteClick() {\r\n    this.modal.openModal();\r\n  }\r\n  async deleteRoom() {\r\n    try {\r\n      this.isLoading = true;\r\n      let oldRooms = [...this.bookingEvent.rooms];\r\n      oldRooms = oldRooms.filter(room => room.identifier !== this.item.identifier);\r\n\r\n      const body = {\r\n        assign_units: true,\r\n        check_in: true,\r\n        is_pms: true,\r\n        is_direct: true,\r\n        booking: {\r\n          booking_nbr: this.bookingEvent.booking_nbr,\r\n          from_date: this.bookingEvent.from_date,\r\n          to_date: this.bookingEvent.to_date,\r\n          remark: this.bookingEvent.remark,\r\n          property: this.bookingEvent.property,\r\n          source: this.bookingEvent.source,\r\n          currency: this.bookingEvent.currency,\r\n          arrival: this.bookingEvent.arrival,\r\n          guest: this.bookingEvent.guest,\r\n          rooms: oldRooms,\r\n        },\r\n      };\r\n      console.log('body:', body);\r\n\r\n      const { data } = await axios.post(`/DoReservation?Ticket=${this.ticket}`, body);\r\n      if (data.ExceptionMsg !== '') {\r\n        throw new Error(data.ExceptionMsg);\r\n      }\r\n      this.deleteFinished.emit(this.item.identifier);\r\n    } catch (error) {\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div class=\"p-1 d-flex m-0\">\r\n        <ir-icon\r\n          id=\"drawer-icon\"\r\n          data-toggle=\"collapse\"\r\n          data-target={`#roomCollapse-${this.item.identifier.split(' ').join('')}`}\r\n          aria-expanded=\"false\"\r\n          aria-controls=\"collapseExample\"\r\n          class=\"pointer mr-1\"\r\n          onClick={() => {\r\n            this.collapsed = !this.collapsed;\r\n          }}\r\n        >\r\n          {!this.collapsed ? (\r\n            // <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"#104064\" height={20} width={20} slot=\"icon\">\r\n            //   <path\r\n            //     stroke-linecap=\"round\"\r\n            //     stroke-linejoin=\"round\"\r\n            //     d=\"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\r\n            //   />\r\n            //   <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\r\n            // </svg>\r\n            <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"22.5\" viewBox=\"0 0 576 512\">\r\n              <path\r\n                fill=\"#104064\"\r\n                d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"\r\n              />\r\n            </svg>\r\n          ) : (\r\n            // <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"#104064\" height={20} width={20} slot=\"icon\">\r\n            //   <path\r\n            //     stroke-linecap=\"round\"\r\n            //     stroke-linejoin=\"round\"\r\n            //     d=\"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"\r\n            //   />\r\n            // </svg>\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"25\" viewBox=\"0 0 640 512\" slot=\"icon\">\r\n              <path\r\n                fill=\"#104064\"\r\n                d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\"\r\n              />\r\n            </svg>\r\n          )}\r\n        </ir-icon>\r\n        <div class=\"w-100 m-0\">\r\n          <div class=\"d-flex align-items-end justify-content-between\">\r\n            <div>\r\n              <strong>{this.myRoomTypeFoodCat || ''} </strong> {this.mealCodeName} {this.item.rateplan.is_non_refundable && ` - ${this.defaultTexts.entries.Lcz_NonRefundable}`}{' '}\r\n              {/*this.item.My_Room_type.My_Room_type_desc[0].CUSTOM_TXT || ''*/}\r\n            </div>\r\n            <div class=\"d-flex\">\r\n              {/* <span class=\"mr-1\">{this.item.TOTAL_AMOUNT + this.item.EXCLUDED_TAXES}</span> */}\r\n              <p class=\"mr-1 p-0 m-0 \">{_formatAmount(this.item.total, this.currency)}</p>\r\n              {this.hasRoomEdit && (\r\n                <ir-icon id={`roomEdit-${this.item.identifier}`} class=\"pointer mr-1\" onClick={this.handleEditClick.bind(this)}>\r\n                  <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 512 512\">\r\n                    <path\r\n                      fill=\"#6b6f82\"\r\n                      d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\"\r\n                    />\r\n                  </svg>\r\n                </ir-icon>\r\n              )}\r\n              {this.hasRoomDelete && (\r\n                <ir-icon onClick={this.handleDeleteClick.bind(this)} id={`roomDelete-${this.item.identifier}`} class=\"pointer mr-1\">\r\n                  <svg slot=\"icon\" fill=\"#ff2441\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"14.25\" viewBox=\"0 0 448 512\">\r\n                    <path d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\" />\r\n                  </svg>\r\n                </ir-icon>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <span class=\"mr-1\">{`${this.item.guest.first_name || ''} ${this.item.guest.last_name || ''}`}</span>\r\n            {this.item.rateplan.selected_variation.adult_nbr > 0 && <span> {this.item.rateplan.selected_variation.adult_child_offering}</span>}\r\n          </div>\r\n          <div class=\"d-flex align-items-center\">\r\n            <span class=\" mr-1\">\r\n              {_formatDate(this.item.from_date)} - {_formatDate(this.item.to_date)}\r\n            </span>\r\n            {this.item.unit && <span class=\"light-blue-bg mr-2 \">{(this.item.unit as IUnit).name}</span>}\r\n            {this.hasCheckIn && <ir-button id=\"checkin\" icon=\"\" class=\"mr-1\" btn_color=\"info\" size=\"sm\" text=\"Check in\"></ir-button>}\r\n            {this.hasCheckOut && <ir-button id=\"checkout\" icon=\"\" btn_color=\"info\" size=\"sm\" text=\"Check out\"></ir-button>}\r\n          </div>\r\n          <div class=\"collapse\" id={`roomCollapse-${this.item.identifier.split(' ').join('')}`}>\r\n            <div class=\"d-flex\">\r\n              <div class=\" sm-padding-top\">\r\n                <strong class=\"sm-padding-right\">{`${this.defaultTexts.entries.Lcz_Breakdown}:`}</strong>\r\n              </div>\r\n              <div class={'flex-fill'}>\r\n                <table>\r\n                  {this.item.days.length > 0 &&\r\n                    this.item.days.map(item => (\r\n                      <tr>\r\n                        <td class={'pr-2'}>{_getDay(item.date)}</td> <td>{_formatAmount(item.amount, this.currency)}</td>\r\n                      </tr>\r\n                    ))}\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div innerHTML={this.item.rateplan.cancelation || ''}></div>\r\n            {/* <ir-label label=\"PrePayment:\" value={this.item.My_Room_type.My_Translated_Prepayment_Policy || ''}></ir-label>\r\n            <ir-label label=\"Smoking Preference:\" value={this.item.My_Room_type.My_Translated_Cancelation_Policy || ''}></ir-label> */}\r\n            <ir-label label={`${this.defaultTexts.entries.Lcz_MealPlan}:`} value={this.mealCodeName}></ir-label>\r\n            {/* <ir-label label={`${this.defaultTexts.entries.Lcz_SpecialRate}:`} value=\"Non-refundable\"></ir-label> */}\r\n          </div>\r\n        </div>\r\n        <ir-modal\r\n          onConfirmModal={this.deleteRoom.bind(this)}\r\n          iconAvailable={true}\r\n          icon=\"ft-alert-triangle danger h1\"\r\n          leftBtnText={this.defaultTexts.entries.Lcz_Cancel}\r\n          rightBtnText={this.defaultTexts.entries.Lcz_Delete}\r\n          leftBtnColor=\"secondary\"\r\n          rightBtnColor=\"danger\"\r\n          modalTitle={this.defaultTexts.entries.Lcz_Confirmation}\r\n          modalBody={`${this.defaultTexts.entries['Lcz_AreYouSureDoYouWantToRemove ']} ${this.item.roomtype.name} ${this.item.unit && (this.item.unit as IUnit).name} ${\r\n            this.defaultTexts.entries.Lcz_FromThisBooking\r\n          }`}\r\n        ></ir-modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}