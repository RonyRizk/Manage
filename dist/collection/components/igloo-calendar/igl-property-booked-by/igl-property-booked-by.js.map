{"version":3,"file":"igl-property-booked-by.js","sourceRoot":"","sources":["../../../../src/components/igloo-calendar/igl-property-booked-by/igl-property-booked-by.tsx"],"names":[],"mappings":"AAAA,OAAO,EACL,SAAS,EACT,IAAI,EACJ,CAAC,EACD,IAAI,EACJ,KAAK,EAEL,KAAK,GACN,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,cAAc,EAAE,MAAM,mCAAmC,CAAC;AAEnE,OAAO,EAAE,EAAE,EAAE,MAAM,MAAM,CAAC;AAO1B,MAAM,OAAO,mBAAmB;;IAItB,mBAAc,GAAmB,IAAI,cAAc,EAAE,CAAC;IACtD,oBAAe,GAAe,EAAE,CAAC;IAEjC,iBAAY,GAAa;MAC/B,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;MACJ,IAAI;KACL,CAAC;IACM,gBAAW,GAAa,EAAE,CAAC;IAC3B,iBAAY,GAAW,IAAI,CAAC;;;2BAhBE,EAAE;wBAiBQ;MAC9C,EAAE,EAAE,SAAS;MACb,KAAK,EAAE,EAAE;MACT,SAAS,EAAE,EAAE;MACb,QAAQ,EAAE,EAAE;MACZ,SAAS,EAAE,EAAE;MACb,OAAO,EAAE,EAAE;MACX,aAAa,EAAE,EAAE;MACjB,mBAAmB,EAAE;QACnB,IAAI,EAAE,EAAE;QACR,WAAW,EAAE,EAAE;OAChB;MACD,UAAU,EAAE,KAAK;MACjB,OAAO,EAAE,EAAE;MACX,UAAU,EAAE,EAAE;MACd,cAAc,EAAE,EAAE;MAClB,WAAW,EAAE,EAAE;MACf,UAAU,EAAE,EAAE;KACf;;EAED,KAAK,CAAC,iBAAiB;IACrB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC7B,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC1B,IAAI,CAAC,oBAAoB,EAAE,CAAC;EAC9B,CAAC;EAEO,qBAAqB;IAC3B,MAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAC7C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CACxD,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,QAAQ,EAAE,CACjC,CAAC;EACJ,CAAC;EAEO,kBAAkB;IACxB,MAAM,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC;IACtB,MAAM,KAAK,GAAG,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;IAChC,IAAI,CAAC,YAAY,GAAG,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;EAClE,CAAC;EAEO,oBAAoB;;IAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,mBAAM,IAAI,CAAC,WAAW,EAAG,CAAC,CAAC,EAAE,CAAC;IACpE,IAAI,CAAC,eAAe,GAAG,CAAA,MAAA,IAAI,CAAC,WAAW,0CAAE,WAAW,KAAI,EAAE,CAAC;IAE3D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;MAClC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;KACnD;IACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE;MACjC,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;KACzD;EACH,CAAC;EAED,gBAAgB,CAAC,GAAG,EAAE,KAAK;IACzB,MAAM,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CACzC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC,MAAM,CAAC,KAAK,CAChD,CAAC;IAEF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;MACpB,GAAG,KAAK,YAAY;QAClB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO;QACtB,CAAC,CAAC,GAAG,KAAK,aAAa;UACvB,CAAC,CAAC;YACE,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK;YACxB,WAAW,EAAE,CAAC,SAAS,IAAI,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE;WAC1D;UACH,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;IACzB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;MACxB,GAAG,EAAE,qBAAqB;MAC1B,IAAI,oBAAO,IAAI,CAAC,YAAY,CAAE;KAC/B,CAAC,CAAC;IACH,IAAI,GAAG,KAAK,WAAW,EAAE;MACvB,IAAI,CAAC,YAAY,mCACZ,IAAI,CAAC,YAAY,KACpB,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,GAC5B,CAAC;KACH;EACH,CAAC;EAED,iBAAiB,CAAC,GAAG,EAAE,KAAiB;IACtC,MAAM,YAAY,GAAG,KAAK,CAAC,MAA0B,CAAC;IACtD,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,CAAC;IAEtC,4DAA4D;IAC5D,MAAM,YAAY,GAAG,UAAU,CAAC;IAEhC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;MAClC,6DAA6D;MAC7D,YAAY,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;KACxD;IACD,IAAI,UAAU,KAAK,YAAY,CAAC,KAAK,EAAE;MACrC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;KACnC;EACH,CAAC;EAED,KAAK,CAAC,gBAAgB,CAAC,GAAG,EAAE,KAAiB;IAC3C,MAAM,YAAY,GAAG,KAAK,CAAC,MAA0B,CAAC;IACtD,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,CAAC;IACtC,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;MACjC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;KACnC;EACH,CAAC;EACD,KAAK,CAAC,SAAS;IACb,IAAI;MACF,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;MACtC,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;QAC5B,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzD,IAAI,GAAG,KAAK,IAAI,EAAE;UAChB,IAAI,CAAC,YAAY,mCACZ,IAAI,CAAC,YAAY,KACpB,EAAE,EAAE,GAAG,CAAC,EAAE,EACV,SAAS,EAAE,GAAG,CAAC,UAAU,EACzB,QAAQ,EAAE,GAAG,CAAC,SAAS,EACvB,aAAa,EAAE,GAAG,CAAC,MAAM,EACzB,SAAS,EAAE,GAAG,CAAC,UAAU,EACzB,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,GACnC,CAAC;SACH;aAAM;UACL,IAAI,CAAC,YAAY,mCACZ,IAAI,CAAC,YAAY,KACpB,EAAE,EAAE,SAAS,EACb,SAAS,EAAE,EAAE,EACb,QAAQ,EAAE,EAAE,EACZ,aAAa,EAAE,EAAE,EACjB,SAAS,EAAE,EAAE,EACb,OAAO,EAAE,EAAE,GACZ,CAAC;SACH;QACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;UACxB,GAAG,EAAE,qBAAqB;UAC1B,IAAI,oBAAO,IAAI,CAAC,YAAY,CAAE;SAC/B,CAAC,CAAC;OACJ;KACF;IAAC,OAAO,KAAK,EAAE;MACd,yBAAyB;KAC1B;EACH,CAAC;EACD,YAAY,CAAC,OAAO;IAClB,MAAM,YAAY,GAAG,kDAAkD,CAAC;IACxE,OAAO,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;EACpC,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI;MACH,WAAK,KAAK,EAAC,gBAAgB;QACzB,WAAK,KAAK,EAAC,6CAA6C;UACtD,aAAO,KAAK,EAAC,6CAA6C,gBAElD;UACR,WAAK,KAAK,EAAC,wBAAwB;YACjC,aACE,EAAE,EAAE,EAAE,EAAE,EACR,IAAI,EAAC,OAAO,EACZ,KAAK,EAAC,cAAc,EACpB,WAAW,EAAC,eAAe,EAC3B,IAAI,EAAC,eAAe,EACpB,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,EAC9B,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,EACzD,QAAQ,QACR,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,GAC9B,CACE,CACF,CACF;MACN,WAAK,KAAK,EAAC,+CAA+C;QACxD,WAAK,KAAK,EAAC,KAAK;UACd,WAAK,KAAK,EAAC,cAAc;YACvB,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,iBAAmB;cACzC,WAAK,KAAK,EAAC,+BAA+B;gBACxC,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,YAAY,EACxB,EAAE,EAAE,EAAE,EAAE,EACR,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,EAClC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CACjB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,KAAK,CAAC,EAE3C,QAAQ,SACR,CACE,CACF;YAEN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,gBAAkB;cACxC,WAAK,KAAK,EAAC,+BAA+B;gBACxC,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,WAAW,EACvB,EAAE,EAAE,EAAE,EAAE,EACR,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,EACjC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CACjB,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,KAAK,CAAC,GAE1C,CACE,CACF;YAEN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,cAAgB;cACtC,WAAK,KAAK,EAAC,+BAA+B;gBACxC,cACE,KAAK,EAAC,4BAA4B,EAClC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,KAAK,CAAC;kBAG3C,cACE,KAAK,EAAC,EAAE,EACR,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,KAAK,EAAE,aAGrC;kBACR,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CACzC,cACE,KAAK,EAAE,WAAW,CAAC,EAAE,EACrB,QAAQ,EACN,IAAI,CAAC,YAAY,CAAC,SAAS,KAAK,WAAW,CAAC,EAAE,IAG/C,WAAW,CAAC,IAAI,CACV,CACV,CAAC,CACK,CACL,CACF;YAEN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,mBAAqB;cAC3C,WAAK,KAAK,EAAC,mCAAmC;gBAC5C,WAAK,KAAK,EAAC,eAAe;kBACxB,cACE,KAAK,EAAC,4BAA4B,EAClC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC;oBAGzC,cACE,KAAK,EAAC,EAAE,EACR,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,KAAK,EAAE,UAGnC;oBACR,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CACrC,cACE,KAAK,EAAE,OAAO,CAAC,EAAE,EACjB,QAAQ,EACN,IAAI,CAAC,YAAY,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,IAGpD,OAAO,CAAC,YAAY,CACd,CACV,CAAC,CACK,CACL;gBACN,WAAK,KAAK,EAAC,eAAe;kBACxB,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,KAAK,EACV,WAAW,EAAC,gBAAgB,EAC5B,EAAE,EAAE,EAAE,EAAE,EACR,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,aAAa,EACtC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CACjB,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,KAAK,CAAC,GAEhD,CACE,CACF,CACF;YAEN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,wBAA0B;cAChD,WAAK,KAAK,EAAC,+BAA+B;gBACxC,cACE,KAAK,EAAC,4BAA4B,EAClC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,KAAK,CAAC;kBAGrD,cACE,KAAK,EAAC,EAAE,EACR,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,mBAAmB,KAAK,EAAE,QAG/C;kBACR,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAClC,cACE,KAAK,EAAE,IAAI,CAAC,SAAS,EACrB,QAAQ,EACN,IAAI,CAAC,YAAY,CAAC,mBAAmB;sBACrC,IAAI,CAAC,SAAS,IAGf,IAAI,CAAC,aAAa,CACZ,CACV,CAAC,CACK,CACL,CACF;YAEN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,sBAAwB;cAC9C,WAAK,KAAK,EAAC,iDAAiD;gBAC1D,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,UAAU,EACf,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EACrC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,KAAK,CAAC,GAE5C,CACE,CACF,CACF;UACN,WAAK,KAAK,EAAC,cAAc;YACvB,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,0BAA4B;cAClD,WAAK,KAAK,EAAC,+BAA+B;gBACxC,gBACE,EAAE,EAAE,EAAE,EAAE,EACR,IAAI,EAAE,CAAC,EACP,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,SAAS,EACd,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,EAChC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,GACjD,CACR,CACF;YACN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,kBAAoB;cAC1C,WAAK,KAAK,EAAC,+BAA+B;gBACxC,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,EAAE,EACd,OAAO,EAAC,MAAM,EACd,EAAE,EAAE,EAAE,EAAE,EACR,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,UAAU,EACnC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CACjB,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,KAAK,CAAC,GAE7C,CACE,CACF;YACN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,uBAAyB;cAC/C,WAAK,KAAK,EAAC,+BAA+B;gBACxC,aACE,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,MAAM,EACX,WAAW,EAAC,EAAE,EACd,OAAO,EAAC,MAAM,EACd,EAAE,EAAE,EAAE,EAAE,EACR,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,cAAc,EACvC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CACjB,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,KAAK,CAAC,GAEhD,CACE,CACF;YACN,WAAK,KAAK,EAAC,uCAAuC;cAChD,aAAO,KAAK,EAAC,SAAS,kBAAoB;cAC1C,WAAK,KAAK,EAAC,8BAA8B;gBACvC,WAAK,KAAK,EAAC,eAAe;kBACxB,cACE,KAAK,EAAC,4BAA4B,EAClC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,KAAK,CAAC,IAG5C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAChC,cACE,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,WAAW,IAEhD,KAAK,CACC,CACV,CAAC,CACK,CACL;gBACN,WAAK,KAAK,EAAC,eAAe;kBACxB,cACE,KAAK,EAAC,4BAA4B,EAClC,EAAE,EAAE,EAAE,EAAE,EACR,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAClB,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,KAAK,CAAC,IAG3C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CACrC,cACE,KAAK,EAAE,IAAI,EACX,QAAQ,EAAE,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,UAAU,IAE/C,IAAI,CACE,CACV,CAAC,CACK,CACL,CACF,CACF,CACF,CACF,CACF,CACD,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import {\r\n  Component,\r\n  Host,\r\n  h,\r\n  Prop,\r\n  Event,\r\n  EventEmitter,\r\n  State,\r\n} from \"@stencil/core\";\r\nimport { BookingService } from \"../../../services/booking.service\";\r\nimport { IEntries, ICountry } from \"../../../models/IBooking\";\r\nimport { v4 } from \"uuid\";\r\n\r\n@Component({\r\n  tag: \"igl-property-booked-by\",\r\n  styleUrl: \"igl-property-booked-by.css\",\r\n  scoped: true,\r\n})\r\nexport class IglPropertyBookedBy {\r\n  @Prop() language: string;\r\n  @Prop() defaultData: { [key: string]: any };\r\n  @Event() dataUpdateEvent: EventEmitter<{ [key: string]: any }>;\r\n  private bookingService: BookingService = new BookingService();\r\n  private arrivalTimeList: IEntries[] = [];\r\n  @Prop() countryNodeList: ICountry[] = [];\r\n  private expiryMonths: string[] = [\r\n    \"01\",\r\n    \"02\",\r\n    \"03\",\r\n    \"04\",\r\n    \"05\",\r\n    \"06\",\r\n    \"07\",\r\n    \"08\",\r\n    \"09\",\r\n    \"10\",\r\n    \"11\",\r\n    \"12\",\r\n  ];\r\n  private expiryYears: string[] = [];\r\n  private currentMonth: string = \"01\";\r\n  @State() bookedByData: { [key: string]: any } = {\r\n    id: undefined,\r\n    email: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    countryId: \"\",\r\n    isdCode: \"\",\r\n    contactNumber: \"\",\r\n    selectedArrivalTime: {\r\n      code: \"\",\r\n      description: \"\",\r\n    },\r\n    emailGuest: false,\r\n    message: \"\",\r\n    cardNumber: \"\",\r\n    cardHolderName: \"\",\r\n    expiryMonth: \"\",\r\n    expiryYear: \"\",\r\n  };\r\n\r\n  async componentWillLoad() {\r\n    this.initializeExpiryYears();\r\n    this.initializeDateData();\r\n    this.populateBookedByData();\r\n  }\r\n\r\n  private initializeExpiryYears() {\r\n    const currentYear = new Date().getFullYear();\r\n    this.expiryYears = Array.from({ length: 4 }, (_, index) =>\r\n      (currentYear + index).toString()\r\n    );\r\n  }\r\n\r\n  private initializeDateData() {\r\n    const dt = new Date();\r\n    const month = dt.getMonth() + 1;\r\n    this.currentMonth = month < 10 ? `0${month}` : month.toString();\r\n  }\r\n\r\n  private populateBookedByData() {\r\n    this.bookedByData = this.defaultData ? { ...this.defaultData } : {};\r\n    this.arrivalTimeList = this.defaultData?.arrivalTime || [];\r\n\r\n    if (!this.bookedByData.expiryMonth) {\r\n      this.bookedByData.expiryMonth = this.currentMonth;\r\n    }\r\n    if (!this.bookedByData.expiryYear) {\r\n      this.bookedByData.expiryYear = new Date().getFullYear();\r\n    }\r\n  }\r\n\r\n  handleDataChange(key, event) {\r\n    const foundTime = this.arrivalTimeList.find(\r\n      (time) => time.CODE_NAME === event.target.value\r\n    );\r\n\r\n    this.bookedByData[key] =\r\n      key === \"emailGuest\"\r\n        ? event.target.checked\r\n        : key === \"arrivalTime\"\r\n        ? {\r\n            code: event.target.value,\r\n            description: (foundTime && foundTime.CODE_VALUE_EN) || \"\",\r\n          }\r\n        : event.target.value;\r\n    this.dataUpdateEvent.emit({\r\n      key: \"bookedByInfoUpdated\",\r\n      data: { ...this.bookedByData },\r\n    });\r\n    if (key === \"countryId\") {\r\n      this.bookedByData = {\r\n        ...this.bookedByData,\r\n        isdCode: event.target.value,\r\n      };\r\n    }\r\n  }\r\n\r\n  handleNumberInput(key, event: InputEvent) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    const inputValue = inputElement.value;\r\n\r\n    // Regular expression to match only numeric characters (0-9)\r\n    const numericRegex = /^[0-9]+$/;\r\n\r\n    if (!numericRegex.test(inputValue)) {\r\n      // If the input is not numeric, prevent it from being entered\r\n      inputElement.value = inputValue.replace(/[^0-9]/g, \"\");\r\n    }\r\n    if (inputValue === inputElement.value) {\r\n      this.handleDataChange(key, event);\r\n    }\r\n  }\r\n\r\n  async handleEmailInput(key, event: InputEvent) {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    const inputValue = inputElement.value;\r\n    if (this.isValidEmail(inputValue)) {\r\n      this.handleDataChange(key, event);\r\n    }\r\n  }\r\n  async checkUser() {\r\n    try {\r\n      const email = this.bookedByData.email;\r\n      if (this.isValidEmail(email)) {\r\n        const res = await this.bookingService.getUserInfo(email);\r\n        if (res !== null) {\r\n          this.bookedByData = {\r\n            ...this.bookedByData,\r\n            id: res.id,\r\n            firstName: res.first_name,\r\n            lastName: res.last_name,\r\n            contactNumber: res.mobile,\r\n            countryId: res.country_id,\r\n            isdCode: res.country_id.toString(),\r\n          };\r\n        } else {\r\n          this.bookedByData = {\r\n            ...this.bookedByData,\r\n            id: undefined,\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            contactNumber: \"\",\r\n            countryId: \"\",\r\n            isdCode: \"\",\r\n          };\r\n        }\r\n        this.dataUpdateEvent.emit({\r\n          key: \"bookedByInfoUpdated\",\r\n          data: { ...this.bookedByData },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      //   toastr.error(error);\r\n    }\r\n  }\r\n  isValidEmail(emailId) {\r\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailPattern.test(emailId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"text-left mt-3\">\r\n          <div class=\"form-group row text-left align-items-center\">\r\n            <label class=\"p-0 m-0 label-control mr-1 font-weight-bold\">\r\n              Booked by\r\n            </label>\r\n            <div class=\"bookedByEmailContainer\">\r\n              <input\r\n                id={v4()}\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                placeholder=\"Email address\"\r\n                name=\"bookeyByEmail\"\r\n                value={this.bookedByData.email}\r\n                onInput={(event) => this.handleEmailInput(\"email\", event)}\r\n                required\r\n                onBlur={() => this.checkUser()}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"bookedDetailsForm text-left mt-2 font-small-3\">\r\n          <div class=\"row\">\r\n            <div class=\"p-0 col-md-6\">\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">First name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"First name\"\r\n                    id={v4()}\r\n                    value={this.bookedByData.firstName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"firstName\", event)\r\n                    }\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Last name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Last name\"\r\n                    id={v4()}\r\n                    value={this.bookedByData.lastName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"lastName\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Country</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <select\r\n                    class=\"form-control input-sm pr-0\"\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"countryId\", event)\r\n                    }\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={this.bookedByData.countryId === \"\"}\r\n                    >\r\n                      Select\r\n                    </option>\r\n                    {this.countryNodeList.map((countryNode) => (\r\n                      <option\r\n                        value={countryNode.id}\r\n                        selected={\r\n                          this.bookedByData.countryId === countryNode.id\r\n                        }\r\n                      >\r\n                        {countryNode.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Mobile phone</label>\r\n                <div class=\"p-0 m-0 pr-1 row controlContainer\">\r\n                  <div class=\"col-3 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"isdCode\", event)\r\n                      }\r\n                    >\r\n                      <option\r\n                        value=\"\"\r\n                        selected={this.bookedByData.isdCode === \"\"}\r\n                      >\r\n                        ISD\r\n                      </option>\r\n                      {this.countryNodeList.map((country) => (\r\n                        <option\r\n                          value={country.id}\r\n                          selected={\r\n                            this.bookedByData.isdCode === country.id.toString()\r\n                          }\r\n                        >\r\n                          {country.phone_prefix}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-9 p-0 m-0\">\r\n                    <input\r\n                      class=\"form-control\"\r\n                      type=\"tel\"\r\n                      placeholder=\"Contact Number\"\r\n                      id={v4()}\r\n                      value={this.bookedByData.contactNumber}\r\n                      onInput={(event) =>\r\n                        this.handleNumberInput(\"contactNumber\", event)\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Your arrival time</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <select\r\n                    class=\"form-control input-sm pr-0\"\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"selectedArrivalTime\", event)\r\n                    }\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={this.bookedByData.selectedArrivalTime === \"\"}\r\n                    >\r\n                      -\r\n                    </option>\r\n                    {this.arrivalTimeList.map((time) => (\r\n                      <option\r\n                        value={time.CODE_NAME}\r\n                        selected={\r\n                          this.bookedByData.selectedArrivalTime ===\r\n                          time.CODE_NAME\r\n                        }\r\n                      >\r\n                        {time.CODE_VALUE_EN}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Email the guest</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer checkBoxContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"checkbox\"\r\n                    checked={this.bookedByData.emailGuest}\r\n                    id={v4()}\r\n                    onChange={(event) =>\r\n                      this.handleDataChange(\"emailGuest\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6 p-0\">\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Any message for us?</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <textarea\r\n                    id={v4()}\r\n                    rows={4}\r\n                    class=\"form-control\"\r\n                    name=\"message\"\r\n                    value={this.bookedByData.message}\r\n                    onInput={(event) => this.handleDataChange(\"message\", event)}\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Card Number</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"\"\r\n                    pattern=\"0-9 \"\r\n                    id={v4()}\r\n                    value={this.bookedByData.cardNumber}\r\n                    onInput={(event) =>\r\n                      this.handleNumberInput(\"cardNumber\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Card holder name</label>\r\n                <div class=\"p-0 m-0 pr-1 controlContainer\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"\"\r\n                    pattern=\"0-9 \"\r\n                    id={v4()}\r\n                    value={this.bookedByData.cardHolderName}\r\n                    onInput={(event) =>\r\n                      this.handleDataChange(\"cardHolderName\", event)\r\n                    }\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row p-0 align-items-center\">\r\n                <label class=\"p-0 m-0\">Expiry Date</label>\r\n                <div class=\"p-0 m-0 row controlContainer\">\r\n                  <div class=\"col-3 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"expiryMonth\", event)\r\n                      }\r\n                    >\r\n                      {this.expiryMonths.map((month) => (\r\n                        <option\r\n                          value={month}\r\n                          selected={month === this.bookedByData.expiryMonth}\r\n                        >\r\n                          {month}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-4 p-0 m-0\">\r\n                    <select\r\n                      class=\"form-control input-sm pr-0\"\r\n                      id={v4()}\r\n                      onChange={(event) =>\r\n                        this.handleDataChange(\"expiryYear\", event)\r\n                      }\r\n                    >\r\n                      {this.expiryYears.map((year, index) => (\r\n                        <option\r\n                          value={year}\r\n                          selected={index === this.bookedByData.expiryYear}\r\n                        >\r\n                          {year}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}