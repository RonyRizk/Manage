{"version":3,"file":"ir-channel.js","sourceRoot":"","sources":["../../../src/components/ir-channel/ir-channel.tsx"],"names":[],"mappings":"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","sourcesContent":["import { RoomService } from '@/services/room.service';\r\nimport channels_data, { resetStore, selectChannel, setChannelIdAndActiveState, testConnection, updateChannelSettings } from '@/stores/channel.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Host, Prop, Watch, h, Element, State, Fragment, Listen } from '@stencil/core';\r\nimport axios from 'axios';\r\nimport { actions } from './data';\r\nimport { IModalCause } from './types';\r\nimport { ChannelService } from '@/services/channel.service';\r\nimport { IChannel } from '@/models/calendarData';\r\nimport calendar_data from '@/stores/calendar-data';\r\n\r\n@Component({\r\n  tag: 'ir-channel',\r\n  styleUrl: 'ir-channel.css',\r\n  scoped: true,\r\n})\r\nexport class IrChannel {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() ticket: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() language: string;\r\n  @Prop() baseurl: string;\r\n\r\n  @State() channel_status: 'create' | 'edit' | null = null;\r\n  @State() modal_cause: IModalCause | null = null;\r\n  @State() isLoading = false;\r\n\r\n  private roomService = new RoomService();\r\n  private channelService = new ChannelService();\r\n\r\n  private irModalRef: HTMLIrModalElement;\r\n\r\n  componentWillLoad() {\r\n    this.isLoading = true;\r\n    if (this.baseurl) {\r\n      axios.defaults.baseURL = this.baseurl;\r\n    }\r\n    if (this.ticket !== '') {\r\n      calendar_data.token = this.ticket;\r\n      this.channelService.setToken(this.ticket);\r\n      this.roomService.setToken(this.ticket);\r\n      this.initializeApp();\r\n    }\r\n  }\r\n\r\n  async handleConfirmClicked(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    if (!this.modal_cause) {\r\n      return;\r\n    }\r\n    await this.modal_cause.action();\r\n    if (this.modal_cause.cause === 'remove') {\r\n      resetStore();\r\n      await this.refreshChannels();\r\n    }\r\n    this.modal_cause = null;\r\n  }\r\n  openModal() {\r\n    this.irModalRef.openModal();\r\n  }\r\n  async refreshChannels() {\r\n    const [, ,] = await Promise.all([this.channelService.getExposedChannels(), this.channelService.getExposedConnectedChannels(this.propertyid)]);\r\n  }\r\n  async initializeApp() {\r\n    try {\r\n      const [, , , languageTexts] = await Promise.all([\r\n        this.roomService.fetchData(this.propertyid, this.language),\r\n        this.channelService.getExposedChannels(),\r\n        this.channelService.getExposedConnectedChannels(this.propertyid),\r\n        this.roomService.fetchLanguage(this.language, ['_CHANNEL_FRONT']),\r\n      ]);\r\n\r\n      channels_data.property_id = this.propertyid;\r\n      if (!locales.entries) {\r\n        locales.entries = languageTexts.entries;\r\n        locales.direction = languageTexts.direction;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n\r\n  @Watch('ticket')\r\n  async ticketChanged() {\r\n    calendar_data.token = this.ticket;\r\n    this.roomService.setToken(this.ticket);\r\n    this.channelService.setToken(this.ticket);\r\n    this.initializeApp();\r\n  }\r\n\r\n  handleCancelModal(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    this.modal_cause = null;\r\n  }\r\n  handleSidebarClose(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    if (channels_data.selectedChannel) {\r\n      this.modal_cause = {\r\n        action: () => {\r\n          return new Promise(reselove => {\r\n            this.resetSideBar();\r\n            reselove('');\r\n          });\r\n        },\r\n        cause: 'channel',\r\n        main_color: 'primary',\r\n        message: locales.entries?.Lcz_UnSavedChangesWillBeLost,\r\n        title: '',\r\n      };\r\n      this.openModal();\r\n    } else {\r\n      this.resetSideBar();\r\n    }\r\n  }\r\n\r\n  resetSideBar() {\r\n    this.channel_status = null;\r\n    resetStore();\r\n  }\r\n  @Listen('saveChannelFinished')\r\n  async handleSaveChange(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    await this.refreshChannels();\r\n    this.resetSideBar();\r\n  }\r\n  async handleCheckChange(check: boolean, params: IChannel) {\r\n    const selectedProperty = params.map.find(m => m.type === 'property');\r\n    setChannelIdAndActiveState(params.id, check);\r\n    updateChannelSettings('hotel_id', selectedProperty.channel_id);\r\n    updateChannelSettings('hotel_title', params.title);\r\n    selectChannel(params.channel.id.toString());\r\n    testConnection();\r\n    await this.channelService.saveConnectedChannel(false);\r\n    resetStore();\r\n    this.refreshChannels();\r\n  }\r\n  render() {\r\n    if (this.isLoading) {\r\n      return (\r\n        <div class=\"h-screen bg-white d-flex flex-column align-items-center justify-content-center\">\r\n          {/* <div class=\"dots\">\r\n            <div class=\"dot\"></div>\r\n            <div class=\"dot\"></div>\r\n            <div class=\"dot\"></div>\r\n          </div> */}\r\n          <ir-loading-screen></ir-loading-screen>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <Host class=\"h-100 \">\r\n        <section class=\"p-2 px-lg-5 py-0 h-100 d-flex flex-column\">\r\n          <div class=\"d-flex w-100 justify-content-between mb-2 align-items-center\">\r\n            <h3 class=\"font-weight-bold m-0 p-0\">{locales.entries?.Lcz_iSWITCH}</h3>\r\n            <ir-button text={locales.entries?.Lcz_CreateChannel} size=\"sm\" onClickHanlder={() => (this.channel_status = 'create')}>\r\n              <svg slot=\"icon\" stroke-width={3} width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM7.50003 4C7.77617 4 8.00003 4.22386 8.00003 4.5V7H10.5C10.7762 7 11 7.22386 11 7.5C11 7.77614 10.7762 8 10.5 8H8.00003V10.5C8.00003 10.7761 7.77617 11 7.50003 11C7.22389 11 7.00003 10.7761 7.00003 10.5V8H4.50003C4.22389 8 4.00003 7.77614 4.00003 7.5C4.00003 7.22386 4.22389 7 4.50003 7H7.00003V4.5C7.00003 4.22386 7.22389 4 7.50003 4Z\"\r\n                  fill=\"currentColor\"\r\n                  fill-rule=\"evenodd\"\r\n                  clip-rule=\"evenodd\"\r\n                ></path>\r\n              </svg>\r\n            </ir-button>\r\n          </div>\r\n          <div class=\"card p-1 flex-fill m-0\">\r\n            <table class=\"table table-striped table-bordered no-footer dataTable\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" class=\"text-left\">\r\n                    {locales.entries?.Lcz_Channel}\r\n                  </th>\r\n                  <th scope=\"col\">{locales.entries?.Lcz_Status}</th>\r\n                  <th scope=\"col\" class=\"actions-theader\">\r\n                    {locales.entries?.Lcz_Actions}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"\">\r\n                {channels_data.connected_channels?.map(channel => (\r\n                  <tr key={channel.channel.id}>\r\n                    <td class=\"text-left\">\r\n                      {channel.channel.name} {channel.title ? `(${channel.title})` : '' ?? ''}\r\n                    </td>\r\n                    <td>\r\n                      <ir-switch checked={channel.is_active} onCheckChange={e => this.handleCheckChange(e.detail, channel)}></ir-switch>\r\n                    </td>\r\n                    <th>\r\n                      <div class=\"d-flex justify-content-end\">\r\n                        <div class=\"btn-group\">\r\n                          <button type=\"button\" class=\"btn  dropdown-toggle px-0\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <span class=\"mr-1\"> {locales.entries?.Lcz_Actions}</span>\r\n                            <svg class={'caret-icon'} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" height={14} width={14}>\r\n                              <path\r\n                                fill=\"var(--blue)\"\r\n                                d=\"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"\r\n                              />\r\n                            </svg>\r\n                          </button>\r\n                          <div class=\"dropdown-menu dropdown-menu-right\">\r\n                            {actions(locales.entries).map((a, index) => (\r\n                              <Fragment>\r\n                                <button\r\n                                  onClick={() => {\r\n                                    if (a.id === 'pull_future_reservation' || a.id === 'view_logs') {\r\n                                      return;\r\n                                    }\r\n                                    a.action(channel);\r\n                                    if (a.id === 'edit') {\r\n                                      setTimeout(() => {\r\n                                        this.channel_status = 'edit';\r\n                                      }, 300);\r\n                                    } else {\r\n                                      this.modal_cause = a.action(channel) as any;\r\n                                      this.openModal();\r\n                                    }\r\n                                  }}\r\n                                  key={a.id + '_item'}\r\n                                  class={`dropdown-item my-0 ${a.id === 'remove' ? 'danger' : ''}`}\r\n                                  type=\"button\"\r\n                                >\r\n                                  {a.icon()}\r\n                                  {a.name}\r\n                                </button>\r\n                                {index < actions(locales.entries).length - 1 && <div key={a.id + '_divider'} class=\"dropdown-divider my-0\"></div>}\r\n                              </Fragment>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            {channels_data.connected_channels.length === 0 && <p class=\"text-center\">{locales.entries?.Lcz_NoChannelsAreConnected}</p>}\r\n          </div>\r\n        </section>\r\n\r\n        <ir-sidebar\r\n          // sidebarStyles={{\r\n          //   width: '60rem',\r\n          // }}\r\n          showCloseButton={false}\r\n          onIrSidebarToggle={this.handleSidebarClose.bind(this)}\r\n          open={this.channel_status !== null}\r\n        >\r\n          {this.channel_status && (\r\n            <ir-channel-editor ticket={this.ticket} class=\"p-1\" channel_status={this.channel_status} onCloseSideBar={this.handleSidebarClose.bind(this)}></ir-channel-editor>\r\n          )}\r\n        </ir-sidebar>\r\n\r\n        <ir-modal\r\n          modalTitle={this.modal_cause?.title}\r\n          modalBody={this.modal_cause?.message}\r\n          ref={el => (this.irModalRef = el)}\r\n          rightBtnText={locales.entries?.Lcz_Confirm}\r\n          leftBtnText={locales.entries?.Lcz_Cancel}\r\n          onCancelModal={this.handleCancelModal.bind(this)}\r\n          rightBtnColor={this.modal_cause?.main_color ?? 'primary'}\r\n          onConfirmModal={this.handleConfirmClicked.bind(this)}\r\n        ></ir-modal>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}