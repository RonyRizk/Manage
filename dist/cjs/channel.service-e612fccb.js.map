{"file":"channel.service-e612fccb.js","mappings":";;;;;;MAKa,cAAe,SAAQA,WAAK;EAChC,MAAM,kBAAkB;IAC7B,IAAI;MACF,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;MAC9B,IAAI,KAAK,KAAK,IAAI,EAAE;QAClB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAMC,WAAK,CAAC,IAAI,CAAC,gCAAgC,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/E,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;UAC5B,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACpC;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAC/BC,2BAAa,CAAC,QAAQ,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC;OACb;KACF;IAAC,OAAO,KAAK,EAAE;MACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;MACnB,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;KACxB;GACF;EACM,MAAM,2BAA2B,CAAC,WAAmB;IAC1D,IAAI;MACF,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;MAC9B,IAAI,KAAK,KAAK,IAAI,EAAE;QAClB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAMD,WAAK,CAAC,IAAI,CAAC,0CAA0C,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,CAAC,CAAC;QACtG,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;UAC5B,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACpC;QACDC,2BAAa,CAAC,kBAAkB,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;OACxD;KACF;IAAC,OAAO,KAAK,EAAE;MACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;MACnB,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;KACxB;GACF;EACM,MAAM,oBAAoB,CAAC,KAAa,IAAI,EAAE,SAAkB;IACrE,IAAI;MACF,IAAI,IAAI,GAAQ,EAAE,CAAC;MACnB,IAAI,SAAS,EAAE;QACb,IAAI,GAAG;UACL,EAAE;UACF,SAAS;SACV,CAAC;OACH;WAAM;QACL,IAAI,GAAG;UACL,EAAE,EAAEA,2BAAa,CAAC,UAAU;UAC5B,KAAK,EAAEA,2BAAa,CAAC,gBAAgB,CAAC,WAAW;UACjD,SAAS,EAAEA,2BAAa,CAAC,SAAS;UAClC,OAAO,EAAE,EAAE,EAAE,EAAEA,2BAAa,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,EAAEA,2BAAa,CAAC,eAAe,CAAC,IAAI,EAAE;UAC3F,QAAQ,EAAE,EAAE,EAAE,EAAEC,0BAAa,CAAC,EAAE,EAAE,IAAI,EAAEA,0BAAa,CAAC,IAAI,EAAE;UAC5D,GAAG,EAAED,2BAAa,CAAC,cAAc;UACjC,SAAS;SACV,CAAC;OACH;MAED,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;MAC9B,IAAI,CAAC,KAAK,EAAE;QACV,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;OAClC;MACD,MAAM,EAAE,IAAI,EAAE,GAAG,MAAMD,WAAK,CAAC,IAAI,CAAC,oCAAoC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;MAErF,OAAO,IAAI,CAAC;KACb;IAAC,OAAO,KAAK,EAAE;MACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACtB;GACF;;;;;","names":["Token","axios","channels_data","calendar_data"],"sources":["src/services/channel.service.ts"],"sourcesContent":["import { Token } from '@/models/Token';\r\nimport calendar_data from '@/stores/calendar-data';\r\nimport channels_data from '@/stores/channel.store';\r\nimport axios from 'axios';\r\n\r\nexport class ChannelService extends Token {\r\n  public async getExposedChannels() {\r\n    try {\r\n      const token = this.getToken();\r\n      if (token !== null) {\r\n        const { data } = await axios.post(`/Get_Exposed_Channels?Ticket=${token}`, {});\r\n        if (data.ExceptionMsg !== '') {\r\n          throw new Error(data.ExceptionMsg);\r\n        }\r\n        const results = data.My_Result;\r\n        channels_data.channels = [...results];\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  public async getExposedConnectedChannels(property_id: number) {\r\n    try {\r\n      const token = this.getToken();\r\n      if (token !== null) {\r\n        const { data } = await axios.post(`/Get_Exposed_Connected_Channels?Ticket=${token}`, { property_id });\r\n        if (data.ExceptionMsg !== '') {\r\n          throw new Error(data.ExceptionMsg);\r\n        }\r\n        channels_data.connected_channels = [...data.My_Result];\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  }\r\n  public async saveConnectedChannel(id: number = null, is_remove: boolean) {\r\n    try {\r\n      let body: any = {};\r\n      if (is_remove) {\r\n        body = {\r\n          id,\r\n          is_remove,\r\n        };\r\n      } else {\r\n        body = {\r\n          id: channels_data.channel_id,\r\n          title: channels_data.channel_settings.hotel_title,\r\n          is_active: channels_data.is_active,\r\n          channel: { id: channels_data.selectedChannel.id, name: channels_data.selectedChannel.name },\r\n          property: { id: calendar_data.id, name: calendar_data.name },\r\n          map: channels_data.mappedChannels,\r\n          is_remove,\r\n        };\r\n      }\r\n\r\n      const token = this.getToken();\r\n      if (!token) {\r\n        throw new Error('Invalid Token');\r\n      }\r\n      const { data } = await axios.post(`/Handle_Connected_Channel?Ticket=${token}`, body);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n"],"version":3}