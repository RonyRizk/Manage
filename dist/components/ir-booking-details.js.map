{"file":"ir-booking-details.js","mappings":";;;;;;;;;;;;;;;AAAA,MAAM,mBAAmB,GAAG,6bAA6b;;MCS5cA,kBAAgB;;;;;;;;;;;;;0BAEmC,IAAI;8BAErB,IAAI;kCACA,IAAI;+BACf,EAAE;4BAES,EAAE;6BAEf,EAAE;mCACI,EAAE;uBAGjB,EAAE;oBAGD,KAAK;sBACH,KAAK;qBACN,KAAK;mBACP,KAAK;uBAGD,KAAK;yBACH,KAAK;sBACR,KAAK;sBACL,KAAK;uBACJ,KAAK;sBAEd,EAAE;sBAEM,IAAI;qBAGF,IAAI;wBAGZ,KAAK;;EAkB7B,eAAe,CAAC,CAAC;IACf,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;IAExB,QAAQ,MAAM,CAAC,EAAE;MACf,KAAK,OAAO;QACV,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC7B,OAAO;MACT,KAAK,SAAS;QACZ,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;QAC/B,OAAO;MACT,KAAK,aAAa;QAChB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC9B,OAAO;MACT,KAAK,MAAM;QACT,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;QAC5B,OAAO;MACT,KAAK,UAAU;QACb,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAC1B,OAAO;MACT,KAAK,aAAa;QAChB,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC7B,OAAO;KACV;IAED,MAAM,QAAQ,GAAW,MAAM,CAAC,EAAE,CAAC;IACnC,IAAI,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;MACjC,MAAM,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACvC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClC;SAAM,IAAI,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;MAC3C,MAAM,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MACvC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACpC;GACF;EAGD,mBAAmB;IACjB,MAAM,OAAO,GAAQ,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;IACxE,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC;GACtB;EAGD,iBAAiB;IACf,IAAI,CAAC,eAAe,EAAE,CAAC;GACxB;EAGD,gBAAgB,CAAC,CAAC;IAChB,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC;;IAEtB,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3C,cAAc,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;IACpD,cAAc,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;IAClD,cAAc,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC;IAClD,cAAc,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACzC,cAAc,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC/C,cAAc,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC7C,cAAc,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC;IACnD,cAAc,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC;IACzD,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IACzD,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;IAChE,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IACzD,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACnD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACrC,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/D,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;;IAEvC,MAAM,OAAO,GAAQ,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;IACxE,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC;IACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;GACjD;EAGD,kBAAkB,CAAC,CAAC;IAClB,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;IACxB,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;IAC3B,QAAQ,QAAQ;MACd,KAAK,eAAe;QAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,MAAM,CAAC;QAC3B,MAAM;KACT;GACF;EAGD,WAAW,CAAC,CAAC;IACX,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;IACxB,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC;IAC3B,QAAQ,QAAQ;MACd,KAAK,mBAAmB;QACtB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,MAAM;KACT;GACF;EAGD,YAAY,CAAC,QAAa,EAAE,QAAa;IACvC,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,QAAQ,CAAC,CAAC;IAC9D,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,QAAQ,CAAC,CAAC;IAC9D,IAAI,KAAK,GAAc;MACrB,SAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,UAAU;MACvC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,SAAS;MACrC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK;MACtC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe;MACnD,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ;MAC5C,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,UAAU;MACrC,IAAI,EAAE,QAAQ,CAAC,QAAQ,CAAC,IAAI;MAC5B,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO;MAClC,MAAM,EAAE,QAAQ,CAAC,QAAQ,CAAC,MAAM;MAChC,MAAM,EAAE,QAAQ,CAAC,QAAQ,CAAC,YAAY;MACtC,UAAU,EAAE,QAAQ,CAAC,QAAQ,CAAC,cAAc;MAC5C,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ;MAC5C,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ;KAC7C,CAAC;IAEF,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;GACxC;EAGD,qBAAqB,CAAC,QAAa,EAAE,QAAa;IAChD,OAAO,CAAC,GAAG,CAAC,wCAAwC,EAAE,QAAQ,CAAC,CAAC;IAChE,OAAO,CAAC,GAAG,CAAC,wCAAwC,EAAE,QAAQ,CAAC,CAAC;;IAEhE,IAAI;MACJ,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI;QACjC,OAAO;UACL,KAAK,EAAE,IAAI,CAAC,SAAS;UACrB,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,CAAC;SAC7D,CAAC;OACH,CAAC,CAAC;MAEH,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;MAC5B,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;MACjE,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;KACtC;IAAC,OAAO,CAAC,EAAE;MACV,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,CAAC,CAAC,CAAC;KACpD;GACF;EAED,eAAe;IACb,MAAM,OAAO,GAAQ,QAAQ,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;IACxE,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;GACrB;EAED,gBAAgB,CAAC,QAAgB,EAAE,MAAc;;IAE/C,MAAM,IAAI,GAAGC,KAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAACA,KAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,CAAC;;IAE3D,OAAO,IAAI,CAAC;GACb;EAED,iBAAiB,CAAC,UAAkB,EAAE,SAAiB;;IAErD,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,MAAW,KAAK,MAAM,CAAC,SAAS,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;IAExH,MAAM,KAAK,GAAG,MAAM,CAAC,cAAc,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;;IAE/D,OAAO,KAAK,CAAC;GACd;EAGD,YAAY;IACV,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;IAC3C,cAAc,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC;IAClD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACrC,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;IACvC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;GACjD;EAED,MAAM;;IACJ,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;MACxB,OAAO,IAAI,CAAC;KACb;IAED,IAAI,cAAc,GAAW,EAAE,CAAC;IAChC,QAAQ,IAAI,CAAC,cAAc,CAAC,gBAAgB;MAC1C,KAAK,KAAK;QACR,cAAc,GAAG,cAAc,CAAC;QAChC,MAAM;MACR,KAAK,KAAK;QACR,cAAc,GAAG,aAAa,CAAC;QAC/B,MAAM;MACR,KAAK,KAAK;QACR,cAAc,GAAG,WAAW,CAAC;QAC7B,MAAM;MACR,KAAK,KAAK;QACR,cAAc,GAAG,WAAW,CAAC;QAC7B,MAAM;KACT;IAED,OAAO;MACL,WAAK,KAAK,EAAC,gCAAgC,IACzC,WAAK,KAAK,EAAC,KAAK,IACd,WAAK,KAAK,EAAC,iEAAiE,IAC1E,WAAK,KAAK,EAAC,kCAAkC,IAAE,WAAW,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAO,EAC/F,qBACwB,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,OAC/D,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAC/E,CACF,EACN,WAAK,KAAK,EAAC,kEAAkE,IAC3E,YAAM,KAAK,EAAE,yBAAyB,cAAc,EAAE,IAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAQ,EAC7I,iBAAW,EAAE,EAAC,eAAe,EAAC,IAAI,EAAC,IAAI,qBAAiB,OAAO,EAAC,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAC,IAAI,EAAC,KAAK,EAAC,kBAAkB,GAAa,EAC1I,iBAAW,IAAI,EAAC,EAAE,EAAC,EAAE,EAAC,mBAAmB,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,QAAQ,GAAa,EAC7E,IAAI,CAAC,UAAU,IAAI,eAAS,EAAE,EAAC,SAAS,EAAC,IAAI,EAAC,uDAAuD,GAAW,EAChH,IAAI,CAAC,QAAQ,IAAI,eAAS,EAAE,EAAC,OAAO,EAAC,IAAI,EAAC,qDAAqD,GAAW,EAC1G,IAAI,CAAC,SAAS,IAAI,eAAS,EAAE,EAAC,aAAa,EAAC,IAAI,EAAC,mCAAmC,GAAW,EAC/F,IAAI,CAAC,OAAO,IAAI,eAAS,EAAE,EAAC,MAAM,EAAC,IAAI,EAAC,kDAAkD,GAAW,CAClG,CACF,CACF;MACN,WAAK,KAAK,EAAC,qBAAqB,IAC9B,WAAK,KAAK,EAAC,SAAS,IAClB,WAAK,KAAK,EAAC,qCAAqC,IAC9C,WAAK,KAAK,EAAC,MAAM,IACf,WAAK,KAAK,EAAC,KAAK,IACb,CAAA,MAAA,IAAI,CAAC,cAAc,CAAC,KAAK,0CAAE,IAAI,KAAI,EAAE,EACtC,gBAAU,KAAK,EAAC,SAAS,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,GAAa,EAC/H,gBAAU,KAAK,EAAC,YAAY,EAAC,KAAK,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,SAAS,EAAE,IAAI,GAAa,EACxJ,gBAAU,KAAK,EAAC,QAAQ,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,GAAa,EAChF,gBAAU,KAAK,EAAC,QAAQ,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAa,EACvF,gBAAU,KAAK,EAAC,kBAAkB,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,GAAa,EAC3G,gBAAU,KAAK,EAAC,UAAU,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,GAAa,EACnF,gBAAU,KAAK,EAAC,eAAe,EAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,EAAE,eAAe,CAAC,GAAa,EAClI,gBAAU,KAAK,EAAC,QAAQ,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,GAAa,CACzE,CACF,EACN,WAAK,KAAK,EAAC,6EAA6E,IACrF,GAAG,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,gBAAgB,CACpH,IAAI,CAAC,cAAc,CAAC,SAAS,EAC7B,IAAI,CAAC,cAAc,CAAC,OAAO,CAC5B,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,QAAQ,GAAG,OAAO,GAAG,EACjH,IAAI,CAAC,UAAU,IAAI,eAAS,EAAE,EAAC,UAAU,EAAC,IAAI,EAAC,6CAA6C,GAAW,CACpG,EACN,WAAK,KAAK,EAAC,MAAM,IACd,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,KAAa;QACtD,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,qBAAqB,EAAE,mBAAmB,CAAC,CAAC;QAC5F,MAAM,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,YAAY,CAAC,qBAAqB,EAAE,mBAAmB,CAAC,CAAA;QAE7G,OAAO;UACL,eACA,iBAAiB,EAAE,iBAAiB,EAClC,YAAY,EAAE,YAAY,EAC1B,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,EAC7C,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,aAAa,EAAE,IAAI,CAAC,aAAa,EACjC,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,IAAI,EAAE,GAAG,GACT;;UAEF,KAAK,KAAK,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,UAAI,KAAK,EAAC,qBAAqB,GAAG;SACtF,CAAC;OACH,CAAC,CACE,CACF,EACN,WAAK,KAAK,EAAC,sCAAsC,IAC/C,0BACA,IAAI,EAAE,IAAI,CAAC,cAAc,EACzB,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,EACzC,uBAAuB,EAAE,IAAI,CAAC,uBAAuB,GAC/B,CAClB,CACF,CACF;MACN,kBAAY,IAAI,EAAE,OAAO,EAAE,EAAE,EAAC,eAAe,IAC3C,qBAAe,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAAE,sBAAsB,EAAE,IAAI,CAAC,sBAAsB,GAAkB,CAC5I;KACd,CAAC;GACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["IrBookingDetails","moment"],"sources":["src/components/ir-booking-details/ir-booking-details.css?tag=ir-booking-details","src/components/ir-booking-details/ir-booking-details.tsx"],"sourcesContent":[".confirmed {\r\n  /* background-color: #28c76f; */\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nir-select#update-status {\r\n  transform: translateY(0.5rem);\r\n}\r\n\r\n.pointer {\r\n  cursor: pointer;\r\n}\r\n\r\n:root {\r\n  --sidebar-width: 50rem;\r\n}\r\n\r\n.sm-padding-right {\r\n  padding-right: 0.2rem;\r\n}\r\n.sm-padding-left {\r\n  padding-left: 0.2rem;\r\n}\r\n.sm-padding-top {\r\n  padding-top: 0.2rem;\r\n}\r\n.sm-padding-bottom {\r\n  padding-bottom: 0.2rem;\r\n}\r\n\r\n.info-notes {\r\n  list-style: none;\r\n  padding-left: 0;\r\n}\r\n.light-blue-bg {\r\n  background-color: #acecff;\r\n  padding: 0rem 0.1rem;\r\n}\r\n.iframeHeight {\r\n  height: 17.5rem;\r\n}\r\n","import { Component, Listen, h, Prop, Watch, State, Event, EventEmitter } from '@stencil/core';\r\nimport moment from 'moment';\r\nimport { guestInfo, selectOption } from '../../common/models';\r\nimport { _formatDate, _formatTime } from './functions';\r\n\r\n@Component({\r\n  tag: 'ir-booking-details',\r\n  styleUrl: 'ir-booking-details.css',\r\n})\r\nexport class IrBookingDetails {\r\n  // Booking Details\r\n  @Prop({ mutable: true, reflect: true }) bookingDetails: any = null;\r\n  // Setup Data\r\n  @Prop() setupDataCountries: selectOption[] = null;\r\n  @Prop() setupDataCountriesCode: selectOption[] = null;\r\n  @Prop() languageAbreviation: string = '';\r\n\r\n  @Prop({ mutable: true }) dropdownStatuses: any = [];\r\n\r\n  @Prop() paymentDetailsUrl: string = '';\r\n  @Prop() paymentExceptionMessage: string = '';\r\n\r\n  // Statuses and Codes\r\n  @Prop() statusCodes: any = [];\r\n\r\n  // Booleans Conditions\r\n  @Prop() hasPrint: boolean = false;\r\n  @Prop() hasReceipt: boolean = false;\r\n  @Prop() hasDelete: boolean = false;\r\n  @Prop() hasMenu: boolean = false;\r\n\r\n  // Room Booleans\r\n  @Prop() hasRoomEdit: boolean = false;\r\n  @Prop() hasRoomDelete: boolean = false;\r\n  @Prop() hasRoomAdd: boolean = false;\r\n  @Prop() hasCheckIn: boolean = false;\r\n  @Prop() hasCheckOut: boolean = false;\r\n\r\n  @State() statusData = []\r\n  // Temp Status Before Save\r\n  @State() tempStatus: string = null;\r\n\r\n  // Guest Data\r\n  @State() guestData: guestInfo = null;\r\n\r\n  // Rerender Flag\r\n  @State() rerenderFlag = false;\r\n\r\n  // Event Emitters\r\n\r\n  // Guest Event\r\n  @Event() sendDataToServer: EventEmitter<guestInfo>;\r\n  @Event() handlePrintClick: EventEmitter;\r\n  @Event() handleReceiptClick: EventEmitter;\r\n  @Event() handleDeleteClick: EventEmitter;\r\n  @Event() handleMenuClick: EventEmitter;\r\n  // Room Event\r\n  @Event() handleRoomAdd: EventEmitter;\r\n  @Event() handleRoomEdit: EventEmitter;\r\n  @Event() handleRoomDelete: EventEmitter;\r\n  // Payment Event\r\n  @Event() handleAddPayment: EventEmitter;\r\n\r\n  @Listen('iconClickHandler')\r\n  handleIconClick(e) {\r\n    const target = e.target;\r\n\r\n    switch (target.id) {\r\n      case 'print':\r\n        this.handlePrintClick.emit();\r\n        return;\r\n      case 'receipt':\r\n        this.handleReceiptClick.emit();\r\n        return;\r\n      case 'book-delete':\r\n        this.handleDeleteClick.emit();\r\n        return;\r\n      case 'menu':\r\n        this.handleMenuClick.emit();\r\n        return;\r\n      case 'room-add':\r\n        this.handleRoomAdd.emit();\r\n        return;\r\n      case 'add-payment':\r\n        this.handleAddPayment.emit();\r\n        return;\r\n    }\r\n\r\n    const targetID: string = target.id;\r\n    if (targetID.includes('roomEdit')) {\r\n      const roomID = target.id.split('-')[1];\r\n      this.handleRoomEdit.emit(roomID);\r\n    } else if (target.id.includes('roomDelete')) {\r\n      const roomID = target.id.split('-')[1];\r\n      this.handleRoomDelete.emit(roomID);\r\n    }\r\n  }\r\n\r\n  @Listen('irSidebarToggle')\r\n  handleSidebarToggle() {\r\n    const sidebar: any = document.querySelector('ir-sidebar#editGuestInfo');\r\n    sidebar.open = false;\r\n  }\r\n\r\n  @Listen('editSidebar')\r\n  handleEditSidebar() {\r\n    this.openEditSidebar();\r\n  }\r\n\r\n  @Listen('submitForm')\r\n  handleFormSubmit(e) {\r\n    const data = e.detail;\r\n    // handle changes in the booking details\r\n    const bookingDetails = this.bookingDetails;\r\n    bookingDetails.My_Guest.FIRST_NAME = data.firstName;\r\n    bookingDetails.My_Guest.LAST_NAME = data.lastName;\r\n    bookingDetails.My_Guest.COUNTRY_ID = data.country;\r\n    bookingDetails.My_Guest.CITY = data.city;\r\n    bookingDetails.My_Guest.ADDRESS = data.address;\r\n    bookingDetails.My_Guest.MOBILE = data.mobile;\r\n    bookingDetails.My_Guest.PHONE_PREFIX = data.prefix;\r\n    bookingDetails.My_Guest.IS_NEWS_LETTER = data.newsletter;\r\n    bookingDetails.My_Guest.My_User.CURRENCY = data.currency;\r\n    bookingDetails.My_Guest.My_User.DISCLOSED_EMAIL = data.altEmail;\r\n    bookingDetails.My_Guest.My_User.PASSWORD = data.password;\r\n    bookingDetails.My_Guest.My_User.EMAIL = data.email;\r\n    this.bookingDetails = bookingDetails;\r\n    console.log('Form submitted with data: ', this.bookingDetails);\r\n    this.rerenderFlag = !this.rerenderFlag;\r\n    // close the sidebar\r\n    const sidebar: any = document.querySelector('ir-sidebar#editGuestInfo');\r\n    sidebar.open = false;\r\n    this.sendDataToServer.emit(this.bookingDetails);\r\n  }\r\n\r\n  @Listen('selectChange')\r\n  handleSelectChange(e) {\r\n    const target = e.target;\r\n    const targetID = target.id;\r\n    switch (targetID) {\r\n      case 'update-status':\r\n        this.tempStatus = e.detail;\r\n        break;\r\n    }\r\n  }\r\n\r\n  @Listen('clickHanlder')\r\n  handleClick(e) {\r\n    const target = e.target;\r\n    const targetID = target.id;\r\n    switch (targetID) {\r\n      case 'update-status-btn':\r\n        this.updateStatus();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @Watch('bookingDetails')\r\n  watchHandler(newValue: any, oldValue: any) {\r\n    console.log('The new value of bookingDetails is: ', newValue);\r\n    console.log('The old value of bookingDetails is: ', oldValue);\r\n    let _data: guestInfo = {\r\n      firstName: newValue.My_Guest.FIRST_NAME,\r\n      lastName: newValue.My_Guest.LAST_NAME,\r\n      email: newValue.My_Guest.My_User.EMAIL,\r\n      altEmail: newValue.My_Guest.My_User.DISCLOSED_EMAIL,\r\n      password: newValue.My_Guest.My_User.PASSWORD,\r\n      country: newValue.My_Guest.COUNTRY_ID,\r\n      city: newValue.My_Guest.CITY,\r\n      address: newValue.My_Guest.ADDRESS,\r\n      mobile: newValue.My_Guest.MOBILE,\r\n      prefix: newValue.My_Guest.PHONE_PREFIX,\r\n      newsletter: newValue.My_Guest.IS_NEWS_LETTER,\r\n      currency: newValue.My_Guest.My_User.CURRENCY,\r\n      language: newValue.My_Guest.My_User.LANGUAGE,\r\n    };\r\n\r\n    this.guestData = _data;\r\n    this.rerenderFlag = !this.rerenderFlag;\r\n  }\r\n\r\n  @Watch('dropdownStatuses')\r\n  watchDropdownStatuses(newValue: any, oldValue: any) {\r\n    console.log('The new value of dropdownStatuses is: ', newValue);\r\n    console.log('The old value of dropdownStatuses is: ', oldValue);\r\n    // Make the newValue in way that can be handled by the dropdown\r\n    try {\r\n    const _newValue = newValue.map(item => {\r\n      return {\r\n        value: item.CODE_NAME,\r\n        text: this._getBookingStatus(item.CODE_NAME, '_BOOK_STATUS')\r\n      };\r\n    });\r\n\r\n    this.statusData = _newValue;\r\n    console.log('The new value of statusData is: ', this.statusData);\r\n    this.rerenderFlag = !this.rerenderFlag;\r\n    } catch (e) {\r\n      console.log('Error in watchDropdownStatuses: ', e);\r\n    }\r\n  }\r\n\r\n  openEditSidebar() {\r\n    const sidebar: any = document.querySelector('ir-sidebar#editGuestInfo');\r\n    sidebar.open = true;\r\n  }\r\n\r\n  _calculateNights(fromDate: string, toDate: string) {\r\n    // calculate the difference between the two dates\r\n    const diff = moment(toDate).diff(moment(fromDate), 'days');\r\n    // return the difference\r\n    return diff;\r\n  }\r\n\r\n  _getBookingStatus(statusCode: string, tableName: string) {\r\n    // get the status from the statusCode and tableName and also where the language is CODE_VALUE_${language}\r\n    const status = this.statusCodes.find((status: any) => status.CODE_NAME === statusCode && status.TBL_NAME === tableName);\r\n\r\n    const value = status[`CODE_VALUE_${this.languageAbreviation}`];\r\n    // return the status\r\n    return value;\r\n  }\r\n\r\n\r\n  updateStatus() {\r\n    const bookingDetails = this.bookingDetails;\r\n    bookingDetails.BOOK_STATUS_CODE = this.tempStatus;\r\n    this.bookingDetails = bookingDetails;\r\n    this.rerenderFlag = !this.rerenderFlag;\r\n    this.sendDataToServer.emit(this.bookingDetails);\r\n  }\r\n\r\n  render() {\r\n    if (!this.bookingDetails) {\r\n      return null;\r\n    }\r\n\r\n    let confirmationBG: string = '';\r\n    switch (this.bookingDetails.BOOK_STATUS_CODE) {\r\n      case '001':\r\n        confirmationBG = 'bg-ir-orange';\r\n        break;\r\n      case '002':\r\n        confirmationBG = 'bg-ir-green';\r\n        break;\r\n      case '003':\r\n        confirmationBG = 'bg-ir-red';\r\n        break;\r\n      case '004':\r\n        confirmationBG = 'bg-ir-red';\r\n        break;\r\n    }\r\n\r\n    return [\r\n      <div class=\"fluid-container pt-1 mr-2 ml-2\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-7 col-md-12 d-flex justify-content-start align-items-end\">\r\n            <div class=\"font-size-large sm-padding-right\">{`Booking#${this.bookingDetails.BOOK_NBR}`}</div>\r\n            <div>\r\n              {/* format date */}@ {_formatDate(this.bookingDetails.BOOK_DATE)} {/* format time */}\r\n              {_formatTime(this.bookingDetails.BOOK_HOUR, +' ' + this.bookingDetails.BOOK_MINUTE)}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-5 col-md-12 d-flex justify-content-end align-items-center\">\r\n            <span class={`confirmed btn-sm mr-2 ${confirmationBG}`}>{this._getBookingStatus(this.bookingDetails.BOOK_STATUS_CODE, '_BOOK_STATUS')}</span>\r\n            <ir-select id=\"update-status\" size=\"sm\" label-available=\"false\" data={this.statusData} textSize=\"sm\" class=\"sm-padding-right\"></ir-select>\r\n            <ir-button icon=\"\" id=\"update-status-btn\" size=\"sm\" text=\"Update\"></ir-button>\r\n            {this.hasReceipt && <ir-icon id=\"receipt\" icon=\"ft-file-text h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n            {this.hasPrint && <ir-icon id=\"print\" icon=\"ft-printer h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n            {this.hasDelete && <ir-icon id=\"book-delete\" icon=\"ft-trash-2 h1 danger ml-1 pointer\"></ir-icon>}\r\n            {this.hasMenu && <ir-icon id=\"menu\" icon=\"ft-list h1 color-ir-dark-blue-hover ml-1 pointer\"></ir-icon>}\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      <div class=\"fluid-container m-1\">\r\n        <div class=\"row m-0\">\r\n          <div class=\"col-lg-7 col-md-12 pl-0 pr-lg-1 p-0\">\r\n            <div class=\"card\">\r\n              <div class=\"p-1\">\r\n                {this.bookingDetails.My_Ac?.NAME || ''}\r\n                <ir-label label=\"Source:\" value={this.bookingDetails.My_Source.Label} imageSrc={this.bookingDetails.My_Source.Icon}></ir-label>\r\n                <ir-label label=\"Booked by:\" value={`${this.bookingDetails.My_Guest.FIRST_NAME} ${this.bookingDetails.My_Guest.LAST_NAME}`} iconShown={true}></ir-label>\r\n                <ir-label label=\"Phone:\" value={this.bookingDetails.My_Guest.MOBILE}></ir-label>\r\n                <ir-label label=\"Email:\" value={this.bookingDetails.My_Guest.My_User.EMAIL}></ir-label>\r\n                <ir-label label=\"Alternate Email:\" value={this.bookingDetails.My_Guest.My_User.DISCLOSED_EMAIL}></ir-label>\r\n                <ir-label label=\"Address:\" value={this.bookingDetails.My_Guest.ADDRESS}></ir-label>\r\n                <ir-label label=\"Arrival Time:\" value={this._getBookingStatus(this.bookingDetails.ARRIVAL_TIME_CODE, '_ARRIVAL_TIME')}></ir-label>\r\n                <ir-label label=\"Notes:\" value={this.bookingDetails.GUEST_REMARK}></ir-label>\r\n              </div>\r\n            </div>\r\n            <div class=\"font-size-large d-flex justify-content-between align-items-center ml-1 mb-1\">\r\n              {`${_formatDate(this.bookingDetails.FROM_DATE)} - ${_formatDate(this.bookingDetails.TO_DATE)} (${this._calculateNights(\r\n                this.bookingDetails.FROM_DATE,\r\n                this.bookingDetails.TO_DATE,\r\n              )} ${this._calculateNights(this.bookingDetails.FROM_DATE, this.bookingDetails.TO_DATE) > 1 ? 'nights' : 'night'})`}\r\n              {this.hasRoomAdd && <ir-icon id=\"room-add\" icon=\"ft-plus h3 color-ir-dark-blue-hover pointer\"></ir-icon>}\r\n            </div>\r\n            <div class=\"card\">\r\n              {this.bookingDetails.My_Bsa.map((bsa: any, index: number) => {\r\n                const mealCodeName = this._getBookingStatus(bsa.FOOD_ARRANGE_CAT_CODE, '_FOOD_ARRANGE_CAT');\r\n                const myRoomTypeFoodCat = this._getBookingStatus(bsa.My_Room_type.FOOD_ARRANGE_CAT_CODE, '_FOOD_ARRANGE_CAT')\r\n              \r\n                return [\r\n                  <ir-room\r\n                  myRoomTypeFoodCat={myRoomTypeFoodCat}\r\n                    mealCodeName={mealCodeName}\r\n                    currency={this.bookingDetails.My_Currency.REF}\r\n                    hasRoomEdit={this.hasRoomEdit}\r\n                    hasRoomDelete={this.hasRoomDelete}\r\n                    hasCheckIn={this.hasCheckIn}\r\n                    hasCheckOut={this.hasCheckOut}\r\n                    item={bsa}\r\n                  />,\r\n                  // add separator if not last item with marginHorizontal and alignCenter\r\n                  index !== this.bookingDetails.My_Bsa.length - 1 && <hr class=\"mr-2 ml-2 mt-1 mb-1\" />,\r\n                ];\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-5 col-md-12 pr-0 pl-0 pl-md-1\">\r\n            <ir-payment-details \r\n            item={this.bookingDetails}\r\n            paymentDetailsUrl={this.paymentDetailsUrl}\r\n            paymentExceptionMessage={this.paymentExceptionMessage}\r\n            ></ir-payment-details>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      <ir-sidebar side={'right'} id=\"editGuestInfo\">\r\n        <ir-guest-info data={this.guestData} setupDataCountries={this.setupDataCountries} setupDataCountriesCode={this.setupDataCountriesCode}></ir-guest-info>\r\n      </ir-sidebar>,\r\n    ];\r\n  }\r\n}\r\n"],"version":3}