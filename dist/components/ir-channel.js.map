{"file":"ir-channel.js","mappings":"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","names":["IrChannel"],"sources":["src/components/ir-channel/ir-channel.css?tag=ir-channel&encapsulation=scoped","src/components/ir-channel/ir-channel.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import { RoomService } from '@/services/room.service';\r\nimport calendar_data from '@/stores/calendar-data';\r\nimport locales from '@/stores/locales.store';\r\nimport { Component, Host, Prop, Watch, h, Element, State } from '@stencil/core';\r\nimport axios from 'axios';\r\n\r\n@Component({\r\n  tag: 'ir-channel',\r\n  styleUrl: 'ir-channel.css',\r\n  scoped: true,\r\n})\r\nexport class IrChannel {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() ticket: string = '';\r\n  @Prop() propertyid: number;\r\n  @Prop() language: string;\r\n  @Prop() baseurl: string;\r\n\r\n  @State() channel_status: 'create' | 'edit' | null = null;\r\n\r\n  private roomService = new RoomService();\r\n\r\n  componentWillLoad() {\r\n    if (this.baseurl) {\r\n      axios.defaults.baseURL = this.baseurl;\r\n    }\r\n    if (this.ticket !== '') {\r\n      this.initializeApp();\r\n    }\r\n  }\r\n  async initializeApp() {\r\n    try {\r\n      const [, , languageTexts] = await Promise.all([\r\n        this.roomService.fetchData(this.propertyid, this.language),\r\n        this.roomService.getExposedChannels(),\r\n        this.roomService.fetchLanguage(this.language),\r\n      ]);\r\n      console.log(languageTexts);\r\n      if (!locales.entries) {\r\n        locales.entries = languageTexts.entries;\r\n        locales.direction = languageTexts.direction;\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  @Watch('ticket')\r\n  async ticketChanged() {\r\n    sessionStorage.setItem('token', JSON.stringify(this.ticket));\r\n    this.initializeApp();\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <section class=\"p-2\">\r\n          <div class=\"d-flex w-100 justify-content-end mb-2\">\r\n            <ir-button text={'Create'} size=\"sm\" onClickHanlder={() => (this.channel_status = 'create')}></ir-button>\r\n          </div>\r\n          <div>\r\n            <table class=\"table\">\r\n              <thead class=\"\">\r\n                <tr>\r\n                  <th scope=\"col\" class=\"text-left\">\r\n                    Title\r\n                  </th>\r\n                  <th scope=\"col\">Channel</th>\r\n                  <th scope=\"col\">Status</th>\r\n                  <th scope=\"col\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {calendar_data.connected_channels?.map(channel => (\r\n                  <tr key={channel.channel.id}>\r\n                    <th scope=\"row\" class=\"text-left\">\r\n                      {channel.title}\r\n                    </th>\r\n                    <th scope=\"row\">{channel.channel.name}</th>\r\n                    <td>\r\n                      <input data-switchery=\"true\" type=\"checkbox\" class=\"\" checked={channel.is_active} />\r\n                    </td>\r\n                    <th>\r\n                      <div class=\"dropdown\">\r\n                        <button class=\"btn dropdown-toggle text-primary\" type=\"button\" data-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                          Actions\r\n                        </button>\r\n                        <div class=\"dropdown-menu dropdown-menu-right\">\r\n                          <a class=\"dropdown-item\" href=\"#\">\r\n                            Action\r\n                          </a>\r\n                          <a class=\"dropdown-item\" href=\"#\">\r\n                            Another action\r\n                          </a>\r\n                          <a class=\"dropdown-item\" href=\"#\">\r\n                            Something else here\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </section>\r\n        <ir-sidebar\r\n          showCloseButton={false}\r\n          onIrSidebarToggle={e => {\r\n            e.stopImmediatePropagation();\r\n            e.stopPropagation();\r\n            this.channel_status = null;\r\n          }}\r\n          open={this.channel_status !== null}\r\n        >\r\n          {this.channel_status && <ir-channel-editor onCloseSideBar={() => (this.channel_status = null)}></ir-channel-editor>}\r\n        </ir-sidebar>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}