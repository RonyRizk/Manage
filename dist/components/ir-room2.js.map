{"file":"ir-room2.js","mappings":"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","names":[],"sources":["src/components/ir-booking-details/ir-room/ir-room.css?tag=ir-room&encapsulation=scoped","src/components/ir-booking-details/ir-room/ir-room.tsx"],"sourcesContent":[".light-blue-bg {\r\n  background: #acecff;\r\n  padding: 0.2rem 0.3rem;\r\n  border-radius: 5px;\r\n}\r\n.payment-container {\r\n  position: absolute;\r\n  right: 1rem;\r\n  height: fit-content;\r\n}\r\n:host {\r\n  position: relative;\r\n}\r\n.sm-mr {\r\n  margin-right: 3px;\r\n}\r\n\r\n/* .cancelation {\r\n  max-width: 30%;\r\n} */\r\n.mx-0-5 {\r\n  margin-left: 2px !important;\r\n  margin-right: 2px !important;\r\n}\r\n.tax-width {\r\n  font-size: 10px;\r\n  /* flex-wrap: wrap; */\r\n}\r\n","import { Component, h, Prop, EventEmitter, Event, Listen, State, Element, Watch, Host, Fragment } from '@stencil/core';\nimport { _formatAmount, _formatDate, _getDay } from '../functions';\nimport { Booking, IUnit, Room } from '../../../models/booking.dto';\nimport { TIglBookPropertyPayload } from '../../../models/igl-book-property';\nimport { formatName } from '../../../utils/booking';\nimport { IrModal } from '@/components/ir-modal/ir-modal';\nimport axios from 'axios';\nimport { ILocale } from '@/stores/locales.store';\nimport calendar_data from '@/stores/calendar-data';\n\n@Component({\n  tag: 'ir-room',\n  styleUrl: 'ir-room.css',\n  scoped: true,\n})\nexport class IrRoom {\n  // Room Data\n  @Prop() bookingEvent: Booking;\n  @Prop() bookingIndex: number;\n  // Meal Code names\n  @Prop() mealCodeName: string;\n  @Prop() myRoomTypeFoodCat: string;\n  // Currency\n  @Prop() currency: string = 'USD';\n  @Prop() legendData;\n  @Prop() roomsInfo;\n  @State() collapsed: boolean = false;\n  @Prop() defaultTexts: ILocale;\n  @Prop() ticket;\n\n  // Booleans Conditions\n  @Prop() hasRoomEdit: boolean = false;\n  @Prop() hasRoomDelete: boolean = false;\n  @Prop() hasRoomAdd: boolean = false;\n  @Prop() hasCheckIn: boolean = false;\n  @Prop() hasCheckOut: boolean = false;\n  @Element() element;\n  // Event Emitters\n  @Event({ bubbles: true, composed: true }) deleteFinished: EventEmitter<string>;\n  @Event({ bubbles: true, composed: true }) pressCheckIn: EventEmitter;\n  @Event({ bubbles: true, composed: true }) pressCheckOut: EventEmitter;\n  @Event({ bubbles: true, composed: true }) editInitiated: EventEmitter<TIglBookPropertyPayload>;\n  @State() item: Room;\n  @State() isLoading: boolean = false;\n  @State() isModelOpen: boolean = false;\n  private modal: IrModal;\n  componentWillLoad() {\n    if (this.bookingEvent) {\n      this.item = this.bookingEvent.rooms[this.bookingIndex];\n    }\n    //console.log(\"item\",this.item)\n  }\n  @Watch('bookingEvent')\n  handleBookingEventChange() {\n    this.item = this.bookingEvent.rooms[this.bookingIndex];\n  }\n  componentDidLoad() {\n    this.modal = this.element.querySelector('ir-modal');\n  }\n  @Listen('clickHanlder')\n  handleClick(e) {\n    let target = e.target;\n    if (target.id == 'checkin') {\n      this.pressCheckIn.emit(this.item);\n    } else if (target.id == 'checkout') {\n      this.pressCheckOut.emit(this.item);\n    }\n  }\n\n  // _getFoodArrangeCat(catCode: string) {\n  //   // get the category from the foodArrangeCats array\n  //   const cat = this.mealCode.find((cat: any) => cat.CODE_NAME === catCode);\n  //   // return the category\n  //   return cat.CODE_VALUE_EN;\n  // }\n  /*\n\n  bookingEvent.defaultDateRange = {};\n      bookingEvent.defaultDateRange.fromDate = new Date(bookingEvent.FROM_DATE + 'T00:00:00');\n      bookingEvent.defaultDateRange.fromDateStr = this.getDateStr(bookingEvent.defaultDateRange.fromDate);\n      bookingEvent.defaultDateRange.fromDateTimeStamp = bookingEvent.defaultDateRange.fromDate.getTime();\n      bookingEvent.defaultDateRange.toDate = new Date(bookingEvent.TO_DATE + 'T00:00:00');\n      bookingEvent.defaultDateRange.toDateStr = this.getDateStr(bookingEvent.defaultDateRange.toDate);\n      bookingEvent.defaultDateRange.toDateTimeStamp = bookingEvent.defaultDateRange.toDate.getTime();\n      bookingEvent.defaultDateRange.dateDifference = bookingEvent.NO_OF_DAYS;\n  */\n  getDateStr(date, locale = 'default') {\n    return date.getDate() + ' ' + date.toLocaleString(locale, { month: 'short' }) + ' ' + date.getFullYear();\n  }\n  handleEditClick() {\n    this.editInitiated.emit({\n      event_type: 'EDIT_BOOKING',\n      ID: this.item['assigned_units_pool'],\n      NAME: formatName(this.item.guest.first_name, this.item.guest.last_name),\n      EMAIL: this.bookingEvent.guest.email,\n      PHONE: this.bookingEvent.guest.mobile,\n      REFERENCE_TYPE: '',\n      FROM_DATE: this.bookingEvent.from_date,\n      TO_DATE: this.bookingEvent.to_date,\n      TITLE: `${this.defaultTexts.entries.Lcz_EditBookingFor} ${this.item?.roomtype?.name} ${(this.item?.unit as IUnit)?.name || ''}`,\n      defaultDateRange: {\n        dateDifference: this.item.days.length,\n        fromDate: new Date(this.item.from_date + 'T00:00:00'),\n        fromDateStr: this.getDateStr(new Date(this.item.from_date + 'T00:00:00')),\n        toDate: new Date(this.item.to_date + 'T00:00:00'),\n        toDateStr: this.getDateStr(new Date(this.item.to_date + 'T00:00:00')),\n        message: '',\n      },\n      bed_preference: this.item.bed_preference,\n      adult_child_offering: this.item.rateplan.selected_variation.adult_child_offering,\n      ADULTS_COUNT: this.item.rateplan.selected_variation.adult_nbr,\n      ARRIVAL: this.bookingEvent.arrival,\n      ARRIVAL_TIME: this.bookingEvent.arrival.description,\n      BOOKING_NUMBER: this.bookingEvent.booking_nbr,\n      cancelation: this.item.rateplan.cancelation,\n      channel_booking_nbr: this.bookingEvent.channel_booking_nbr,\n      CHILDREN_COUNT: this.item.rateplan.selected_variation.child_nbr,\n      COUNTRY: this.bookingEvent.guest.country_id,\n      ENTRY_DATE: this.bookingEvent.from_date,\n      FROM_DATE_STR: this.bookingEvent.format.from_date,\n      guarantee: this.item.rateplan.guarantee,\n      GUEST: this.bookingEvent.guest,\n      IDENTIFIER: this.item.identifier,\n      is_direct: this.bookingEvent.is_direct,\n      IS_EDITABLE: this.bookingEvent.is_editable,\n      NO_OF_DAYS: this.item.days.length,\n      NOTES: this.bookingEvent.remark,\n      origin: this.bookingEvent.origin,\n      POOL: this.item['assigned_units_pool'],\n      PR_ID: (this.item.unit as IUnit)?.id,\n      RATE: this.item.total,\n      RATE_PLAN: this.item.rateplan.name,\n      RATE_PLAN_ID: this.item.rateplan.id,\n      RATE_TYPE: this.item.roomtype.id,\n      ROOMS: this.bookingEvent.rooms,\n      SOURCE: this.bookingEvent.source,\n      SPLIT_BOOKING: false,\n      STATUS: 'IN-HOUSE',\n      TO_DATE_STR: this.bookingEvent.format.to_date,\n      TOTAL_PRICE: this.bookingEvent.total,\n      legendData: this.legendData,\n      roomsInfo: this.roomsInfo,\n      roomName: (this.item.unit as IUnit)?.name || '',\n    });\n  }\n  handleDeleteClick() {\n    this.modal.openModal();\n  }\n  async deleteRoom() {\n    try {\n      this.isLoading = true;\n      let oldRooms = [...this.bookingEvent.rooms];\n      oldRooms = oldRooms.filter(room => room.identifier !== this.item.identifier);\n\n      const body = {\n        assign_units: true,\n        check_in: true,\n        is_pms: true,\n        is_direct: true,\n        booking: {\n          booking_nbr: this.bookingEvent.booking_nbr,\n          from_date: this.bookingEvent.from_date,\n          to_date: this.bookingEvent.to_date,\n          remark: this.bookingEvent.remark,\n          property: this.bookingEvent.property,\n          source: this.bookingEvent.source,\n          currency: this.bookingEvent.currency,\n          arrival: this.bookingEvent.arrival,\n          guest: this.bookingEvent.guest,\n          rooms: oldRooms,\n        },\n      };\n      console.log('body:', body);\n\n      const { data } = await axios.post(`/DoReservation?Ticket=${this.ticket}`, body);\n      if (data.ExceptionMsg !== '') {\n        throw new Error(data.ExceptionMsg);\n      }\n      this.deleteFinished.emit(this.item.identifier);\n    } catch (error) {\n    } finally {\n      this.isLoading = false;\n    }\n  }\n  render() {\n    return (\n      <Host class=\"p-1 d-flex m-0\">\n        <ir-icon\n          id=\"drawer-icon\"\n          data-toggle=\"collapse\"\n          data-target={`#roomCollapse-${this.item.identifier.split(' ').join('')}`}\n          aria-expanded=\"false\"\n          aria-controls=\"collapseExample\"\n          class=\"pointer mr-1\"\n          onClick={() => {\n            this.collapsed = !this.collapsed;\n          }}\n        >\n          {!this.collapsed ? (\n            <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"22.5\" viewBox=\"0 0 576 512\">\n              <path\n                fill=\"#104064\"\n                d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"\n              />\n            </svg>\n          ) : (\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"25\" viewBox=\"0 0 640 512\" slot=\"icon\">\n              <path\n                fill=\"#104064\"\n                d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\"\n              />\n            </svg>\n          )}\n        </ir-icon>\n        <div class=\"flex-fill m-0 \">\n          <div class=\"d-flex align-items-start justify-content-between\">\n            <p class=\"m-0 p-0\">\n              <strong class=\"m-0 p-0\">{this.myRoomTypeFoodCat || ''} </strong> {this.mealCodeName}{' '}\n              {this.item.rateplan.is_non_refundable && ` - ${this.defaultTexts.entries.Lcz_NonRefundable}`}{' '}\n            </p>\n            {/*this.item.My_Room_type.My_Room_type_desc[0].CUSTOM_TXT || ''*/}\n            <div class=\"d-flex m-0 p-0\">\n              {this.hasRoomEdit && (\n                <ir-icon id={`roomEdit-${this.item.identifier}`} class=\"pointer mx-1\" onClick={this.handleEditClick.bind(this)}>\n                  <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"16\" viewBox=\"0 0 512 512\">\n                    <path\n                      fill=\"#6b6f82\"\n                      d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\"\n                    />\n                  </svg>\n                </ir-icon>\n              )}\n              {this.hasRoomDelete && (\n                <ir-icon onClick={this.handleDeleteClick.bind(this)} id={`roomDelete-${this.item.identifier}`} class=\"pointer\">\n                  <svg slot=\"icon\" fill=\"#ff2441\" xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"14.25\" viewBox=\"0 0 448 512\">\n                    <path d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\" />\n                  </svg>\n                </ir-icon>\n              )}\n            </div>\n          </div>\n          <div class=\"py-1 d-flex w-full align-items-center justify-content-end\">\n            {this.bookingEvent.is_direct ? (\n              <Fragment>\n                <div class={'tax-width '}>\n                  {(() => {\n                    const filtered_data = calendar_data.taxes.filter(tx => tx.pct > 0);\n                    return filtered_data.map((tax, index) => {\n                      if (!tax.is_exlusive) {\n                        return (\n                          <span class={`p-0 m-0 `}>\n                            {' '}\n                            {this.defaultTexts.entries.Lcz_Including} {tax.name} ({tax.pct.toFixed(0)}%) {_formatAmount(this.item.total * (tax.pct / 100), this.currency)}{' '}\n                            {index < filtered_data.length - 1 ? ' - ' : ''}\n                          </span>\n                        );\n                      }\n                      return (\n                        <span class={`p-0 m-0`}>\n                          {this.defaultTexts.entries.Lcz_Excluding} {tax.name} ({tax.pct.toFixed(0)}%) {_formatAmount(this.item.total * (tax.pct / 100), this.currency)}{' '}\n                          {index < filtered_data.length - 1 ? ' - ' : ''}\n                        </span>\n                      );\n                    });\n                  })()}\n                </div>\n              </Fragment>\n            ) : (\n              <Fragment>\n              <div class={'tax-width '}>\n                {(() => {\n                  const filtered_data = this.item.ota_atxes.filter(tx => tx.amount > 0);\n                  return filtered_data.map((tax, index) => {\n                    if (!tax.is_exlusive) {\n                      return (\n                        <span class={`p-0 m-0 `}>\n                          {' '}\n                          {this.defaultTexts.entries.Lcz_Including} {tax.name} {tax.currency.symbol + tax.amount} {index < filtered_data.length - 1 ? ' - ' : ''}\n                        </span>\n                      );\n                    }\n                    return (\n                      <span class={`p-0 m-0`}>\n                        {this.defaultTexts.entries.Lcz_Excluding} {tax.name} {tax.currency.symbol + tax.amount} {index < filtered_data.length - 1 ? ' - ' : ''}\n                      </span>\n                    );\n                  });\n                })()}\n                </div>\n              </Fragment>\n            )}\n            <p class=\"p-0 m-0 ml-1 font-weight-bold\">{_formatAmount(this.item['gross_total'], this.currency)}</p>\n          </div>\n          <div class=\"d-flex align-items-center\">\n            <span class=\" mr-1\">\n              {_formatDate(this.item.from_date)} - {_formatDate(this.item.to_date)}\n            </span>\n            {calendar_data.is_frontdesk_enabled && this.item.unit && <span class=\"light-blue-bg mr-2 \">{(this.item.unit as IUnit).name}</span>}\n            {this.hasCheckIn && <ir-button id=\"checkin\" icon=\"\" class=\"mr-1\" btn_color=\"info\" size=\"sm\" text=\"Check in\"></ir-button>}\n            {this.hasCheckOut && <ir-button id=\"checkout\" icon=\"\" btn_color=\"info\" size=\"sm\" text=\"Check out\"></ir-button>}\n          </div>\n          <div>\n            <span class=\"mr-1\">{`${this.item.guest.first_name || ''} ${this.item.guest.last_name || ''}`}</span>\n            {this.item.rateplan.selected_variation.adult_nbr > 0 && <span> {this.item.rateplan.selected_variation.adult_child_offering}</span>}\n          </div>\n          <div class=\"collapse\" id={`roomCollapse-${this.item.identifier.split(' ').join('')}`}>\n            <div class=\"d-flex\">\n              <div class=\" sm-padding-top\">\n                <strong class=\"sm-padding-right\">{`${this.defaultTexts.entries.Lcz_Breakdown}:`}</strong>\n              </div>\n              <div class={'flex-fill'}>\n                <table>\n                  {this.item.days.length > 0 &&\n                    this.item.days.map(item => (\n                      <tr>\n                        <td class={'pr-2'}>{_getDay(item.date)}</td> <td>{_formatAmount(item.amount, this.currency)}</td>\n                      </tr>\n                    ))}\n                </table>\n              </div>\n            </div>\n            <div innerHTML={this.item.rateplan.cancelation || ''}></div>\n            {/* <ir-label label=\"PrePayment:\" value={this.item.My_Room_type.My_Translated_Prepayment_Policy || ''}></ir-label>\n            <ir-label label=\"Smoking Preference:\" value={this.item.My_Room_type.My_Translated_Cancelation_Policy || ''}></ir-label> */}\n            <ir-label label={`${this.defaultTexts.entries.Lcz_MealPlan}:`} value={this.mealCodeName}></ir-label>\n            {/* <ir-label label={`${this.defaultTexts.entries.Lcz_SpecialRate}:`} value=\"Non-refundable\"></ir-label> */}\n          </div>\n        </div>\n        <ir-modal\n          onConfirmModal={this.deleteRoom.bind(this)}\n          iconAvailable={true}\n          icon=\"ft-alert-triangle danger h1\"\n          leftBtnText={this.defaultTexts.entries.Lcz_Cancel}\n          rightBtnText={this.defaultTexts.entries.Lcz_Delete}\n          leftBtnColor=\"secondary\"\n          rightBtnColor=\"danger\"\n          modalTitle={this.defaultTexts.entries.Lcz_Confirmation}\n          modalBody={`${this.defaultTexts.entries['Lcz_AreYouSureDoYouWantToRemove ']} ${this.item.roomtype.name} ${this.item.unit && (this.item.unit as IUnit).name} ${\n            this.defaultTexts.entries.Lcz_FromThisBooking\n          }`}\n        ></ir-modal>\n      </Host>\n    );\n  }\n}\n"],"version":3}